!function e(t,r,n){function a(o,s){if(!r[o]){if(!t[o]){var u="function"==typeof require&&require;if(!s&&u)return u(o,!0);if(i)return i(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var c=r[o]={exports:{}};t[o][0].call(c.exports,(function(e){return a(t[o][1][e]||e)}),c,c.exports,e,t,r,n)}return r[o].exports}for(var i="function"==typeof require&&require,o=0;o<n.length;o++)a(n[o]);return a}({1:[function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(){return a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=i(e,t);if(n){var a=Object.getOwnPropertyDescriptor(n,t);return a.get?a.get.call(arguments.length<3?e:r):a.value}},a.apply(this,arguments)}function i(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var a=c(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e,t,r){return t&&h(e.prototype,t),r&&h(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}Object.defineProperty(r,"__esModule",{value:!0}),r.fromBER=Pe,r.compareSchema=_e,r.verifySchema=function(e,t){if(t instanceof Object==!1)return{verified:!1,result:{error:"Wrong ASN.1 schema type"}};var r=Pe(e);if(-1===r.offset)return{verified:!1,result:r.result};return _e(r.result,r.result,t)},r.fromJSON=function(e){},r.RawData=r.Repeated=r.Any=r.Choice=r.TIME=r.Duration=r.DateTime=r.TimeOfDay=r.DATE=r.GeneralizedTime=r.UTCTime=r.CharacterString=r.GeneralString=r.VisibleString=r.GraphicString=r.IA5String=r.VideotexString=r.TeletexString=r.PrintableString=r.NumericString=r.UniversalString=r.BmpString=r.RelativeObjectIdentifier=r.Utf8String=r.ObjectIdentifier=r.Enumerated=r.Integer=r.BitString=r.OctetString=r.Null=r.Set=r.Sequence=r.Boolean=r.EndOfContent=r.Constructed=r.Primitive=r.BaseBlock=r.ValueBlock=r.HexBlock=void 0;var p=e("pvutils");function d(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var v=[new Uint8Array([1])],g="0123456789",b=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};f(this,e),this.blockLength=(0,p.getParametersValue)(t,"blockLength",0),this.error=(0,p.getParametersValue)(t,"error",""),this.warnings=(0,p.getParametersValue)(t,"warnings",[]),this.valueBeforeDecode="valueBeforeDecode"in t?t.valueBeforeDecode.slice(0):new ArrayBuffer(0)}return m(e,[{key:"toJSON",value:function(){return{blockName:this.constructor.blockName(),blockLength:this.blockLength,error:this.error,warnings:this.warnings,valueBeforeDecode:(0,p.bufferToHexCodes)(this.valueBeforeDecode,0,this.valueBeforeDecode.byteLength)}}}],[{key:"blockName",value:function(){return"baseBlock"}}]),e}(),w=function(e){return function(e){o(r,e);var t=u(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f(this,r),(e=t.call(this,n)).isHexOnly=(0,p.getParametersValue)(n,"isHexOnly",!1),e.valueHex="valueHex"in n?n.valueHex.slice(0):new ArrayBuffer(0),e}return m(r,[{key:"fromBER",value:function(e,t,r){return!1===(0,p.checkBufferParams)(this,e,t,r)?-1:0===new Uint8Array(e,t,r).length?(this.warnings.push("Zero buffer length"),t):(this.valueHex=e.slice(t,t+r),this.blockLength=r,t+r)}},{key:"toBER",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return!0!==this.isHexOnly?(this.error='Flag "isHexOnly" is not set, abort',new ArrayBuffer(0)):!0===e?new ArrayBuffer(this.valueHex.byteLength):this.valueHex.slice(0)}},{key:"toJSON",value:function(){var e={};try{e=a(c(r.prototype),"toJSON",this).call(this)}catch(e){}return e.blockName=this.constructor.blockName(),e.isHexOnly=this.isHexOnly,e.valueHex=(0,p.bufferToHexCodes)(this.valueHex,0,this.valueHex.byteLength),e}}],[{key:"blockName",value:function(){return"hexBlock"}}]),r}(e)};r.HexBlock=w;var k=function(e){o(r,e);var t=u(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f(this,r),e=t.call(this),"idBlock"in n?(e.isHexOnly=(0,p.getParametersValue)(n.idBlock,"isHexOnly",!1),e.valueHex=(0,p.getParametersValue)(n.idBlock,"valueHex",new ArrayBuffer(0)),e.tagClass=(0,p.getParametersValue)(n.idBlock,"tagClass",-1),e.tagNumber=(0,p.getParametersValue)(n.idBlock,"tagNumber",-1),e.isConstructed=(0,p.getParametersValue)(n.idBlock,"isConstructed",!1)):(e.tagClass=-1,e.tagNumber=-1,e.isConstructed=!1),e}return m(r,[{key:"toBER",value:function(){var e,t,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=0;switch(this.tagClass){case 1:n|=0;break;case 2:n|=64;break;case 3:n|=128;break;case 4:n|=192;break;default:return this.error="Unknown tag class",new ArrayBuffer(0)}if(this.isConstructed&&(n|=32),this.tagNumber<31&&!this.isHexOnly){if(e=new ArrayBuffer(1),t=new Uint8Array(e),!r){var a=this.tagNumber;n|=a&=31,t[0]=n}return e}if(!1===this.isHexOnly){var i=(0,p.utilToBase)(this.tagNumber,7),o=new Uint8Array(i),s=i.byteLength;if(e=new ArrayBuffer(s+1),(t=new Uint8Array(e))[0]=31|n,!r){for(var u=0;u<s-1;u++)t[u+1]=128|o[u];t[s]=o[s-1]}return e}if(e=new ArrayBuffer(this.valueHex.byteLength+1),(t=new Uint8Array(e))[0]=31|n,!1===r){for(var l=new Uint8Array(this.valueHex),c=0;c<l.length-1;c++)t[c+1]=128|l[c];t[this.valueHex.byteLength]=l[l.length-1]}return e}},{key:"fromBER",value:function(e,t,r){if(!1===(0,p.checkBufferParams)(this,e,t,r))return-1;var n=new Uint8Array(e,t,r);if(0===n.length)return this.error="Zero buffer length",-1;switch(192&n[0]){case 0:this.tagClass=1;break;case 64:this.tagClass=2;break;case 128:this.tagClass=3;break;case 192:this.tagClass=4;break;default:return this.error="Unknown tag class",-1}this.isConstructed=32==(32&n[0]),this.isHexOnly=!1;var a=31&n[0];if(31!==a)this.tagNumber=a,this.blockLength=1;else{var i=1;this.valueHex=new ArrayBuffer(255);for(var o=255,s=new Uint8Array(this.valueHex);128&n[i];){if(s[i-1]=127&n[i],++i>=n.length)return this.error="End of input reached before message was fully decoded",-1;if(i===o){o+=255;for(var u=new ArrayBuffer(o),l=new Uint8Array(u),c=0;c<s.length;c++)l[c]=s[c];this.valueHex=new ArrayBuffer(o),s=new Uint8Array(this.valueHex)}}this.blockLength=i+1,s[i-1]=127&n[i];for(var f=new ArrayBuffer(i),h=new Uint8Array(f),m=0;m<i;m++)h[m]=s[m];this.valueHex=new ArrayBuffer(i),(s=new Uint8Array(this.valueHex)).set(h),this.blockLength<=9?this.tagNumber=(0,p.utilFromBase)(s,7):(this.isHexOnly=!0,this.warnings.push("Tag too long, represented as hex-coded"))}if(1===this.tagClass&&this.isConstructed)switch(this.tagNumber){case 1:case 2:case 5:case 6:case 9:case 13:case 14:case 23:case 24:case 31:case 32:case 33:case 34:return this.error="Constructed encoding used for primitive type",-1}return t+this.blockLength}},{key:"toJSON",value:function(){var e={};try{e=a(c(r.prototype),"toJSON",this).call(this)}catch(e){}return e.blockName=this.constructor.blockName(),e.tagClass=this.tagClass,e.tagNumber=this.tagNumber,e.isConstructed=this.isConstructed,e}}],[{key:"blockName",value:function(){return"identificationBlock"}}]),r}(w(b)),S=function(e){o(r,e);var t=u(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f(this,r),e=t.call(this),"lenBlock"in n?(e.isIndefiniteForm=(0,p.getParametersValue)(n.lenBlock,"isIndefiniteForm",!1),e.longFormUsed=(0,p.getParametersValue)(n.lenBlock,"longFormUsed",!1),e.length=(0,p.getParametersValue)(n.lenBlock,"length",0)):(e.isIndefiniteForm=!1,e.longFormUsed=!1,e.length=0),e}return m(r,[{key:"fromBER",value:function(e,t,r){if(!1===(0,p.checkBufferParams)(this,e,t,r))return-1;var n=new Uint8Array(e,t,r);if(0===n.length)return this.error="Zero buffer length",-1;if(255===n[0])return this.error="Length block 0xFF is reserved by standard",-1;if(this.isIndefiniteForm=128===n[0],!0===this.isIndefiniteForm)return this.blockLength=1,t+this.blockLength;if(this.longFormUsed=!!(128&n[0]),!1===this.longFormUsed)return this.length=n[0],this.blockLength=1,t+this.blockLength;var a=127&n[0];if(a>8)return this.error="Too big integer",-1;if(a+1>n.length)return this.error="End of input reached before message was fully decoded",-1;for(var i=new Uint8Array(a),o=0;o<a;o++)i[o]=n[o+1];return 0===i[a-1]&&this.warnings.push("Needlessly long encoded length"),this.length=(0,p.utilFromBase)(i,8),this.longFormUsed&&this.length<=127&&this.warnings.push("Unnecessary usage of long length form"),this.blockLength=a+1,t+this.blockLength}},{key:"toBER",value:function(){var e,t,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.length>127&&(this.longFormUsed=!0),this.isIndefiniteForm)return e=new ArrayBuffer(1),!1===r&&((t=new Uint8Array(e))[0]=128),e;if(!0===this.longFormUsed){var n=(0,p.utilToBase)(this.length,8);if(n.byteLength>127)return this.error="Too big length",new ArrayBuffer(0);if(e=new ArrayBuffer(n.byteLength+1),!0===r)return e;var a=new Uint8Array(n);(t=new Uint8Array(e))[0]=128|n.byteLength;for(var i=0;i<n.byteLength;i++)t[i+1]=a[i];return e}return e=new ArrayBuffer(1),!1===r&&((t=new Uint8Array(e))[0]=this.length),e}},{key:"toJSON",value:function(){var e={};try{e=a(c(r.prototype),"toJSON",this).call(this)}catch(e){}return e.blockName=this.constructor.blockName(),e.isIndefiniteForm=this.isIndefiniteForm,e.longFormUsed=this.longFormUsed,e.length=this.length,e}}],[{key:"blockName",value:function(){return"lengthBlock"}}]),r}(b),j=function(e){o(r,e);var t=u(r);function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f(this,r),t.call(this,e)}return m(r,[{key:"fromBER",value:function(e,t,r){throw TypeError('User need to make a specific function in a class which extends "ValueBlock"')}},{key:"toBER",value:function(){throw TypeError('User need to make a specific function in a class which extends "ValueBlock"')}}],[{key:"blockName",value:function(){return"valueBlock"}}]),r}(b);r.ValueBlock=j;var P=function(e){o(r,e);var t=u(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:j;return f(this,r),e=t.call(this,n),"name"in n&&(e.name=n.name),"optional"in n&&(e.optional=n.optional),"primitiveSchema"in n&&(e.primitiveSchema=n.primitiveSchema),e.idBlock=new k(n),e.lenBlock=new S(n),e.valueBlock=new a(n),e}return m(r,[{key:"fromBER",value:function(e,t,r){var n=this.valueBlock.fromBER(e,t,!0===this.lenBlock.isIndefiniteForm?r:this.lenBlock.length);return-1===n?(this.error=this.valueBlock.error,n):(0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),n)}},{key:"toBER",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=this.idBlock.toBER(t),n=this.valueBlock.toBER(!0);this.lenBlock.length=n.byteLength;var a,i=this.lenBlock.toBER(t);if(e=(0,p.utilConcatBuf)(r,i),a=!1===t?this.valueBlock.toBER(t):new ArrayBuffer(this.lenBlock.length),e=(0,p.utilConcatBuf)(e,a),!0===this.lenBlock.isIndefiniteForm){var o=new ArrayBuffer(2);if(!1===t){var s=new Uint8Array(o);s[0]=0,s[1]=0}e=(0,p.utilConcatBuf)(e,o)}return e}},{key:"toJSON",value:function(){var e={};try{e=a(c(r.prototype),"toJSON",this).call(this)}catch(e){}return e.idBlock=this.idBlock.toJSON(),e.lenBlock=this.lenBlock.toJSON(),e.valueBlock=this.valueBlock.toJSON(),"name"in this&&(e.name=this.name),"optional"in this&&(e.optional=this.optional),"primitiveSchema"in this&&(e.primitiveSchema=this.primitiveSchema.toJSON()),e}},{key:"toString",value:function(){return"".concat(this.constructor.blockName()," : ").concat((0,p.bufferToHexCodes)(this.valueBlock.valueHex))}}],[{key:"blockName",value:function(){return"BaseBlock"}}]),r}(b);r.BaseBlock=P;var _=function(e){o(r,e);var t=u(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f(this,r),(e=t.call(this,n)).valueHex="valueHex"in n?n.valueHex.slice(0):new ArrayBuffer(0),e.isHexOnly=(0,p.getParametersValue)(n,"isHexOnly",!0),e}return m(r,[{key:"fromBER",value:function(e,t,r){if(!1===(0,p.checkBufferParams)(this,e,t,r))return-1;var n=new Uint8Array(e,t,r);if(0===n.length)return this.warnings.push("Zero buffer length"),t;this.valueHex=new ArrayBuffer(n.length);for(var a=new Uint8Array(this.valueHex),i=0;i<n.length;i++)a[i]=n[i];return this.blockLength=r,t+r}},{key:"toBER",value:function(){return this.valueHex.slice(0)}},{key:"toJSON",value:function(){var e={};try{e=a(c(r.prototype),"toJSON",this).call(this)}catch(e){}return e.valueHex=(0,p.bufferToHexCodes)(this.valueHex,0,this.valueHex.byteLength),e.isHexOnly=this.isHexOnly,e}}],[{key:"blockName",value:function(){return"PrimitiveValueBlock"}}]),r}(j),A=function(e){o(r,e);var t=u(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f(this,r),(e=t.call(this,n,_)).idBlock.isConstructed=!1,e}return m(r,null,[{key:"blockName",value:function(){return"PRIMITIVE"}}]),r}(P);r.Primitive=A;var O=function(e){o(r,e);var t=u(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f(this,r),(e=t.call(this,n)).value=(0,p.getParametersValue)(n,"value",[]),e.isIndefiniteForm=(0,p.getParametersValue)(n,"isIndefiniteForm",!1),e}return m(r,[{key:"fromBER",value:function(e,t,r){var n=t,a=r;if(!1===(0,p.checkBufferParams)(this,e,t,r))return-1;if(0===new Uint8Array(e,t,r).length)return this.warnings.push("Zero buffer length"),t;for(var i,o,s=t;i=this.isIndefiniteForm,o=r,(!0===i?1:o)>0;){var u=je(e,s,r);if(-1===u.offset)return this.error=u.result.error,this.warnings.concat(u.result.warnings),-1;if(s=u.offset,this.blockLength+=u.result.blockLength,r-=u.result.blockLength,this.value.push(u.result),!0===this.isIndefiniteForm&&u.result.constructor.blockName()===x.blockName())break}return!0===this.isIndefiniteForm&&(this.value[this.value.length-1].constructor.blockName()===x.blockName()?this.value.pop():this.warnings.push("No EndOfContent block encoded")),this.valueBeforeDecode=e.slice(n,n+a),s}},{key:"toBER",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new ArrayBuffer(0),r=0;r<this.value.length;r++){var n=this.value[r].toBER(e);t=(0,p.utilConcatBuf)(t,n)}return t}},{key:"toJSON",value:function(){var e={};try{e=a(c(r.prototype),"toJSON",this).call(this)}catch(e){}e.isIndefiniteForm=this.isIndefiniteForm,e.value=[];for(var t=0;t<this.value.length;t++)e.value.push(this.value[t].toJSON());return e}}],[{key:"blockName",value:function(){return"ConstructedValueBlock"}}]),r}(j),C=function(e){o(r,e);var t=u(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f(this,r),(e=t.call(this,n,O)).idBlock.isConstructed=!0,e}return m(r,[{key:"fromBER",value:function(e,t,r){this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm;var n=this.valueBlock.fromBER(e,t,!0===this.lenBlock.isIndefiniteForm?r:this.lenBlock.length);return-1===n?(this.error=this.valueBlock.error,n):(0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),n)}},{key:"toString",value:function(){var e,t=[],r=d(this.valueBlock.value);try{for(r.s();!(e=r.n()).done;){var n=e.value;t.push(n.toString().split("\n").map((function(e){return"  ".concat(e)})).join("\n"))}}catch(e){r.e(e)}finally{r.f()}var a=3===this.idBlock.tagClass?"[".concat(this.idBlock.tagNumber,"]"):this.constructor.blockName();return t.length?"".concat(a," :\n").concat(t.join("\n")):"".concat(a," :")}}],[{key:"blockName",value:function(){return"CONSTRUCTED"}}]),r}(P);r.Constructed=C;var I=function(e){o(r,e);var t=u(r);function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f(this,r),t.call(this,e)}return m(r,[{key:"fromBER",value:function(e,t,r){return t}},{key:"toBER",value:function(){return new ArrayBuffer(0)}}],[{key:"blockName",value:function(){return"EndOfContentValueBlock"}}]),r}(j),x=function(e){o(r,e);var t=u(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f(this,r),(e=t.call(this,n,I)).idBlock.tagClass=1,e.idBlock.tagNumber=0,e}return m(r,null,[{key:"blockName",value:function(){return"EndOfContent"}}]),r}(P);r.EndOfContent=x;var B=function(e){o(r,e);var t=u(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(f(this,r),(e=t.call(this,n)).value=(0,p.getParametersValue)(n,"value",!1),e.isHexOnly=(0,p.getParametersValue)(n,"isHexOnly",!1),"valueHex"in n)e.valueHex=n.valueHex.slice(0);else if(e.valueHex=new ArrayBuffer(1),!0===e.value){var a=new Uint8Array(e.valueHex);a[0]=255}return e}return m(r,[{key:"fromBER",value:function(e,t,r){if(!1===(0,p.checkBufferParams)(this,e,t,r))return-1;var n=new Uint8Array(e,t,r);r>1&&this.warnings.push("Boolean value encoded in more then 1 octet"),this.isHexOnly=!0,this.valueHex=new ArrayBuffer(n.length);for(var a=new Uint8Array(this.valueHex),i=0;i<n.length;i++)a[i]=n[i];return 0!==p.utilDecodeTC.call(this)?this.value=!0:this.value=!1,this.blockLength=r,t+r}},{key:"toBER",value:function(){return this.valueHex}},{key:"toJSON",value:function(){var e={};try{e=a(c(r.prototype),"toJSON",this).call(this)}catch(e){}return e.value=this.value,e.isHexOnly=this.isHexOnly,e.valueHex=(0,p.bufferToHexCodes)(this.valueHex,0,this.valueHex.byteLength),e}}],[{key:"blockName",value:function(){return"BooleanValueBlock"}}]),r}(j),E=function(e){o(r,e);var t=u(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f(this,r),(e=t.call(this,n,B)).idBlock.tagClass=1,e.idBlock.tagNumber=1,e}return m(r,[{key:"toString",value:function(){return"".concat(this.constructor.blockName()," : ").concat(this.valueBlock.value)}}],[{key:"blockName",value:function(){return"BOOLEAN"}}]),r}(P);r.Boolean=E;var N=function(e){o(r,e);var t=u(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f(this,r),(e=t.call(this,n)).idBlock.tagClass=1,e.idBlock.tagNumber=16,e}return m(r,null,[{key:"blockName",value:function(){return"SEQUENCE"}}]),r}(C);r.Sequence=N;var V=function(e){o(r,e);var t=u(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f(this,r),(e=t.call(this,n)).idBlock.tagClass=1,e.idBlock.tagNumber=17,e}return m(r,null,[{key:"blockName",value:function(){return"SET"}}]),r}(C);r.Set=V;var D=function(e){o(r,e);var t=u(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f(this,r),(e=t.call(this,n,b)).idBlock.tagClass=1,e.idBlock.tagNumber=5,e}return m(r,[{key:"fromBER",value:function(e,t,r){return this.lenBlock.length>0&&this.warnings.push("Non-zero length of value block for Null type"),0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),this.blockLength+=r,t+r>e.byteLength?(this.error="End of input reached before message was fully decoded (inconsistent offset and length values)",-1):t+r}},{key:"toBER",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new ArrayBuffer(2);if(!0===e)return t;var r=new Uint8Array(t);return r[0]=5,r[1]=0,t}},{key:"toString",value:function(){return"".concat(this.constructor.blockName())}}],[{key:"blockName",value:function(){return"NULL"}}]),r}(P);r.Null=D;var R=function(e){o(r,e);var t=u(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f(this,r),(e=t.call(this,n)).isConstructed=(0,p.getParametersValue)(n,"isConstructed",!1),e}return m(r,[{key:"fromBER",value:function(e,t,n){var i=0;if(!0===this.isConstructed){if(this.isHexOnly=!1,-1===(i=O.prototype.fromBER.call(this,e,t,n)))return i;for(var o=0;o<this.value.length;o++){var s=this.value[o].constructor.blockName();if(s===x.blockName()){if(!0===this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, OCTET STRING may consists of OCTET STRINGs only",-1}if(s!==M.blockName())return this.error="OCTET STRING may consists of OCTET STRINGs only",-1}}else this.isHexOnly=!0,i=a(c(r.prototype),"fromBER",this).call(this,e,t,n),this.blockLength=n;return i}},{key:"toBER",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!0===this.isConstructed)return O.prototype.toBER.call(this,e);var t=new ArrayBuffer(this.valueHex.byteLength);return!0===e||0===this.valueHex.byteLength?t:t=this.valueHex.slice(0)}},{key:"toJSON",value:function(){var e={};try{e=a(c(r.prototype),"toJSON",this).call(this)}catch(e){}return e.isConstructed=this.isConstructed,e.isHexOnly=this.isHexOnly,e.valueHex=(0,p.bufferToHexCodes)(this.valueHex,0,this.valueHex.byteLength),e}}],[{key:"blockName",value:function(){return"OctetStringValueBlock"}}]),r}(w(O)),M=function(e){o(r,e);var t=u(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f(this,r),(e=t.call(this,n,R)).idBlock.tagClass=1,e.idBlock.tagNumber=4,e}return m(r,[{key:"fromBER",value:function(e,t,n){if(this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,0===n)return 0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),t;if(!this.valueBlock.isConstructed){var i=e.slice(t,t+n);try{var o=Pe(i);-1!==o.offset&&o.offset===n&&(this.valueBlock.value=[o.result])}catch(e){}}return a(c(r.prototype),"fromBER",this).call(this,e,t,n)}},{key:"isEqual",value:function(e){return e instanceof r!=!1&&JSON.stringify(this)===JSON.stringify(e)}},{key:"toString",value:function(){return this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length?C.prototype.toString.call(this):"".concat(this.constructor.blockName()," : ").concat((0,p.bufferToHexCodes)(this.valueBlock.valueHex))}}],[{key:"blockName",value:function(){return"OCTET STRING"}}]),r}(P);r.OctetString=M;var T=function(e){o(r,e);var t=u(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f(this,r),(e=t.call(this,n)).unusedBits=(0,p.getParametersValue)(n,"unusedBits",0),e.isConstructed=(0,p.getParametersValue)(n,"isConstructed",!1),e.blockLength=e.valueHex.byteLength,e}return m(r,[{key:"fromBER",value:function(e,t,r){if(0===r)return t;var n=-1;if(!0===this.isConstructed){if(-1===(n=O.prototype.fromBER.call(this,e,t,r)))return n;for(var a=0;a<this.value.length;a++){var i=this.value[a].constructor.blockName();if(i===x.blockName()){if(!0===this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, BIT STRING may consists of BIT STRINGs only",-1}if(i!==K.blockName())return this.error="BIT STRING may consists of BIT STRINGs only",-1;if(this.unusedBits>0&&this.value[a].valueBlock.unusedBits>0)return this.error='Using of "unused bits" inside constructive BIT STRING allowed for least one only',-1;if(this.unusedBits=this.value[a].valueBlock.unusedBits,this.unusedBits>7)return this.error="Unused bits for BitString must be in range 0-7",-1}return n}if(!1===(0,p.checkBufferParams)(this,e,t,r))return-1;var o=new Uint8Array(e,t,r);if(this.unusedBits=o[0],this.unusedBits>7)return this.error="Unused bits for BitString must be in range 0-7",-1;if(!this.unusedBits){var s=e.slice(t+1,t+r);try{var u=Pe(s);-1!==u.offset&&u.offset===r-1&&(this.value=[u.result])}catch(e){}}this.valueHex=new ArrayBuffer(o.length-1);for(var l=new Uint8Array(this.valueHex),c=0;c<r-1;c++)l[c]=o[c+1];return this.blockLength=o.length,t+r}},{key:"toBER",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!0===this.isConstructed)return O.prototype.toBER.call(this,e);if(!0===e)return new ArrayBuffer(this.valueHex.byteLength+1);if(0===this.valueHex.byteLength)return new ArrayBuffer(0);var t=new Uint8Array(this.valueHex),r=new ArrayBuffer(this.valueHex.byteLength+1),n=new Uint8Array(r);n[0]=this.unusedBits;for(var a=0;a<this.valueHex.byteLength;a++)n[a+1]=t[a];return r}},{key:"toJSON",value:function(){var e={};try{e=a(c(r.prototype),"toJSON",this).call(this)}catch(e){}return e.unusedBits=this.unusedBits,e.isConstructed=this.isConstructed,e.isHexOnly=this.isHexOnly,e.valueHex=(0,p.bufferToHexCodes)(this.valueHex,0,this.valueHex.byteLength),e}}],[{key:"blockName",value:function(){return"BitStringValueBlock"}}]),r}(w(O)),K=function(e){o(r,e);var t=u(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f(this,r),(e=t.call(this,n,T)).idBlock.tagClass=1,e.idBlock.tagNumber=3,e}return m(r,[{key:"fromBER",value:function(e,t,n){return 0===n?t:(this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,a(c(r.prototype),"fromBER",this).call(this,e,t,n))}},{key:"isEqual",value:function(e){return e instanceof r!=!1&&JSON.stringify(this)===JSON.stringify(e)}},{key:"toString",value:function(){if(this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length)return C.prototype.toString.call(this);var e,t=[],r=d(new Uint8Array(this.valueBlock.valueHex));try{for(r.s();!(e=r.n()).done;){var n=e.value;t.push(n.toString(2).padStart(8,"0"))}}catch(e){r.e(e)}finally{r.f()}return"".concat(this.constructor.blockName()," : ").concat(t.join(""))}}],[{key:"blockName",value:function(){return"BIT STRING"}}]),r}(P);r.BitString=K;var L=function(e){o(r,e);var t=u(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f(this,r),e=t.call(this,n),"value"in n&&(e.valueDec=n.value),e}return m(r,[{key:"valueHex",get:function(){return this._valueHex},set:function(e){this._valueHex=e.slice(0),e.byteLength>=4?(this.warnings.push("Too big Integer for decoding, hex only"),this.isHexOnly=!0,this._valueDec=0):(this.isHexOnly=!1,e.byteLength>0&&(this._valueDec=p.utilDecodeTC.call(this)))}},{key:"valueDec",get:function(){return this._valueDec},set:function(e){this._valueDec=e,this.isHexOnly=!1,this._valueHex=(0,p.utilEncodeTC)(e)}},{key:"fromDER",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=this.fromBER(e,t,r);if(-1===a)return a;var i=new Uint8Array(this._valueHex);if(0===i[0]&&0!=(128&i[1])){var o=new ArrayBuffer(this._valueHex.byteLength-1),s=new Uint8Array(o);s.set(new Uint8Array(this._valueHex,1,this._valueHex.byteLength-1)),this._valueHex=o.slice(0)}else if(0!==n&&this._valueHex.byteLength<n){n-this._valueHex.byteLength>1&&(n=this._valueHex.byteLength+1);var u=new ArrayBuffer(n),l=new Uint8Array(u);l.set(i,n-this._valueHex.byteLength),this._valueHex=u.slice(0)}return a}},{key:"toDER",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new Uint8Array(this._valueHex);switch(!0){case 0!=(128&t[0]):var r=new ArrayBuffer(this._valueHex.byteLength+1),n=new Uint8Array(r);n[0]=0,n.set(t,1),this._valueHex=r.slice(0);break;case 0===t[0]&&0==(128&t[1]):var a=new ArrayBuffer(this._valueHex.byteLength-1),i=new Uint8Array(a);i.set(new Uint8Array(this._valueHex,1,this._valueHex.byteLength-1)),this._valueHex=a.slice(0)}return this.toBER(e)}},{key:"fromBER",value:function(e,t,n){var i=a(c(r.prototype),"fromBER",this).call(this,e,t,n);return-1===i?i:(this.blockLength=n,t+n)}},{key:"toBER",value:function(){return this.valueHex.slice(0)}},{key:"toJSON",value:function(){var e={};try{e=a(c(r.prototype),"toJSON",this).call(this)}catch(e){}return e.valueDec=this.valueDec,e}},{key:"toString",value:function(){function e(e,t){for(var r=new Uint8Array([0]),n=new Uint8Array(e),a=new Uint8Array(t),i=n.slice(0),o=i.length-1,s=a.slice(0),u=s.length-1,l=0,c=0,f=u<o?o:u;f>=0;f--,c++){if(!0==c<s.length)l=i[o-c]+s[u-c]+r[0];else l=i[o-c]+r[0];if(r[0]=l/10,!0==c>=i.length)i=(0,p.utilConcatView)(new Uint8Array([l%10]),i);else i[o-c]=l%10}return r[0]>0&&(i=(0,p.utilConcatView)(r,i)),i.slice(0)}function t(e){if(e>=v.length)for(var t=v.length;t<=e;t++){for(var r=new Uint8Array([0]),n=v[t-1].slice(0),a=n.length-1;a>=0;a--){var i=new Uint8Array([(n[a]<<1)+r[0]]);r[0]=i[0]/10,n[a]=i[0]%10}r[0]>0&&(n=(0,p.utilConcatView)(r,n)),v.push(n)}return v[e]}function r(e,t){for(var r,n=0,a=new Uint8Array(e),i=new Uint8Array(t),o=a.slice(0),s=o.length-1,u=i.slice(0),l=u.length-1,c=0,f=l;f>=0;f--,c++)if(!0==(r=o[s-c]-u[l-c]-n)<0)n=1,o[s-c]=r+10;else n=0,o[s-c]=r;if(n>0)for(var h=s-l+1;h>=0;h--,c++){if(!((r=o[s-c]-n)<0)){n=0,o[s-c]=r;break}n=1,o[s-c]=r+10}return o.slice()}for(var n,a=8*this._valueHex.byteLength-1,i=new Uint8Array(8*this._valueHex.byteLength/3),o=0,s=new Uint8Array(this._valueHex),u="",l=!1,c=this._valueHex.byteLength-1;c>=0;c--){n=s[c];for(var f=0;f<8;f++){if(1==(1&n))if(o===a)i=r(t(o),i),u="-";else i=e(i,t(o));o++,n>>=1}}for(var h=0;h<i.length;h++)i[h]&&(l=!0),l&&(u+=g.charAt(i[h]));return!1===l&&(u+=g.charAt(0)),u}}],[{key:"blockName",value:function(){return"IntegerValueBlock"}}]),r}(w(j)),U=function(e){o(r,e);var t=u(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f(this,r),(e=t.call(this,n,L)).idBlock.tagClass=1,e.idBlock.tagNumber=2,e}return m(r,[{key:"isEqual",value:function(e){return e instanceof r?this.valueBlock.isHexOnly&&e.valueBlock.isHexOnly?(0,p.isEqualBuffer)(this.valueBlock.valueHex,e.valueBlock.valueHex):this.valueBlock.isHexOnly===e.valueBlock.isHexOnly&&this.valueBlock.valueDec===e.valueBlock.valueDec:e instanceof ArrayBuffer&&(0,p.isEqualBuffer)(this.valueBlock.valueHex,e)}},{key:"convertToDER",value:function(){var e=new r({valueHex:this.valueBlock.valueHex});return e.valueBlock.toDER(),e}},{key:"convertFromDER",value:function(){var e=this.valueBlock.valueHex.byteLength%2?this.valueBlock.valueHex.byteLength+1:this.valueBlock.valueHex.byteLength,t=new r({valueHex:this.valueBlock.valueHex});return t.valueBlock.fromDER(t.valueBlock.valueHex,0,t.valueBlock.valueHex.byteLength,e),t}},{key:"toString",value:function(){var e=(0,p.bufferToHexCodes)(this.valueBlock.valueHex),t=BigInt("0x".concat(e));return"".concat(this.constructor.blockName()," : ").concat(t.toString())}}],[{key:"blockName",value:function(){return"INTEGER"}}]),r}(P);r.Integer=U;var q=function(e){o(r,e);var t=u(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f(this,r),(e=t.call(this,n)).idBlock.tagClass=1,e.idBlock.tagNumber=10,e}return m(r,null,[{key:"blockName",value:function(){return"ENUMERATED"}}]),r}(U);r.Enumerated=q;var H=function(e){o(r,e);var t=u(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f(this,r),(e=t.call(this,n)).valueDec=(0,p.getParametersValue)(n,"valueDec",-1),e.isFirstSid=(0,p.getParametersValue)(n,"isFirstSid",!1),e}return m(r,[{key:"fromBER",value:function(e,t,r){if(0===r)return t;if(!1===(0,p.checkBufferParams)(this,e,t,r))return-1;var n=new Uint8Array(e,t,r);this.valueHex=new ArrayBuffer(r);for(var a=new Uint8Array(this.valueHex),i=0;i<r&&(a[i]=127&n[i],this.blockLength++,0!=(128&n[i]));i++);for(var o=new ArrayBuffer(this.blockLength),s=new Uint8Array(o),u=0;u<this.blockLength;u++)s[u]=a[u];return this.valueHex=o.slice(0),a=new Uint8Array(this.valueHex),0!=(128&n[this.blockLength-1])?(this.error="End of input reached before message was fully decoded",-1):(0===a[0]&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=(0,p.utilFromBase)(a,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),t+this.blockLength)}},{key:"toBER",value:function(){var e,t,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isHexOnly){if(!0===r)return new ArrayBuffer(this.valueHex.byteLength);var n=new Uint8Array(this.valueHex);e=new ArrayBuffer(this.blockLength),t=new Uint8Array(e);for(var a=0;a<this.blockLength-1;a++)t[a]=128|n[a];return t[this.blockLength-1]=n[this.blockLength-1],e}var i=(0,p.utilToBase)(this.valueDec,7);if(0===i.byteLength)return this.error="Error during encoding SID value",new ArrayBuffer(0);if(e=new ArrayBuffer(i.byteLength),!1===r){var o=new Uint8Array(i);t=new Uint8Array(e);for(var s=0;s<i.byteLength-1;s++)t[s]=128|o[s];t[i.byteLength-1]=o[i.byteLength-1]}return e}},{key:"toString",value:function(){var e="";if(!0===this.isHexOnly)e=(0,p.bufferToHexCodes)(this.valueHex,0,this.valueHex.byteLength);else if(this.isFirstSid){var t=this.valueDec;this.valueDec<=39?e="0.":this.valueDec<=79?(e="1.",t-=40):(e="2.",t-=80),e+=t.toString()}else e=this.valueDec.toString();return e}},{key:"toJSON",value:function(){var e={};try{e=a(c(r.prototype),"toJSON",this).call(this)}catch(e){}return e.valueDec=this.valueDec,e.isFirstSid=this.isFirstSid,e}}],[{key:"blockName",value:function(){return"sidBlock"}}]),r}(w(b)),W=function(e){o(r,e);var t=u(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f(this,r),(e=t.call(this,n)).fromString((0,p.getParametersValue)(n,"value","")),e}return m(r,[{key:"fromBER",value:function(e,t,r){for(var n=t;r>0;){var a=new H;if(-1===(n=a.fromBER(e,n,r)))return this.blockLength=0,this.error=a.error,n;0===this.value.length&&(a.isFirstSid=!0),this.blockLength+=a.blockLength,r-=a.blockLength,this.value.push(a)}return n}},{key:"toBER",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new ArrayBuffer(0),r=0;r<this.value.length;r++){var n=this.value[r].toBER(e);if(0===n.byteLength)return this.error=this.value[r].error,new ArrayBuffer(0);t=(0,p.utilConcatBuf)(t,n)}return t}},{key:"fromString",value:function(e){this.value=[];var t=0,r=0,n="",a=!1;do{if(n=-1===(r=e.indexOf(".",t))?e.substr(t):e.substr(t,r-t),t=r+1,a){var i=this.value[0],o=0;switch(i.valueDec){case 0:break;case 1:o=40;break;case 2:o=80;break;default:return this.value=[],!1}var s=parseInt(n,10);if(isNaN(s))return!0;i.valueDec=s+o,a=!1}else{var u=new H;if(u.valueDec=parseInt(n,10),isNaN(u.valueDec))return!0;0===this.value.length&&(u.isFirstSid=!0,a=!0),this.value.push(u)}}while(-1!==r);return!0}},{key:"toString",value:function(){for(var e="",t=!1,r=0;r<this.value.length;r++){t=this.value[r].isHexOnly;var n=this.value[r].toString();0!==r&&(e="".concat(e,".")),t?(n="{".concat(n,"}"),this.value[r].isFirstSid?e="2.{".concat(n," - 80}"):e+=n):e+=n}return e}},{key:"toJSON",value:function(){var e={};try{e=a(c(r.prototype),"toJSON",this).call(this)}catch(e){}e.value=this.toString(),e.sidArray=[];for(var t=0;t<this.value.length;t++)e.sidArray.push(this.value[t].toJSON());return e}}],[{key:"blockName",value:function(){return"ObjectIdentifierValueBlock"}}]),r}(j),J=function(e){o(r,e);var t=u(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f(this,r),(e=t.call(this,n,W)).idBlock.tagClass=1,e.idBlock.tagNumber=6,e}return m(r,[{key:"toString",value:function(){return"".concat(this.constructor.blockName()," : ").concat(this.valueBlock.toString())}}],[{key:"blockName",value:function(){return"OBJECT IDENTIFIER"}}]),r}(P);r.ObjectIdentifier=J;var F=function(e){o(r,e);var t=u(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f(this,r),(e=t.call(this,n)).isHexOnly=!0,e.value="",e}return m(r,[{key:"toJSON",value:function(){var e={};try{e=a(c(r.prototype),"toJSON",this).call(this)}catch(e){}return e.value=this.value,e}}],[{key:"blockName",value:function(){return"Utf8StringValueBlock"}}]),r}(w(b)),G=function(e){o(r,e);var t=u(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f(this,r),e=t.call(this,n,F),"value"in n&&e.fromString(n.value),e.idBlock.tagClass=1,e.idBlock.tagNumber=12,e}return m(r,[{key:"fromBER",value:function(e,t,r){var n=this.valueBlock.fromBER(e,t,!0===this.lenBlock.isIndefiniteForm?r:this.lenBlock.length);return-1===n?(this.error=this.valueBlock.error,n):(this.fromBuffer(this.valueBlock.valueHex),0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),n)}},{key:"fromBuffer",value:function(e){this.valueBlock.value=String.fromCharCode.apply(null,new Uint8Array(e));try{this.valueBlock.value=decodeURIComponent(escape(this.valueBlock.value))}catch(e){this.warnings.push('Error during "decodeURIComponent": '.concat(e,", using raw string"))}}},{key:"fromString",value:function(e){var t=unescape(encodeURIComponent(e)),r=t.length;this.valueBlock.valueHex=new ArrayBuffer(r);for(var n=new Uint8Array(this.valueBlock.valueHex),a=0;a<r;a++)n[a]=t.charCodeAt(a);this.valueBlock.value=e}},{key:"toString",value:function(){return"".concat(this.constructor.blockName()," : ").concat(this.valueBlock.value)}}],[{key:"blockName",value:function(){return"UTF8String"}}]),r}(P);r.Utf8String=G;var z=function(e){o(r,e);var t=u(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f(this,r),(e=t.call(this,n)).valueDec=(0,p.getParametersValue)(n,"valueDec",-1),e}return m(r,[{key:"fromBER",value:function(e,t,r){if(0===r)return t;if(!1===(0,p.checkBufferParams)(this,e,t,r))return-1;var n=new Uint8Array(e,t,r);this.valueHex=new ArrayBuffer(r);for(var a=new Uint8Array(this.valueHex),i=0;i<r&&(a[i]=127&n[i],this.blockLength++,0!=(128&n[i]));i++);for(var o=new ArrayBuffer(this.blockLength),s=new Uint8Array(o),u=0;u<this.blockLength;u++)s[u]=a[u];return this.valueHex=o.slice(0),a=new Uint8Array(this.valueHex),0!=(128&n[this.blockLength-1])?(this.error="End of input reached before message was fully decoded",-1):(0===a[0]&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=(0,p.utilFromBase)(a,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),t+this.blockLength)}},{key:"toBER",value:function(){var e,t,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isHexOnly){if(!0===r)return new ArrayBuffer(this.valueHex.byteLength);var n=new Uint8Array(this.valueHex);e=new ArrayBuffer(this.blockLength),t=new Uint8Array(e);for(var a=0;a<this.blockLength-1;a++)t[a]=128|n[a];return t[this.blockLength-1]=n[this.blockLength-1],e}var i=(0,p.utilToBase)(this.valueDec,7);if(0===i.byteLength)return this.error="Error during encoding SID value",new ArrayBuffer(0);if(e=new ArrayBuffer(i.byteLength),!1===r){var o=new Uint8Array(i);t=new Uint8Array(e);for(var s=0;s<i.byteLength-1;s++)t[s]=128|o[s];t[i.byteLength-1]=o[i.byteLength-1]}return e}},{key:"toString",value:function(){return!0===this.isHexOnly?(0,p.bufferToHexCodes)(this.valueHex,0,this.valueHex.byteLength):this.valueDec.toString()}},{key:"toJSON",value:function(){var e={};try{e=a(c(r.prototype),"toJSON",this).call(this)}catch(e){}return e.valueDec=this.valueDec,e}}],[{key:"blockName",value:function(){return"relativeSidBlock"}}]),r}(w(b)),Q=function(e){o(r,e);var t=u(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f(this,r),(e=t.call(this,n)).fromString((0,p.getParametersValue)(n,"value","")),e}return m(r,[{key:"fromBER",value:function(e,t,r){for(var n=t;r>0;){var a=new z;if(-1===(n=a.fromBER(e,n,r)))return this.blockLength=0,this.error=a.error,n;this.blockLength+=a.blockLength,r-=a.blockLength,this.value.push(a)}return n}},{key:"toBER",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new ArrayBuffer(0),r=0;r<this.value.length;r++){var n=this.value[r].toBER(e);if(0===n.byteLength)return this.error=this.value[r].error,new ArrayBuffer(0);t=(0,p.utilConcatBuf)(t,n)}return t}},{key:"fromString",value:function(e){this.value=[];var t=0,r=0,n="";do{n=-1===(r=e.indexOf(".",t))?e.substr(t):e.substr(t,r-t),t=r+1;var a=new z;if(a.valueDec=parseInt(n,10),isNaN(a.valueDec))return!0;this.value.push(a)}while(-1!==r);return!0}},{key:"toString",value:function(){for(var e="",t=!1,r=0;r<this.value.length;r++){t=this.value[r].isHexOnly;var n=this.value[r].toString();0!==r&&(e="".concat(e,".")),e+=t?n="{".concat(n,"}"):n}return e}},{key:"toJSON",value:function(){var e={};try{e=a(c(r.prototype),"toJSON",this).call(this)}catch(e){}e.value=this.toString(),e.sidArray=[];for(var t=0;t<this.value.length;t++)e.sidArray.push(this.value[t].toJSON());return e}}],[{key:"blockName",value:function(){return"RelativeObjectIdentifierValueBlock"}}]),r}(j),$=function(e){o(r,e);var t=u(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f(this,r),(e=t.call(this,n,Q)).idBlock.tagClass=1,e.idBlock.tagNumber=13,e}return m(r,null,[{key:"blockName",value:function(){return"RelativeObjectIdentifier"}}]),r}(P);r.RelativeObjectIdentifier=$;var Y=function(e){o(r,e);var t=u(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f(this,r),(e=t.call(this,n)).isHexOnly=!0,e.value="",e}return m(r,[{key:"toJSON",value:function(){var e={};try{e=a(c(r.prototype),"toJSON",this).call(this)}catch(e){}return e.value=this.value,e}}],[{key:"blockName",value:function(){return"BmpStringValueBlock"}}]),r}(w(b)),Z=function(e){o(r,e);var t=u(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f(this,r),e=t.call(this,n,Y),"value"in n&&e.fromString(n.value),e.idBlock.tagClass=1,e.idBlock.tagNumber=30,e}return m(r,[{key:"fromBER",value:function(e,t,r){var n=this.valueBlock.fromBER(e,t,!0===this.lenBlock.isIndefiniteForm?r:this.lenBlock.length);return-1===n?(this.error=this.valueBlock.error,n):(this.fromBuffer(this.valueBlock.valueHex),0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),n)}},{key:"fromBuffer",value:function(e){for(var t=e.slice(0),r=new Uint8Array(t),n=0;n<r.length;n+=2){var a=r[n];r[n]=r[n+1],r[n+1]=a}this.valueBlock.value=String.fromCharCode.apply(null,new Uint16Array(t))}},{key:"fromString",value:function(e){var t=e.length;this.valueBlock.valueHex=new ArrayBuffer(2*t);for(var r=new Uint8Array(this.valueBlock.valueHex),n=0;n<t;n++){var a=(0,p.utilToBase)(e.charCodeAt(n),8),i=new Uint8Array(a);if(!(i.length>2))for(var o=2-i.length,s=i.length-1;s>=0;s--)r[2*n+s+o]=i[s]}this.valueBlock.value=e}},{key:"toString",value:function(){return"".concat(this.constructor.blockName()," : ").concat(this.valueBlock.value)}}],[{key:"blockName",value:function(){return"BMPString"}}]),r}(P);r.BmpString=Z;var X=function(e){o(r,e);var t=u(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f(this,r),(e=t.call(this,n)).isHexOnly=!0,e.value="",e}return m(r,[{key:"toJSON",value:function(){var e={};try{e=a(c(r.prototype),"toJSON",this).call(this)}catch(e){}return e.value=this.value,e}}],[{key:"blockName",value:function(){return"UniversalStringValueBlock"}}]),r}(w(b)),ee=function(e){o(r,e);var t=u(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f(this,r),e=t.call(this,n,X),"value"in n&&e.fromString(n.value),e.idBlock.tagClass=1,e.idBlock.tagNumber=28,e}return m(r,[{key:"fromBER",value:function(e,t,r){var n=this.valueBlock.fromBER(e,t,!0===this.lenBlock.isIndefiniteForm?r:this.lenBlock.length);return-1===n?(this.error=this.valueBlock.error,n):(this.fromBuffer(this.valueBlock.valueHex),0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),n)}},{key:"fromBuffer",value:function(e){for(var t=e.slice(0),r=new Uint8Array(t),n=0;n<r.length;n+=4)r[n]=r[n+3],r[n+1]=r[n+2],r[n+2]=0,r[n+3]=0;this.valueBlock.value=String.fromCharCode.apply(null,new Uint32Array(t))}},{key:"fromString",value:function(e){var t=e.length;this.valueBlock.valueHex=new ArrayBuffer(4*t);for(var r=new Uint8Array(this.valueBlock.valueHex),n=0;n<t;n++){var a=(0,p.utilToBase)(e.charCodeAt(n),8),i=new Uint8Array(a);if(!(i.length>4))for(var o=4-i.length,s=i.length-1;s>=0;s--)r[4*n+s+o]=i[s]}this.valueBlock.value=e}},{key:"toString",value:function(){return"".concat(this.constructor.blockName()," : ").concat(this.valueBlock.value)}}],[{key:"blockName",value:function(){return"UniversalString"}}]),r}(P);r.UniversalString=ee;var te=function(e){o(r,e);var t=u(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f(this,r),(e=t.call(this,n)).value="",e.isHexOnly=!0,e}return m(r,[{key:"toJSON",value:function(){var e={};try{e=a(c(r.prototype),"toJSON",this).call(this)}catch(e){}return e.value=this.value,e}}],[{key:"blockName",value:function(){return"SimpleStringValueBlock"}}]),r}(w(b)),re=function(e){o(r,e);var t=u(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f(this,r),e=t.call(this,n,te),"value"in n&&e.fromString(n.value),e}return m(r,[{key:"fromBER",value:function(e,t,r){var n=this.valueBlock.fromBER(e,t,!0===this.lenBlock.isIndefiniteForm?r:this.lenBlock.length);return-1===n?(this.error=this.valueBlock.error,n):(this.fromBuffer(this.valueBlock.valueHex),0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),n)}},{key:"fromBuffer",value:function(e){this.valueBlock.value=String.fromCharCode.apply(null,new Uint8Array(e))}},{key:"fromString",value:function(e){var t=e.length;this.valueBlock.valueHex=new ArrayBuffer(t);for(var r=new Uint8Array(this.valueBlock.valueHex),n=0;n<t;n++)r[n]=e.charCodeAt(n);this.valueBlock.value=e}},{key:"toString",value:function(){return"".concat(this.constructor.blockName()," : ").concat(this.valueBlock.value)}}],[{key:"blockName",value:function(){return"SIMPLESTRING"}}]),r}(P),ne=function(e){o(r,e);var t=u(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f(this,r),(e=t.call(this,n)).idBlock.tagClass=1,e.idBlock.tagNumber=18,e}return m(r,null,[{key:"blockName",value:function(){return"NumericString"}}]),r}(re);r.NumericString=ne;var ae=function(e){o(r,e);var t=u(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f(this,r),(e=t.call(this,n)).idBlock.tagClass=1,e.idBlock.tagNumber=19,e}return m(r,null,[{key:"blockName",value:function(){return"PrintableString"}}]),r}(re);r.PrintableString=ae;var ie=function(e){o(r,e);var t=u(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f(this,r),(e=t.call(this,n)).idBlock.tagClass=1,e.idBlock.tagNumber=20,e}return m(r,null,[{key:"blockName",value:function(){return"TeletexString"}}]),r}(re);r.TeletexString=ie;var oe=function(e){o(r,e);var t=u(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f(this,r),(e=t.call(this,n)).idBlock.tagClass=1,e.idBlock.tagNumber=21,e}return m(r,null,[{key:"blockName",value:function(){return"VideotexString"}}]),r}(re);r.VideotexString=oe;var se=function(e){o(r,e);var t=u(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f(this,r),(e=t.call(this,n)).idBlock.tagClass=1,e.idBlock.tagNumber=22,e}return m(r,null,[{key:"blockName",value:function(){return"IA5String"}}]),r}(re);r.IA5String=se;var ue=function(e){o(r,e);var t=u(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f(this,r),(e=t.call(this,n)).idBlock.tagClass=1,e.idBlock.tagNumber=25,e}return m(r,null,[{key:"blockName",value:function(){return"GraphicString"}}]),r}(re);r.GraphicString=ue;var le=function(e){o(r,e);var t=u(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f(this,r),(e=t.call(this,n)).idBlock.tagClass=1,e.idBlock.tagNumber=26,e}return m(r,null,[{key:"blockName",value:function(){return"VisibleString"}}]),r}(re);r.VisibleString=le;var ce=function(e){o(r,e);var t=u(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f(this,r),(e=t.call(this,n)).idBlock.tagClass=1,e.idBlock.tagNumber=27,e}return m(r,null,[{key:"blockName",value:function(){return"GeneralString"}}]),r}(re);r.GeneralString=ce;var fe=function(e){o(r,e);var t=u(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f(this,r),(e=t.call(this,n)).idBlock.tagClass=1,e.idBlock.tagNumber=29,e}return m(r,null,[{key:"blockName",value:function(){return"CharacterString"}}]),r}(re);r.CharacterString=fe;var he=function(e){o(r,e);var t=u(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(f(this,r),(e=t.call(this,n)).year=0,e.month=0,e.day=0,e.hour=0,e.minute=0,e.second=0,"value"in n){e.fromString(n.value),e.valueBlock.valueHex=new ArrayBuffer(n.value.length);for(var a=new Uint8Array(e.valueBlock.valueHex),i=0;i<n.value.length;i++)a[i]=n.value.charCodeAt(i)}return"valueDate"in n&&(e.fromDate(n.valueDate),e.valueBlock.valueHex=e.toBuffer()),e.idBlock.tagClass=1,e.idBlock.tagNumber=23,e}return m(r,[{key:"fromBER",value:function(e,t,r){var n=this.valueBlock.fromBER(e,t,!0===this.lenBlock.isIndefiniteForm?r:this.lenBlock.length);return-1===n?(this.error=this.valueBlock.error,n):(this.fromBuffer(this.valueBlock.valueHex),0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),n)}},{key:"fromBuffer",value:function(e){this.fromString(String.fromCharCode.apply(null,new Uint8Array(e)))}},{key:"toBuffer",value:function(){for(var e=this.toString(),t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n<e.length;n++)r[n]=e.charCodeAt(n);return t}},{key:"fromDate",value:function(e){this.year=e.getUTCFullYear(),this.month=e.getUTCMonth()+1,this.day=e.getUTCDate(),this.hour=e.getUTCHours(),this.minute=e.getUTCMinutes(),this.second=e.getUTCSeconds()}},{key:"toDate",value:function(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second))}},{key:"fromString",value:function(e){var t=/(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})Z/gi.exec(e);if(null!==t){var r=parseInt(t[1],10);this.year=r>=50?1900+r:2e3+r,this.month=parseInt(t[2],10),this.day=parseInt(t[3],10),this.hour=parseInt(t[4],10),this.minute=parseInt(t[5],10),this.second=parseInt(t[6],10)}else this.error="Wrong input string for convertion"}},{key:"toString",value:function(){var e=new Array(7);return e[0]=(0,p.padNumber)(this.year<2e3?this.year-1900:this.year-2e3,2),e[1]=(0,p.padNumber)(this.month,2),e[2]=(0,p.padNumber)(this.day,2),e[3]=(0,p.padNumber)(this.hour,2),e[4]=(0,p.padNumber)(this.minute,2),e[5]=(0,p.padNumber)(this.second,2),e[6]="Z",e.join("")}},{key:"toJSON",value:function(){var e={};try{e=a(c(r.prototype),"toJSON",this).call(this)}catch(e){}return e.year=this.year,e.month=this.month,e.day=this.day,e.hour=this.hour,e.minute=this.minute,e.second=this.second,e}}],[{key:"blockName",value:function(){return"UTCTime"}}]),r}(le);r.UTCTime=he;var me=function(e){o(r,e);var t=u(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(f(this,r),(e=t.call(this,n)).year=0,e.month=0,e.day=0,e.hour=0,e.minute=0,e.second=0,e.millisecond=0,"value"in n){e.fromString(n.value),e.valueBlock.valueHex=new ArrayBuffer(n.value.length);for(var a=new Uint8Array(e.valueBlock.valueHex),i=0;i<n.value.length;i++)a[i]=n.value.charCodeAt(i)}return"valueDate"in n&&(e.fromDate(n.valueDate),e.valueBlock.valueHex=e.toBuffer()),e.idBlock.tagClass=1,e.idBlock.tagNumber=24,e}return m(r,[{key:"fromBER",value:function(e,t,r){var n=this.valueBlock.fromBER(e,t,!0===this.lenBlock.isIndefiniteForm?r:this.lenBlock.length);return-1===n?(this.error=this.valueBlock.error,n):(this.fromBuffer(this.valueBlock.valueHex),0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),n)}},{key:"fromBuffer",value:function(e){this.fromString(String.fromCharCode.apply(null,new Uint8Array(e)))}},{key:"toBuffer",value:function(){for(var e=this.toString(),t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n<e.length;n++)r[n]=e.charCodeAt(n);return t}},{key:"fromDate",value:function(e){this.year=e.getUTCFullYear(),this.month=e.getUTCMonth()+1,this.day=e.getUTCDate(),this.hour=e.getUTCHours(),this.minute=e.getUTCMinutes(),this.second=e.getUTCSeconds(),this.millisecond=e.getUTCMilliseconds()}},{key:"toDate",value:function(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond))}},{key:"fromString",value:function(e){var t,r=!1,n="",a="",i=0,o=0,s=0;if("Z"===e[e.length-1])n=e.substr(0,e.length-1),r=!0;else{var u=new Number(e[e.length-1]);if(isNaN(u.valueOf()))throw new Error("Wrong input string for convertion");n=e}if(r){if(-1!==n.indexOf("+"))throw new Error("Wrong input string for convertion");if(-1!==n.indexOf("-"))throw new Error("Wrong input string for convertion")}else{var l=1,c=n.indexOf("+"),f="";if(-1===c&&(c=n.indexOf("-"),l=-1),-1!==c){if(f=n.substr(c+1),n=n.substr(0,c),2!==f.length&&4!==f.length)throw new Error("Wrong input string for convertion");var h=new Number(f.substr(0,2));if(isNaN(h.valueOf()))throw new Error("Wrong input string for convertion");if(o=l*h,4===f.length){if(h=new Number(f.substr(2,2)),isNaN(h.valueOf()))throw new Error("Wrong input string for convertion");s=l*h}}}var m=n.indexOf(".");if(-1===m&&(m=n.indexOf(",")),-1!==m){var p=new Number("0".concat(n.substr(m)));if(isNaN(p.valueOf()))throw new Error("Wrong input string for convertion");i=p.valueOf(),a=n.substr(0,m)}else a=n;switch(!0){case 8===a.length:if(t=/(\d{4})(\d{2})(\d{2})/gi,-1!==m)throw new Error("Wrong input string for convertion");break;case 10===a.length:if(t=/(\d{4})(\d{2})(\d{2})(\d{2})/gi,-1!==m){var d=60*i;this.minute=Math.floor(d),d=60*(d-this.minute),this.second=Math.floor(d),d=1e3*(d-this.second),this.millisecond=Math.floor(d)}break;case 12===a.length:if(t=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})/gi,-1!==m){var y=60*i;this.second=Math.floor(y),y=1e3*(y-this.second),this.millisecond=Math.floor(y)}break;case 14===a.length:if(t=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})/gi,-1!==m){var v=1e3*i;this.millisecond=Math.floor(v)}break;default:throw new Error("Wrong input string for convertion")}var g=t.exec(a);if(null===g)throw new Error("Wrong input string for convertion");for(var b=1;b<g.length;b++)switch(b){case 1:this.year=parseInt(g[b],10);break;case 2:this.month=parseInt(g[b],10);break;case 3:this.day=parseInt(g[b],10);break;case 4:this.hour=parseInt(g[b],10)+o;break;case 5:this.minute=parseInt(g[b],10)+s;break;case 6:this.second=parseInt(g[b],10);break;default:throw new Error("Wrong input string for convertion")}if(!1===r){var w=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond);this.year=w.getUTCFullYear(),this.month=w.getUTCMonth(),this.day=w.getUTCDay(),this.hour=w.getUTCHours(),this.minute=w.getUTCMinutes(),this.second=w.getUTCSeconds(),this.millisecond=w.getUTCMilliseconds()}}},{key:"toString",value:function(){var e=[];return e.push((0,p.padNumber)(this.year,4)),e.push((0,p.padNumber)(this.month,2)),e.push((0,p.padNumber)(this.day,2)),e.push((0,p.padNumber)(this.hour,2)),e.push((0,p.padNumber)(this.minute,2)),e.push((0,p.padNumber)(this.second,2)),0!==this.millisecond&&(e.push("."),e.push((0,p.padNumber)(this.millisecond,3))),e.push("Z"),e.join("")}},{key:"toJSON",value:function(){var e={};try{e=a(c(r.prototype),"toJSON",this).call(this)}catch(e){}return e.year=this.year,e.month=this.month,e.day=this.day,e.hour=this.hour,e.minute=this.minute,e.second=this.second,e.millisecond=this.millisecond,e}}],[{key:"blockName",value:function(){return"GeneralizedTime"}}]),r}(le);r.GeneralizedTime=me;var pe=function(e){o(r,e);var t=u(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f(this,r),(e=t.call(this,n)).idBlock.tagClass=1,e.idBlock.tagNumber=31,e}return m(r,null,[{key:"blockName",value:function(){return"DATE"}}]),r}(G);r.DATE=pe;var de=function(e){o(r,e);var t=u(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f(this,r),(e=t.call(this,n)).idBlock.tagClass=1,e.idBlock.tagNumber=32,e}return m(r,null,[{key:"blockName",value:function(){return"TimeOfDay"}}]),r}(G);r.TimeOfDay=de;var ye=function(e){o(r,e);var t=u(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f(this,r),(e=t.call(this,n)).idBlock.tagClass=1,e.idBlock.tagNumber=33,e}return m(r,null,[{key:"blockName",value:function(){return"DateTime"}}]),r}(G);r.DateTime=ye;var ve=function(e){o(r,e);var t=u(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f(this,r),(e=t.call(this,n)).idBlock.tagClass=1,e.idBlock.tagNumber=34,e}return m(r,null,[{key:"blockName",value:function(){return"Duration"}}]),r}(G);r.Duration=ve;var ge=function(e){o(r,e);var t=u(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f(this,r),(e=t.call(this,n)).idBlock.tagClass=1,e.idBlock.tagNumber=14,e}return m(r,null,[{key:"blockName",value:function(){return"TIME"}}]),r}(G);r.TIME=ge;var be=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};f(this,e),this.value=(0,p.getParametersValue)(t,"value",[]),this.optional=(0,p.getParametersValue)(t,"optional",!1)};r.Choice=be;var we=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};f(this,e),this.name=(0,p.getParametersValue)(t,"name",""),this.optional=(0,p.getParametersValue)(t,"optional",!1)};r.Any=we;var ke=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};f(this,e),this.name=(0,p.getParametersValue)(t,"name",""),this.optional=(0,p.getParametersValue)(t,"optional",!1),this.value=(0,p.getParametersValue)(t,"value",new we),this.local=(0,p.getParametersValue)(t,"local",!1)};r.Repeated=ke;var Se=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};f(this,e),this.data=(0,p.getParametersValue)(t,"data",new ArrayBuffer(0))}return m(e,[{key:"fromBER",value:function(e,t,r){return this.data=e.slice(t,r),t+r}},{key:"toBER",value:function(){return this.data}}]),e}();function je(e,t,r){var n=t;var a=new P({},Object),i=new b;if(!1===(0,p.checkBufferParams)(i,e,t,r))return a.error=i.error,{offset:-1,result:a};if(0===new Uint8Array(e,t,r).length)return a.error="Zero buffer length",{offset:-1,result:a};var o=a.idBlock.fromBER(e,t,r);if(a.warnings.concat(a.idBlock.warnings),-1===o)return a.error=a.idBlock.error,{offset:-1,result:a};if(t=o,r-=a.idBlock.blockLength,o=a.lenBlock.fromBER(e,t,r),a.warnings.concat(a.lenBlock.warnings),-1===o)return a.error=a.lenBlock.error,{offset:-1,result:a};if(t=o,r-=a.lenBlock.blockLength,!1===a.idBlock.isConstructed&&!0===a.lenBlock.isIndefiniteForm)return a.error="Indefinite length form used for primitive encoding form",{offset:-1,result:a};var s=P;if(1===a.idBlock.tagClass){if(a.idBlock.tagNumber>=37&&!1===a.idBlock.isHexOnly)return a.error="UNIVERSAL 37 and upper tags are reserved by ASN.1 standard",{offset:-1,result:a};switch(a.idBlock.tagNumber){case 0:if(!0===a.idBlock.isConstructed&&a.lenBlock.length>0)return a.error="Type [UNIVERSAL 0] is reserved",{offset:-1,result:a};s=x;break;case 1:s=E;break;case 2:s=U;break;case 3:s=K;break;case 4:s=M;break;case 5:s=D;break;case 6:s=J;break;case 10:s=q;break;case 12:s=G;break;case 13:s=$;break;case 14:s=ge;break;case 15:return a.error="[UNIVERSAL 15] is reserved by ASN.1 standard",{offset:-1,result:a};case 16:s=N;break;case 17:s=V;break;case 18:s=ne;break;case 19:s=ae;break;case 20:s=ie;break;case 21:s=oe;break;case 22:s=se;break;case 23:s=he;break;case 24:s=me;break;case 25:s=ue;break;case 26:s=le;break;case 27:s=ce;break;case 28:s=ee;break;case 29:s=fe;break;case 30:s=Z;break;case 31:s=pe;break;case 32:s=de;break;case 33:s=ye;break;case 34:s=ve;break;default:var u;(u=!0===a.idBlock.isConstructed?new C:new A).idBlock=a.idBlock,u.lenBlock=a.lenBlock,u.warnings=a.warnings,a=u}}else s=!0===a.idBlock.isConstructed?C:A;return a=function(e,t){if(e instanceof t)return e;var r=new t;return r.idBlock=e.idBlock,r.lenBlock=e.lenBlock,r.warnings=e.warnings,r.valueBeforeDecode=e.valueBeforeDecode.slice(0),r}(a,s),o=a.fromBER(e,t,!0===a.lenBlock.isIndefiniteForm?r:a.lenBlock.length),a.valueBeforeDecode=e.slice(n,n+a.blockLength),{offset:o,result:a}}function Pe(e){if(0===e.byteLength){var t=new P({},Object);return t.error="Input buffer has zero length",{offset:-1,result:t}}return je(e,0,e.byteLength)}function _e(e,t,r){if(r instanceof be){for(var n=0;n<r.value.length;n++){if(!0===_e(e,t,r.value[n]).verified)return{verified:!0,result:e}}var a={verified:!1,result:{error:"Wrong values for Choice type"}};return r.hasOwnProperty("name")&&(a.name=r.name),a}if(r instanceof we)return r.hasOwnProperty("name")&&(e[r.name]=t),{verified:!0,result:e};if(e instanceof Object==!1)return{verified:!1,result:{error:"Wrong root object"}};if(t instanceof Object==!1)return{verified:!1,result:{error:"Wrong ASN.1 data"}};if(r instanceof Object==!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if("idBlock"in r==!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if("fromBER"in r.idBlock==!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if("toBER"in r.idBlock==!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};var i=r.idBlock.toBER(!1);if(0===i.byteLength)return{verified:!1,result:{error:"Error encoding idBlock for ASN.1 schema"}};if(-1===r.idBlock.fromBER(i,0,i.byteLength))return{verified:!1,result:{error:"Error decoding idBlock for ASN.1 schema"}};if(!1===r.idBlock.hasOwnProperty("tagClass"))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.tagClass!==t.idBlock.tagClass)return{verified:!1,result:e};if(!1===r.idBlock.hasOwnProperty("tagNumber"))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.tagNumber!==t.idBlock.tagNumber)return{verified:!1,result:e};if(!1===r.idBlock.hasOwnProperty("isConstructed"))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.isConstructed!==t.idBlock.isConstructed)return{verified:!1,result:e};if("isHexOnly"in r.idBlock==!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.isHexOnly!==t.idBlock.isHexOnly)return{verified:!1,result:e};if(!0===r.idBlock.isHexOnly){if("valueHex"in r.idBlock==!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};var o=new Uint8Array(r.idBlock.valueHex),s=new Uint8Array(t.idBlock.valueHex);if(o.length!==s.length)return{verified:!1,result:e};for(var u=0;u<o.length;u++)if(o[u]!==s[1])return{verified:!1,result:e}}if(r.hasOwnProperty("name")&&(r.name=r.name.replace(/^\s+|\s+$/g,""),""!==r.name&&(e[r.name]=t)),!0===r.idBlock.isConstructed){var l=0,c={verified:!1},f=r.valueBlock.value.length;if(f>0&&r.valueBlock.value[0]instanceof ke&&(f=t.valueBlock.value.length),0===f)return{verified:!0,result:e};if(0===t.valueBlock.value.length&&0!==r.valueBlock.value.length){for(var h=!0,m=0;m<r.valueBlock.value.length;m++)h=h&&(r.valueBlock.value[m].optional||!1);return!0===h?{verified:!0,result:e}:(r.hasOwnProperty("name")&&(r.name=r.name.replace(/^\s+|\s+$/g,""),""!==r.name&&delete e[r.name]),e.error="Inconsistent object length",{verified:!1,result:e})}for(var p=0;p<f;p++)if(p-l>=t.valueBlock.value.length){if(!1===r.valueBlock.value[p].optional){var d={verified:!1,result:e};return e.error="Inconsistent length between ASN.1 data and schema",r.hasOwnProperty("name")&&(r.name=r.name.replace(/^\s+|\s+$/g,""),""!==r.name&&(delete e[r.name],d.name=r.name)),d}}else if(r.valueBlock.value[0]instanceof ke){if(!1===(c=_e(e,t.valueBlock.value[p],r.valueBlock.value[0].value)).verified){if(!0!==r.valueBlock.value[0].optional)return r.hasOwnProperty("name")&&(r.name=r.name.replace(/^\s+|\s+$/g,""),""!==r.name&&delete e[r.name]),c;l++}if("name"in r.valueBlock.value[0]&&r.valueBlock.value[0].name.length>0){var y={};void 0===(y="local"in r.valueBlock.value[0]&&!0===r.valueBlock.value[0].local?t:e)[r.valueBlock.value[0].name]&&(y[r.valueBlock.value[0].name]=[]),y[r.valueBlock.value[0].name].push(t.valueBlock.value[p])}}else if(!1===(c=_e(e,t.valueBlock.value[p-l],r.valueBlock.value[p])).verified){if(!0!==r.valueBlock.value[p].optional)return r.hasOwnProperty("name")&&(r.name=r.name.replace(/^\s+|\s+$/g,""),""!==r.name&&delete e[r.name]),c;l++}if(!1===c.verified){var v={verified:!1,result:e};return r.hasOwnProperty("name")&&(r.name=r.name.replace(/^\s+|\s+$/g,""),""!==r.name&&(delete e[r.name],v.name=r.name)),v}return{verified:!0,result:e}}if("primitiveSchema"in r&&"valueHex"in t.valueBlock){var g=Pe(t.valueBlock.valueHex);if(-1===g.offset){var b={verified:!1,result:g.result};return r.hasOwnProperty("name")&&(r.name=r.name.replace(/^\s+|\s+$/g,""),""!==r.name&&(delete e[r.name],b.name=r.name)),b}return _e(e,g.result,r.primitiveSchema)}return{verified:!0,result:e}}r.RawData=Se},{pvutils:447}],2:[function(e,t,r){(function(t){(function(){"use strict";if(e("core-js/shim"),e("regenerator-runtime/runtime"),e("core-js/fn/regexp/escape"),t._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");t._babelPolyfill=!0;function r(e,t,r){e[t]||Object.defineProperty(e,t,{writable:!0,configurable:!0,value:r})}r(String.prototype,"padLeft","".padStart),r(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach((function(e){[][e]&&r(Array,e,Function.call.bind([][e]))}))}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"core-js/fn/regexp/escape":6,"core-js/shim":334,"regenerator-runtime/runtime":3}],3:[function(e,t,r){(function(e){(function(){!function(e){"use strict";var r,n=Object.prototype,a=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag",l="object"==typeof t,c=e.regeneratorRuntime;if(c)l&&(t.exports=c);else{(c=e.regeneratorRuntime=l?t.exports:{}).wrap=w;var f="suspendedStart",h="suspendedYield",m="executing",p="completed",d={},y={};y[o]=function(){return this};var v=Object.getPrototypeOf,g=v&&v(v(B([])));g&&g!==n&&a.call(g,o)&&(y=g);var b=P.prototype=S.prototype=Object.create(y);j.prototype=b.constructor=P,P.constructor=j,P[u]=j.displayName="GeneratorFunction",c.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===j||"GeneratorFunction"===(t.displayName||t.name))},c.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,P):(e.__proto__=P,u in e||(e[u]="GeneratorFunction")),e.prototype=Object.create(b),e},c.awrap=function(e){return{__await:e}},_(A.prototype),A.prototype[s]=function(){return this},c.AsyncIterator=A,c.async=function(e,t,r,n){var a=new A(w(e,t,r,n));return c.isGeneratorFunction(t)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(b),b[u]="Generator",b[o]=function(){return this},b.toString=function(){return"[object Generator]"},c.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},c.values=B,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(I),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=r)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,a){return s.type="throw",s.arg=e,t.next=n,a&&(t.method="next",t.arg=r),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var u=a.call(o,"catchLoc"),l=a.call(o,"finallyLoc");if(u&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;I(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:B(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=r),d}}}function w(e,t,r,n){var a=t&&t.prototype instanceof S?t:S,i=Object.create(a.prototype),o=new x(n||[]);return i._invoke=function(e,t,r){var n=f;return function(a,i){if(n===m)throw new Error("Generator is already running");if(n===p){if("throw"===a)throw i;return E()}for(r.method=a,r.arg=i;;){var o=r.delegate;if(o){var s=O(o,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===f)throw n=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=m;var u=k(e,t,r);if("normal"===u.type){if(n=r.done?p:h,u.arg===d)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n=p,r.method="throw",r.arg=u.arg)}}}(e,r,o),i}function k(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}function S(){}function j(){}function P(){}function _(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function A(t){function r(e,n,i,o){var s=k(t[e],t,n);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==typeof l&&a.call(l,"__await")?Promise.resolve(l.__await).then((function(e){r("next",e,i,o)}),(function(e){r("throw",e,i,o)})):Promise.resolve(l).then((function(e){u.value=e,i(u)}),o)}o(s.arg)}var n;"object"==typeof e.process&&e.process.domain&&(r=e.process.domain.bind(r)),this._invoke=function(e,t){function a(){return new Promise((function(n,a){r(e,t,n,a)}))}return n=n?n.then(a,a):a()}}function O(e,t){var n=e.iterator[t.method];if(n===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=r,O(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var a=k(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,d;var i=a.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=r),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function B(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=r,t.done=!0,t};return i.next=i}}return{next:E}}function E(){return{value:r,done:!0}}}("object"==typeof e?e:"object"==typeof window?window:"object"==typeof self?self:this)}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],4:[function(e,t,r){"use strict";function n(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}Object.defineProperty(r,"__esModule",{value:!0}),r.parseByteMap=function(e,t,r){var n,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;null===a&&(a=0);if(a>e.buffer.byteLength-1)return!1;null===i&&(i=e.buffer.byteLength-a);i>e.buffer.byteLength-a&&(i=e.buffer.byteLength-a);n=0==a&&i==e.buffer.byteLength?e.view:new Uint8Array(e.buffer,a,i);var o=new Array(r),s=0,u=0,l=t.length;for(;u<i;){var c=0;o[s]={};for(var f=0;f<l;f++)if(0!=t[f].maxlength){for(var h=new Array(t[f].maxlength),m=0;m<t[f].maxlength;m++)h[m]=n[u++];var p=t[f].func(h);if(-1==p.status)return 1==o.length?[]:o.slice(0,o.length-1);"check"!=t[f].type&&(o[s][t[f].name]=p.value),u-=t[f].maxlength-p.length,c+=p.length}else"defaultValue"in t[f]&&(o[s][t[f].name]=t[f].defaultValue);o[s++].structureLength=c}return o};var u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,e),this.clear();var r=!0,n=!1,a=void 0;try{for(var o,s=Object.keys(t)[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var u=o.value;switch(u){case"length":this.length=t.length;break;case"stub":for(var l=0;l<this._view.length;l++)this._view[l]=t.stub;break;case"view":this.fromUint8Array(t.view);break;case"buffer":this.fromArrayBuffer(t.buffer);break;case"string":this.fromString(t.string);break;case"hexstring":this.fromHexString(t.hexstring)}}}catch(e){n=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(n)throw a}}}return s(e,[{key:"buffer",get:function(){return this._buffer},set:function(e){this._buffer=e.slice(0),this._view=new Uint8Array(this._buffer)}},{key:"view",get:function(){return this._view},set:function(e){this._buffer=new ArrayBuffer(e.length),this._view=new Uint8Array(this._buffer),this._view.set(e)}},{key:"length",get:function(){return this._buffer.byteLength},set:function(e){this._buffer=new ArrayBuffer(e),this._view=new Uint8Array(this._buffer)}},{key:"clear",value:function(){this._buffer=new ArrayBuffer(0),this._view=new Uint8Array(this._buffer)}},{key:"fromArrayBuffer",value:function(e){this.buffer=e}},{key:"fromUint8Array",value:function(e){this._buffer=new ArrayBuffer(e.length),this._view=new Uint8Array(this._buffer),this._view.set(e)}},{key:"fromString",value:function(e){var t=e.length;this.length=t;for(var r=0;r<t;r++)this.view[r]=e.charCodeAt(r)}},{key:"toString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.view.length-e,r="";(e>=this.view.length||e<0)&&(e=0),(t>=this.view.length||t<0)&&(t=this.view.length-e);for(var n=e;n<e+t;n++)r+=String.fromCharCode(this.view[n]);return r}},{key:"fromHexString",value:function(e){var t=e.length;this.buffer=new ArrayBuffer(t>>1),this.view=new Uint8Array(this.buffer);var r=new Map;r.set("0",0),r.set("1",1),r.set("2",2),r.set("3",3),r.set("4",4),r.set("5",5),r.set("6",6),r.set("7",7),r.set("8",8),r.set("9",9),r.set("A",10),r.set("a",10),r.set("B",11),r.set("b",11),r.set("C",12),r.set("c",12),r.set("D",13),r.set("d",13),r.set("E",14),r.set("e",14),r.set("F",15),r.set("f",15);for(var n=0,a=0,i=0;i<t;i++)i%2?(a|=r.get(e.charAt(i)),this.view[n]=a,n++):a=r.get(e.charAt(i))<<4}},{key:"toHexString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.view.length-e,r="";(e>=this.view.length||e<0)&&(e=0),(t>=this.view.length||t<0)&&(t=this.view.length-e);for(var n=e;n<e+t;n++){var a=this.view[n].toString(16).toUpperCase();r=r+(1==a.length?"0":"")+a}return r}},{key:"copy",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._buffer.byteLength-t;if(0===t&&0===this._buffer.byteLength)return new e;if(t<0||t>this._buffer.byteLength-1)throw new Error("Wrong start position: ".concat(t));var n=new e;return n._buffer=this._buffer.slice(t,t+r),n._view=new Uint8Array(n._buffer),n}},{key:"slice",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._buffer.byteLength;if(0===t&&0===this._buffer.byteLength)return new e;if(t<0||t>this._buffer.byteLength-1)throw new Error("Wrong start position: ".concat(t));var n=new e;return n._buffer=this._buffer.slice(t,r),n._view=new Uint8Array(n._buffer),n}},{key:"realloc",value:function(e){var t=new ArrayBuffer(e),r=new Uint8Array(t);e>this._view.length?r.set(this._view):r.set(new Uint8Array(this._buffer,0,e)),this._buffer=t.slice(0),this._view=new Uint8Array(this._buffer)}},{key:"append",value:function(e){var t=this._buffer.byteLength,r=e._buffer.byteLength,n=e._view.slice();this.realloc(t+r),this._view.set(n,t)}},{key:"insert",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._buffer.byteLength-t;return!(t>this._buffer.byteLength-1)&&(r>this._buffer.byteLength-t&&(r=this._buffer.byteLength-t),r>e._buffer.byteLength&&(r=e._buffer.byteLength),r==e._buffer.byteLength?this._view.set(e._view,t):this._view.set(e._view.slice(0,r),t),!0)}},{key:"isEqual",value:function(e){if(this._buffer.byteLength!=e._buffer.byteLength)return!1;for(var t=0;t<e._buffer.byteLength;t++)if(this.view[t]!=e.view[t])return!1;return!0}},{key:"isEqualView",value:function(e){if(e.length!=this.view.length)return!1;for(var t=0;t<e.length;t++)if(this.view[t]!=e[t])return!1;return!0}},{key:"findPattern",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];null==t&&(t=n?this.buffer.byteLength:0),t>this.buffer.byteLength&&(t=this.buffer.byteLength),n?(null==r&&(r=t),r>t&&(r=t)):(null==r&&(r=this.buffer.byteLength-t),r>this.buffer.byteLength-t&&(r=this.buffer.byteLength-t));var a=e.buffer.byteLength;if(a>r)return-1;for(var i=[],o=0;o<a;o++)i.push(e.view[o]);for(var s=0;s<=r-a;s++){for(var u=!0,l=n?t-a-s:t+s,c=0;c<a;c++)if(this.view[c+l]!=i[c]){u=!1;break}if(u)return n?t-a-s:t+a+s}return-1}},{key:"findFirstIn",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];null==t&&(t=n?this.buffer.byteLength:0),t>this.buffer.byteLength&&(t=this.buffer.byteLength),n?(null==r&&(r=t),r>t&&(r=t)):(null==r&&(r=this.buffer.byteLength-t),r>this.buffer.byteLength-t&&(r=this.buffer.byteLength-t));for(var a={id:-1,position:n?0:t+r,length:0},i=0;i<e.length;i++){var o=this.findPattern(e[i],t,r,n);if(-1!=o){var s=!1,u=e[i].length;n?o-u>=a.position-a.length&&(s=!0):o-u<=a.position-a.length&&(s=!0),s&&(a.position=o,a.id=i,a.length=u)}}return a}},{key:"findAllIn",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.buffer.byteLength-t,n=[];if(null==t&&(t=0),t>this.buffer.byteLength-1)return n;null==r&&(r=this.buffer.byteLength-t),r>this.buffer.byteLength-t&&(r=this.buffer.byteLength-t);for(var a={id:-1,position:t};;){var i=a.position;if(-1==(a=this.findFirstIn(e,a.position,r)).id)break;r-=a.position-i,n.push({id:a.id,position:a.position})}return n}},{key:"findAllPatternIn",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.buffer.byteLength-t;null==t&&(t=0),t>this.buffer.byteLength&&(t=this.buffer.byteLength),null==r&&(r=this.buffer.byteLength-t),r>this.buffer.byteLength-t&&(r=this.buffer.byteLength-t);var n=[],a=e.buffer.byteLength;if(a>r)return-1;for(var i=Array.from(e.view),o=0;o<=r-a;o++){for(var s=!0,u=t+o,l=0;l<a;l++)if(this.view[l+u]!=i[l]){s=!1;break}s&&(n.push(t+a+o),o+=a-1)}return n}},{key:"findFirstNotIn",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];null==r&&(r=a?this.buffer.byteLength:0),r>this.buffer.byteLength&&(r=this.buffer.byteLength),a?(null==n&&(n=r),n>r&&(n=r)):(null==n&&(n=this.buffer.byteLength-r),n>this.buffer.byteLength-r&&(n=this.buffer.byteLength-r));for(var i={left:{id:-1,position:r},right:{id:-1,position:0},value:new e},o=n;o>0;){if(i.right=this.findFirstIn(t,a?r-n+o:r+n-o,o,a),-1==i.right.id){n=o,a?r-=n:r=i.left.position,i.value=new e,i.value._buffer=this._buffer.slice(r,r+n),i.value._view=new Uint8Array(i.value._buffer);break}if(i.right.position!=(a?i.left.position-t[i.right.id].buffer.byteLength:i.left.position+t[i.right.id].buffer.byteLength)){a?(r=i.right.position+t[i.right.id].buffer.byteLength,n=i.left.position-i.right.position-t[i.right.id].buffer.byteLength):(r=i.left.position,n=i.right.position-i.left.position-t[i.right.id].buffer.byteLength),i.value=new e,i.value._buffer=this._buffer.slice(r,r+n),i.value._view=new Uint8Array(i.value._buffer);break}i.left=i.right,o-=t[i.right.id]._buffer.byteLength}if(a){var s=i.right;i.right=i.left,i.left=s}return i}},{key:"findAllNotIn",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=[];if(null==r&&(r=0),r>this.buffer.byteLength-1)return a;null==n&&(n=this.buffer.byteLength-r),n>this.buffer.byteLength-r&&(n=this.buffer.byteLength-r);var i={left:{id:-1,position:r},right:{id:-1,position:r},value:new e};do{var o=i.right.position;n-=(i=this.findFirstNotIn(t,i.right.position,n)).right.position-o,a.push({left:{id:i.left.id,position:i.left.position},right:{id:i.right.id,position:i.right.position},value:i.value})}while(-1!=i.right.id);return a}},{key:"findFirstSequence",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];null==r&&(r=a?this.buffer.byteLength:0),r>this.buffer.byteLength&&(r=this.buffer.byteLength),a?(null==n&&(n=r),n>r&&(n=r)):(null==n&&(n=this.buffer.byteLength-r),n>this.buffer.byteLength-r&&(n=this.buffer.byteLength-r));var i=this.skipNotPatterns(t,r,n,a);if(-1==i)return{position:-1,value:new e};var o=this.skipPatterns(t,i,n-(a?r-i:i-r),a);a?(r=o,n=i-o):(r=i,n=o-i);var s=new e;return s._buffer=this._buffer.slice(r,r+n),s._view=new Uint8Array(s._buffer),{position:o,value:s}}},{key:"findAllSequences",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=[];if(null==r&&(r=0),r>this.buffer.byteLength-1)return a;null==n&&(n=this.buffer.byteLength-r),n>this.buffer.byteLength-r&&(n=this.buffer.byteLength-r);var i={position:r,value:new e};do{var o=i.position;-1!=(i=this.findFirstSequence(t,i.position,n)).position&&(n-=i.position-o,a.push({position:i.position,value:i.value}))}while(-1!=i.position);return a}},{key:"findPairedPatterns",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=[];if(e.isEqual(t))return a;if(null==r&&(r=0),r>this.buffer.byteLength-1)return a;null==n&&(n=this.buffer.byteLength-r),n>this.buffer.byteLength-r&&(n=this.buffer.byteLength-r);var i=0,o=this.findAllPatternIn(e,r,n);if(0==o.length)return a;var s=this.findAllPatternIn(t,r,n);if(0==s.length)return a;for(;i<o.length&&0!=s.length;)if(o[0]!=s[0]){if(o[i]>s[0])break;for(;o[i]<s[0]&&!(++i>=o.length););a.push({left:o[i-1],right:s[0]}),o.splice(i-1,1),s.splice(0,1),i=0}else a.push({left:o[0],right:s[0]}),o.splice(0,1),s.splice(0,1);return a.sort((function(e,t){return e.left-t.left})),a}},{key:"findPairedArrays",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=[];if(null==r&&(r=0),r>this.buffer.byteLength-1)return a;null==n&&(n=this.buffer.byteLength-r),n>this.buffer.byteLength-r&&(n=this.buffer.byteLength-r);var i=0,o=this.findAllIn(e,r,n);if(0==o.length)return a;var s=this.findAllIn(t,r,n);if(0==s.length)return a;for(;i<o.length&&0!=s.length;)if(o[0].position!=s[0].position){if(o[i].position>s[0].position)break;for(;o[i].position<s[0].position&&!(++i>=o.length););a.push({left:o[i-1],right:s[0]}),o.splice(i-1,1),s.splice(0,1),i=0}else a.push({left:o[0],right:s[0]}),o.splice(0,1),s.splice(0,1);return a.sort((function(e,t){return e.left.position-t.left.position})),a}},{key:"replacePattern",value:function(e,t){var r,a,i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,l={status:-1,searchPatternPositions:[],replacePatternPositions:[]};if(null==o&&(o=0),o>this.buffer.byteLength-1)return!1;if(null==s&&(s=this.buffer.byteLength-o),s>this.buffer.byteLength-o&&(s=this.buffer.byteLength-o),null==u){if(0==(a=this.findAllIn([e],o,s)).length)return l}else a=u;(r=l.searchPatternPositions).push.apply(r,n(Array.from(a,(function(e){return e.position}))));var c=e.buffer.byteLength-t.buffer.byteLength,f=new ArrayBuffer(this.view.length-a.length*c),h=new Uint8Array(f);for(h.set(new Uint8Array(this.buffer,0,o)),i=0;i<a.length;i++){var m=0==i?o:a[i-1].position;h.set(new Uint8Array(this.buffer,m,a[i].position-e.buffer.byteLength-m),m-i*c),h.set(t.view,a[i].position-e.buffer.byteLength-i*c),l.replacePatternPositions.push(a[i].position-e.buffer.byteLength-i*c)}return i--,h.set(new Uint8Array(this.buffer,a[i].position,this.buffer.byteLength-a[i].position),a[i].position-e.buffer.byteLength+t.buffer.byteLength-i*c),this.buffer=f,this.view=new Uint8Array(this.buffer),l.status=1,l}},{key:"skipPatterns",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];null==t&&(t=n?this.buffer.byteLength:0),t>this.buffer.byteLength&&(t=this.buffer.byteLength),n?(null==r&&(r=t),r>t&&(r=t)):(null==r&&(r=this.buffer.byteLength-t),r>this.buffer.byteLength-t&&(r=this.buffer.byteLength-t));for(var a=t,i=0;i<e.length;i++){for(var o=e[i].buffer.byteLength,s=n?a-o:a,u=!0,l=0;l<o;l++)if(this.view[l+s]!=e[i].view[l]){u=!1;break}if(u)if(i=-1,n){if((a-=o)<=0)return a}else if((a+=o)>=t+r)return a}return a}},{key:"skipNotPatterns",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];null==t&&(t=n?this.buffer.byteLength:0),t>this.buffer.byteLength&&(t=this.buffer.byteLength),n?(null==r&&(r=t),r>t&&(r=t)):(null==r&&(r=this.buffer.byteLength-t),r>this.buffer.byteLength-t&&(r=this.buffer.byteLength-t));for(var a=-1,i=0;i<r;i++){for(var o=0;o<e.length;o++){for(var s=e[o].buffer.byteLength,u=n?t-i-s:t+i,l=!0,c=0;c<s;c++)if(this.view[c+u]!=e[o].view[c]){l=!1;break}if(l){a=n?t-i:t+i;break}}if(-1!=a)break}return a}}]),e}();r.ByteStream=u;var l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,e),this.stream=new u,this._length=0,this.backward=!1,this._start=0,this.appendBlock=0,this.prevLength=0,this.prevStart=0;var r=!0,n=!1,a=void 0;try{for(var o,s=Object.keys(t)[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l=o.value;switch(l){case"stream":this.stream=t.stream;break;case"backward":this.backward=t.backward,this._start=this.stream.buffer.byteLength;break;case"length":this._length=t.length;break;case"start":this._start=t.start;break;case"appendBlock":this.appendBlock=t.appendBlock;break;case"view":this.stream=new u({view:t.view});break;case"buffer":this.stream=new u({buffer:t.buffer});break;case"string":this.stream=new u({string:t.string});break;case"hexstring":this.stream=new u({hexstring:t.hexstring})}}}catch(e){n=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(n)throw a}}}return s(e,[{key:"stream",get:function(){return this._stream},set:function(e){this._stream=e,this.prevLength=this._length,this._length=e._buffer.byteLength,this.prevStart=this._start,this._start=0}},{key:"length",get:function(){return this.appendBlock?this.start:this._length},set:function(e){this.prevLength=this._length,this._length=e}},{key:"start",get:function(){return this._start},set:function(e){e>this.stream.buffer.byteLength||(this.prevStart=this._start,this.prevLength=this._length,this._length-=this.backward?this._start-e:e-this._start,this._start=e)}},{key:"buffer",get:function(){return this._stream._buffer.slice(0,this._length)}},{key:"resetPosition",value:function(){this._start=this.prevStart,this._length=this.prevLength}},{key:"findPattern",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;(null==t||t>this.length)&&(t=this.length);var r=this.stream.findPattern(e,this.start,this.length,this.backward);if(-1==r)return r;if(this.backward){if(r<this.start-e.buffer.byteLength-t)return-1}else if(r>this.start+e.buffer.byteLength+t)return-1;return this.start=r,r}},{key:"findFirstIn",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;(null==t||t>this.length)&&(t=this.length);var r=this.stream.findFirstIn(e,this.start,this.length,this.backward);if(-1==r.id)return r;if(this.backward){if(r.position<this.start-e[r.id].buffer.byteLength-t)return{id:-1,position:this.backward?0:this.start+this.length}}else if(r.position>this.start+e[r.id].buffer.byteLength+t)return{id:-1,position:this.backward?0:this.start+this.length};return this.start=r.position,r}},{key:"findAllIn",value:function(e){var t=this.backward?this.start-this.length:this.start;return this.stream.findAllIn(e,t,this.length)}},{key:"findFirstNotIn",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;(null==t||t>this._length)&&(t=this._length);var r=this._stream.findFirstNotIn(e,this._start,this._length,this.backward);if(-1==r.left.id&&-1==r.right.id)return r;if(this.backward){if(-1!=r.right.id&&r.right.position<this._start-e[r.right.id]._buffer.byteLength-t)return{left:{id:-1,position:this._start},right:{id:-1,position:0},value:new u}}else if(-1!=r.left.id&&r.left.position>this._start+e[r.left.id]._buffer.byteLength+t)return{left:{id:-1,position:this._start},right:{id:-1,position:0},value:new u};return this.backward?-1==r.left.id?this.start=0:this.start=r.left.position:-1==r.right.id?this.start=this._start+this._length:this.start=r.right.position,r}},{key:"findAllNotIn",value:function(e){var t=this.backward?this._start-this._length:this._start;return this._stream.findAllNotIn(e,t,this._length)}},{key:"findFirstSequence",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;(null==t||t>this._length)&&(t=this._length),(null==r||r>t)&&(r=t);var n=this._stream.findFirstSequence(e,this._start,t,this.backward);if(0==n.value.buffer.byteLength)return n;if(this.backward){if(n.position<this._start-n.value._buffer.byteLength-r)return{position:-1,value:new u}}else if(n.position>this._start+n.value._buffer.byteLength+r)return{position:-1,value:new u};return this.start=n.position,n}},{key:"findAllSequences",value:function(e){var t=this.backward?this.start-this.length:this.start;return this.stream.findAllSequences(e,t,this.length)}},{key:"findPairedPatterns",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;(null==r||r>this.length)&&(r=this.length);var n=this.backward?this.start-this.length:this.start,a=this.stream.findPairedPatterns(e,t,n,this.length);if(a.length)if(this.backward){if(a[0].right<this.start-t.buffer.byteLength-r)return[]}else if(a[0].left>this.start+e.buffer.byteLength+r)return[];return a}},{key:"findPairedArrays",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;(null==r||r>this.length)&&(r=this.length);var n=this.backward?this.start-this.length:this.start,a=this.stream.findPairedArrays(e,t,n,this.length);if(a.length)if(this.backward){if(a[0].right.position<this.start-t[a[0].right.id].buffer.byteLength-r)return[]}else if(a[0].left.position>this.start+e[a[0].left.id].buffer.byteLength+r)return[];return a}},{key:"replacePattern",value:function(e,t){var r=this.backward?this.start-this.length:this.start;return this.stream.replacePattern(e,t,r,this.length)}},{key:"skipPatterns",value:function(e){var t=this.stream.skipPatterns(e,this.start,this.length,this.backward);return this.start=t,t}},{key:"skipNotPatterns",value:function(e){var t=this.stream.skipNotPatterns(e,this.start,this.length,this.backward);return-1==t?-1:(this.start=t,t)}},{key:"append",value:function(e){this._start+e._buffer.byteLength>this._stream._buffer.byteLength&&(e._buffer.byteLength>this.appendBlock&&(this.appendBlock=e._buffer.byteLength+1e3),this._stream.realloc(this._stream._buffer.byteLength+this.appendBlock)),this._stream._view.set(e._view,this._start),this._length+=2*e._buffer.byteLength,this.start=this._start+e._buffer.byteLength,this.prevLength-=2*e._buffer.byteLength}},{key:"appendView",value:function(e){this._start+e.length>this._stream._buffer.byteLength&&(e.length>this.appendBlock&&(this.appendBlock=e.length+1e3),this._stream.realloc(this._stream._buffer.byteLength+this.appendBlock)),this._stream._view.set(e,this._start),this._length+=2*e.length,this.start=this._start+e.length,this.prevLength-=2*e.length}},{key:"appendChar",value:function(e){this._start+1>this._stream._buffer.byteLength&&(1>this.appendBlock&&(this.appendBlock=1e3),this._stream.realloc(this._stream._buffer.byteLength+this.appendBlock)),this._stream._view[this._start]=e,this._length+=2,this.start=this._start+1,this.prevLength-=2}},{key:"appendUint16",value:function(e){this._start+2>this._stream._buffer.byteLength&&(2>this.appendBlock&&(this.appendBlock=1e3),this._stream.realloc(this._stream._buffer.byteLength+this.appendBlock));var t=new Uint16Array([e]),r=new Uint8Array(t.buffer);this._stream._view[this._start]=r[1],this._stream._view[this._start+1]=r[0],this._length+=4,this.start=this._start+2,this.prevLength-=4}},{key:"appendUint24",value:function(e){this._start+3>this._stream._buffer.byteLength&&(3>this.appendBlock&&(this.appendBlock=1e3),this._stream.realloc(this._stream._buffer.byteLength+this.appendBlock));var t=new Uint32Array([e]),r=new Uint8Array(t.buffer);this._stream._view[this._start]=r[2],this._stream._view[this._start+1]=r[1],this._stream._view[this._start+2]=r[0],this._length+=6,this.start=this._start+3,this.prevLength-=6}},{key:"appendUint32",value:function(e){this._start+4>this._stream._buffer.byteLength&&(4>this.appendBlock&&(this.appendBlock=1e3),this._stream.realloc(this._stream._buffer.byteLength+this.appendBlock));var t=new Uint32Array([e]),r=new Uint8Array(t.buffer);this._stream._view[this._start]=r[3],this._stream._view[this._start+1]=r[2],this._stream._view[this._start+2]=r[1],this._stream._view[this._start+3]=r[0],this._length+=8,this.start=this._start+4,this.prevLength-=8}},{key:"getBlock",value:function(e){var t,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this._length<=0)return[];if(this._length<e&&(e=this._length),this.backward){var n=this._stream._buffer.slice(this._length-e,this._length),a=new Uint8Array(n);t=new Array(e);for(var i=0;i<e;i++)t[e-1-i]=a[i]}else{var o=this._stream._buffer.slice(this._start,this._start+e);t=Array.from(new Uint8Array(o))}return r&&(this.start+=this.backward?-1*e:e),t}},{key:"getUint16",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.getBlock(2,e);if(t.length<2)return 0;var r=new Uint16Array(1),n=new Uint8Array(r.buffer);return n[0]=t[1],n[1]=t[0],r[0]}},{key:"getInt16",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.getBlock(2,e);if(t.length<2)return 0;var r=new Int16Array(1),n=new Uint8Array(r.buffer);return n[0]=t[1],n[1]=t[0],r[0]}},{key:"getUint24",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.getBlock(3,e);if(t.length<3)return 0;for(var r=new Uint32Array(1),n=new Uint8Array(r.buffer),a=3;a>=1;a--)n[3-a]=t[a-1];return r[0]}},{key:"getUint32",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.getBlock(4,e);if(t.length<4)return 0;for(var r=new Uint32Array(1),n=new Uint8Array(r.buffer),a=3;a>=0;a--)n[3-a]=t[a];return r[0]}},{key:"getInt32",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.getBlock(4,e);if(t.length<4)return 0;for(var r=new Int32Array(1),n=new Uint8Array(r.buffer),a=3;a>=0;a--)n[3-a]=t[a];return r[0]}}]),e}();r.SeqStream=l;var c=["00000000","00000001","00000010","00000011","00000100","00000101","00000110","00000111","00001000","00001001","00001010","00001011","00001100","00001101","00001110","00001111","00010000","00010001","00010010","00010011","00010100","00010101","00010110","00010111","00011000","00011001","00011010","00011011","00011100","00011101","00011110","00011111","00100000","00100001","00100010","00100011","00100100","00100101","00100110","00100111","00101000","00101001","00101010","00101011","00101100","00101101","00101110","00101111","00110000","00110001","00110010","00110011","00110100","00110101","00110110","00110111","00111000","00111001","00111010","00111011","00111100","00111101","00111110","00111111","01000000","01000001","01000010","01000011","01000100","01000101","01000110","01000111","01001000","01001001","01001010","01001011","01001100","01001101","01001110","01001111","01010000","01010001","01010010","01010011","01010100","01010101","01010110","01010111","01011000","01011001","01011010","01011011","01011100","01011101","01011110","01011111","01100000","01100001","01100010","01100011","01100100","01100101","01100110","01100111","01101000","01101001","01101010","01101011","01101100","01101101","01101110","01101111","01110000","01110001","01110010","01110011","01110100","01110101","01110110","01110111","01111000","01111001","01111010","01111011","01111100","01111101","01111110","01111111","10000000","10000001","10000010","10000011","10000100","10000101","10000110","10000111","10001000","10001001","10001010","10001011","10001100","10001101","10001110","10001111","10010000","10010001","10010010","10010011","10010100","10010101","10010110","10010111","10011000","10011001","10011010","10011011","10011100","10011101","10011110","10011111","10100000","10100001","10100010","10100011","10100100","10100101","10100110","10100111","10101000","10101001","10101010","10101011","10101100","10101101","10101110","10101111","10110000","10110001","10110010","10110011","10110100","10110101","10110110","10110111","10111000","10111001","10111010","10111011","10111100","10111101","10111110","10111111","11000000","11000001","11000010","11000011","11000100","11000101","11000110","11000111","11001000","11001001","11001010","11001011","11001100","11001101","11001110","11001111","11010000","11010001","11010010","11010011","11010100","11010101","11010110","11010111","11011000","11011001","11011010","11011011","11011100","11011101","11011110","11011111","11100000","11100001","11100010","11100011","11100100","11100101","11100110","11100111","11101000","11101001","11101010","11101011","11101100","11101101","11101110","11101111","11110000","11110001","11110010","11110011","11110100","11110101","11110110","11110111","11111000","11111001","11111010","11111011","11111100","11111101","11111110","11111111"],f=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,e),this.buffer=new ArrayBuffer(0),this.view=new Uint8Array(this.buffer),this.bitsCount=0;var r=!0,n=!1,a=void 0;try{for(var o,s=Object.keys(t)[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var u=o.value;switch(u){case"byteStream":this.fromByteStream(t.byteStream);break;case"view":this.fromUint8Array(t.view);break;case"buffer":this.fromArrayBuffer(t.buffer);break;case"string":this.fromString(t.string);break;case"uint32":this.fromUint32(t.uint32);break;case"bitsCount":this.bitsCount=t.bitsCount}}}catch(e){n=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(n)throw a}}}return s(e,[{key:"clear",value:function(){this.buffer=new ArrayBuffer(0),this.view=new Uint8Array(this.buffer),this.bitsCount=0}},{key:"fromByteStream",value:function(e){this.buffer=e.buffer.slice(0),this.view=new Uint8Array(this.buffer),this.bitsCount=this.view.length<<3}},{key:"fromArrayBuffer",value:function(e){this.buffer=e.slice(0),this.view=new Uint8Array(this.buffer),this.bitsCount=this.view.length<<3}},{key:"fromUint8Array",value:function(e){this.buffer=new ArrayBuffer(e.length),this.view=new Uint8Array(this.buffer),this.view.set(e),this.bitsCount=this.view.length<<3}},{key:"fromString",value:function(e){var t=e.length;this.buffer=new ArrayBuffer((t>>3)+(t%8?1:0)),this.view=new Uint8Array(this.buffer),this.bitsCount=1+(t>>3)<<3;for(var r=0,n=0;n<t;n++)"1"==e[n]&&(this.view[r]|=1<<7-n%8),n&&(n+1)%8==0&&r++;t%8&&this.shiftRight(8-t%8),this.bitsCount=t}},{key:"fromUint32",value:function(e){this.buffer=new ArrayBuffer(4),this.view=new Uint8Array(this.buffer);for(var t=new Uint32Array([e]),r=new Uint8Array(t.buffer),n=3;n>=0;n--)this.view[n]=r[3-n];this.bitsCount=32}},{key:"toString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null==e&&(e=0),(e>=this.view.length||e<0)&&(e=0),null==t&&(t=this.view.length-e),(t>=this.view.length||t<0)&&(t=this.view.length-e);for(var r=[],n=e;n<e+t;n++)r.push(c[this.view[n]]);return r.join("").slice((this.view.length<<3)-this.bitsCount)}},{key:"shiftRight",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(0!=this.view.length){if(e<0||e>8)throw new Error('The "shift" parameter must be in range 0-8');if(e>this.bitsCount)throw new Error('The "shift" parameter can not be bigger than "this.bitsCount"');var r=255>>8-e;this.view[this.view.length-1]>>=e;for(var n=this.view.length-2;n>=0;n--)this.view[n+1]|=(this.view[n]&r)<<8-e,this.view[n]>>=e;this.bitsCount-=e,0==this.bitsCount&&this.clear(),t&&this.shrink()}}},{key:"shiftLeft",value:function(e){if(0!=this.view.length){if(e<0||e>8)throw new Error('The "shift" parameter must be in range 0-8');if(e>this.bitsCount)throw new Error('The "shift" parameter can not be bigger than "this.bitsCount"');var t=7&this.bitsCount;if(t>e)this.view[0]&=255>>t+e;else{var r=new ArrayBuffer(this.buffer.byteLength-1),n=new Uint8Array(r);n.set(new Uint8Array(this.buffer,1,this.buffer.byteLength-1)),n[0]&=255>>e-t,this.buffer=r.slice(0),this.view=new Uint8Array(this.buffer)}this.bitsCount-=e,0==this.bitsCount&&this.clear()}}},{key:"slice",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=0;if(this.bitsCount%8&&(n=8-this.bitsCount%8),r+=n,null==(t+=n)&&(t=0),t<0||t>(this.view.length<<3)-1)return new e;if(null==r&&(r=(this.view.length<<3)-1),r<0||r>(this.view.length<<3)-1)return new e;if(r-t+1>this.bitsCount)return new e;var a=t>>3,i=7&t,o=r>>3,s=7&r,u=o-a==0?1:o-a+1,l=new e;return l.buffer=new ArrayBuffer(u),l.view=new Uint8Array(l.buffer),l.bitsCount=u<<3,l.view.set(new Uint8Array(this.buffer,a,u)),l.view[0]&=255>>i,l.view[u]&=255<<7-s,7-s&&l.shiftRight(7-s,!1),l.bitsCount=r-t+1,l.shrink(),l}},{key:"copy",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t<0||t>(this.view.length<<3)-1?new e:(null===r&&(r=(this.view.length<<3)-t-1),r>this.bitsCount?new e:this.slice(t,t+r-1))}},{key:"shrink",value:function(){var e=(this.bitsCount>>3)+(this.bitsCount%8?1:0);if(e<this.buffer.byteLength){var t=new ArrayBuffer(e);new Uint8Array(t).set(new Uint8Array(this.buffer,this.buffer.byteLength-e,e)),this.buffer=t.slice(0),this.view=new Uint8Array(this.buffer)}}},{key:"reverseBytes",value:function(){for(var e=0;e<this.view.length;e++)this.view[e]=65793*(2050*this.view[e]&139536|32800*this.view[e]&558144)>>16;if(this.bitsCount%8){var t=(this.bitsCount>>3)+(this.bitsCount%8?1:0);this.view[this.view.length-t]>>=8-(7&this.bitsCount)}}},{key:"reverseValue",value:function(){for(var e=this.toString(),t=e.length,r=new Array(t),n=0;n<t;n++)r[t-1-n]=e[n];this.fromString(r.join(""))}},{key:"getNumberValue",value:function(){var e=this.buffer.byteLength-1;if(e>3)return-1;if(-1==e)return 0;for(var t=new Uint32Array(1),r=new Uint8Array(t.buffer),n=e;n>=0;n--)r[e-n]=this.view[n];return t[0]}},{key:"findPattern",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=new u({string:this.toString()}),i=new u({string:e.toString()});return a.findPattern(i,t,r,n)}},{key:"findFirstIn",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=new u({string:this.toString()}),i=new Array(e.length),o=0;o<e.length;o++)i[o]=new u({string:e[o].toString()});return a.findFirstIn(i,t,r,n)}},{key:"findAllIn",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=new u({string:this.toString()}),a=new Array(e.length),i=0;i<e.length;i++)a[i]=new u({string:e[i].toString()});return n.findAllIn(a,t,r)}},{key:"findAllPatternIn",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=new u({string:this.toString()}),a=new u({string:e.toString()});return n.findAllPatternIn(a,t,r)}},{key:"findFirstNotIn",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=new u({string:this.toString()}),i=new Array(e.length),o=0;o<e.length;o++)i[o]=new u({string:e[o].toString()});return a.findFirstNotIn(i,t,r,n)}},{key:"findAllNotIn",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=new u({string:this.toString()}),a=new Array(e.length),i=0;i<e.length;i++)a[i]=new u({string:e[i].toString()});return n.findAllNotIn(a,t,r)}},{key:"findFirstSequence",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=new u({string:this.toString()}),i=new Array(e.length),o=0;o<e.length;o++)i[o]=new u({string:e[o].toString()});return a.findFirstSequence(i,t,r,n)}},{key:"findAllSequences",value:function(e,t,r){for(var n=new u({string:this.toString()}),a=new Array(e.length),i=0;i<e.length;i++)a[i]=new u({string:e[i].toString()});return n.findAllSequences(a,t,r)}},{key:"findPairedPatterns",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=new u({string:this.toString()}),i=new u({string:e.toString()}),o=new u({string:t.toString()});return a.findPairedPatterns(i,o,r,n)}},{key:"findPairedArrays",value:function(e,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=new u({string:this.toString()}),i=new Array(e.length),o=0;o<e.length;o++)i[o]=new u({string:e[o].toString()});for(var s=new Array(t.length),l=0;l<t.length;l++)s[l]=new u({string:t[l].toString()});return a.findPairedArrays(i,s,r,n)}},{key:"replacePattern",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=new u({string:this.toString()}),i=new u({string:e.toString()}),o=new u({string:t.toString()});return!!a.findPairedPatterns(i,o,r,n)&&(this.fromString(a.toString()),!0)}},{key:"skipPatterns",value:function(e,t,r,n){for(var a=new u({string:this.toString()}),i=new Array(e.length),o=0;o<e.length;o++)i[o]=new u({string:e[o].toString()});return a.skipPatterns(i,t,r,n)}},{key:"skipNotPatterns",value:function(e,t,r,n){for(var a=new u({string:this.toString()}),i=new Array(e.length),o=0;o<e.length;o++)i[o]=new u({string:e[o].toString()});return a.skipNotPatterns(i,t,r,n)}},{key:"append",value:function(e){this.fromString([this.toString(),e.toString()].join(""))}}]),e}();r.BitStream=f;var h=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,e),this.stream=new f,this._start=0,this._length=this.stream.bitsCount,this.backward=!1,this.appendBlock=0;var r=!0,n=!1,a=void 0;try{for(var o,s=Object.keys(t)[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var u=o.value;switch(u){case"stream":case"start":case"length":case"backward":case"appendBlock":this[u]=t[u]}}}catch(e){n=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(n)throw a}}}return s(e,[{key:"start",get:function(){return this._start},set:function(e){e>this.stream.bitsCount||(this._length-=this.backward?this._start-e:e-this._start,this._start=e,this.prevStart=this._start,this.prevLength=this._length)}},{key:"length",get:function(){return this._length},set:function(e){e>this.stream.bitsCount||(this.prevLength=this._length,this._length=e)}},{key:"stream",get:function(){return this._stream},set:function(e){this._stream=e,this.prevLength=this._length,this._length=e.bitsCount,this.prevStart=this._start,this._start=this.backward?this.length:0}},{key:"getBits",value:function(e){var t;return this.start+e>this.stream.bitsCount&&(e=this.stream.bitsCount-this.start),this.backward?(t=this.stream.copy(this.start-e,e),this.start-=t.bitsCount):(t=this.stream.copy(this.start,e),this.start+=t.bitsCount),t}},{key:"getBitsString",value:function(e){this.start+e>this.stream.bitsCount&&(e=this.stream.bitsCount-this.start);var t,r=[];t=this.backward?this.start-e:this.start;var n=this.start+e-1,a=0;this.stream.bitsCount%8&&(a=8-this.stream.bitsCount%8);for(var i=(t+=a)>>3,o=7&t,s=(n+=a)>>3,u=7&n,l=i+(s-i==0?1:s-i+1),f=i;f<l;f++){var h=c[this.stream.view[f]];f==i&&(h=h.slice(o)),f==l-1&&(h=h.slice(0,u-7+h.length)),r.push(h)}return r=r.join(""),this.backward?this.start-=r.length:this.start+=r.length,r}},{key:"getBitsReversedValue",value:function(e){var t,r,n=this.getBitsString(e),a=n.length,i=8-a%8,o=new Array(a),s=new Uint32Array(1),u=new Uint8Array(s.buffer,0,4);if(a>32)return-1;for(t=32==e?3:a-1>>3,r=0;r<a;r++)o[a-1-r]=n[r];for(r=i;r<i+a;r++)"1"==o[r-i]&&(u[t]|=1<<7-r%8),r&&(r+1)%8==0&&t--;return s[0]}},{key:"toString",value:function(){return this.stream.copy(this.start,this.length).toString()}}]),e}();r.SeqBitStream=h},{}],5:[function(e,t,r){"use strict";!function(e){e.console||(e.console={});for(var t,r,n=e.console,a=function(){},i=["memory"],o="assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn".split(",");t=i.pop();)n[t]||(n[t]={});for(;r=o.pop();)n[r]||(n[r]=a)}("undefined"==typeof window?void 0:window)},{}],6:[function(e,t,r){"use strict";e("../../modules/core.regexp.escape"),t.exports=e("../../modules/_core").RegExp.escape},{"../../modules/_core":28,"../../modules/core.regexp.escape":136}],7:[function(e,t,r){"use strict";t.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},{}],8:[function(e,t,r){"use strict";var n=e("./_cof");t.exports=function(e,t){if("number"!=typeof e&&"Number"!=n(e))throw TypeError(t);return+e}},{"./_cof":23}],9:[function(e,t,r){"use strict";var n=e("./_wks")("unscopables"),a=Array.prototype;null==a[n]&&e("./_hide")(a,n,{}),t.exports=function(e){a[n][e]=!0}},{"./_hide":48,"./_wks":134}],10:[function(e,t,r){"use strict";var n=e("./_string-at")(!0);t.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},{"./_string-at":111}],11:[function(e,t,r){"use strict";t.exports=function(e,t,r,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(r+": incorrect invocation!");return e}},{}],12:[function(e,t,r){"use strict";var n=e("./_is-object");t.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},{"./_is-object":57}],13:[function(e,t,r){"use strict";var n=e("./_to-object"),a=e("./_to-absolute-index"),i=e("./_to-length");t.exports=[].copyWithin||function(e,t){var r=n(this),o=i(r.length),s=a(e,o),u=a(t,o),l=arguments.length>2?arguments[2]:void 0,c=Math.min((void 0===l?o:a(l,o))-u,o-s),f=1;for(u<s&&s<u+c&&(f=-1,u+=c-1,s+=c-1);c-- >0;)u in r?r[s]=r[u]:delete r[s],s+=f,u+=f;return r}},{"./_to-absolute-index":119,"./_to-length":123,"./_to-object":124}],14:[function(e,t,r){"use strict";var n=e("./_to-object"),a=e("./_to-absolute-index"),i=e("./_to-length");t.exports=function(e){for(var t=n(this),r=i(t.length),o=arguments.length,s=a(o>1?arguments[1]:void 0,r),u=o>2?arguments[2]:void 0,l=void 0===u?r:a(u,r);l>s;)t[s++]=e;return t}},{"./_to-absolute-index":119,"./_to-length":123,"./_to-object":124}],15:[function(e,t,r){"use strict";var n=e("./_for-of");t.exports=function(e,t){var r=[];return n(e,!1,r.push,r,t),r}},{"./_for-of":44}],16:[function(e,t,r){"use strict";var n=e("./_to-iobject"),a=e("./_to-length"),i=e("./_to-absolute-index");t.exports=function(e){return function(t,r,o){var s,u=n(t),l=a(u.length),c=i(o,l);if(e&&r!=r){for(;l>c;)if((s=u[c++])!=s)return!0}else for(;l>c;c++)if((e||c in u)&&u[c]===r)return e||c||0;return!e&&-1}}},{"./_to-absolute-index":119,"./_to-iobject":122,"./_to-length":123}],17:[function(e,t,r){"use strict";var n=e("./_ctx"),a=e("./_iobject"),i=e("./_to-object"),o=e("./_to-length"),s=e("./_array-species-create");t.exports=function(e,t){var r=1==e,u=2==e,l=3==e,c=4==e,f=6==e,h=5==e||f,m=t||s;return function(t,s,p){for(var d,y,v=i(t),g=a(v),b=n(s,p,3),w=o(g.length),k=0,S=r?m(t,w):u?m(t,0):void 0;w>k;k++)if((h||k in g)&&(y=b(d=g[k],k,v),e))if(r)S[k]=y;else if(y)switch(e){case 3:return!0;case 5:return d;case 6:return k;case 2:S.push(d)}else if(c)return!1;return f?-1:l||c?c:S}}},{"./_array-species-create":20,"./_ctx":30,"./_iobject":53,"./_to-length":123,"./_to-object":124}],18:[function(e,t,r){"use strict";var n=e("./_a-function"),a=e("./_to-object"),i=e("./_iobject"),o=e("./_to-length");t.exports=function(e,t,r,s,u){n(t);var l=a(e),c=i(l),f=o(l.length),h=u?f-1:0,m=u?-1:1;if(r<2)for(;;){if(h in c){s=c[h],h+=m;break}if(h+=m,u?h<0:f<=h)throw TypeError("Reduce of empty array with no initial value")}for(;u?h>=0:f>h;h+=m)h in c&&(s=t(s,c[h],h,l));return s}},{"./_a-function":7,"./_iobject":53,"./_to-length":123,"./_to-object":124}],19:[function(e,t,r){"use strict";var n=e("./_is-object"),a=e("./_is-array"),i=e("./_wks")("species");t.exports=function(e){var t;return a(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!a(t.prototype)||(t=void 0),n(t)&&null===(t=t[i])&&(t=void 0)),void 0===t?Array:t}},{"./_is-array":55,"./_is-object":57,"./_wks":134}],20:[function(e,t,r){"use strict";var n=e("./_array-species-constructor");t.exports=function(e,t){return new(n(e))(t)}},{"./_array-species-constructor":19}],21:[function(e,t,r){"use strict";var n=e("./_a-function"),a=e("./_is-object"),i=e("./_invoke"),o=[].slice,s={},u=function(e,t,r){if(!(t in s)){for(var n=[],a=0;a<t;a++)n[a]="a["+a+"]";s[t]=Function("F,a","return new F("+n.join(",")+")")}return s[t](e,r)};t.exports=Function.bind||function(e){var t=n(this),r=o.call(arguments,1),s=function n(){var a=r.concat(o.call(arguments));return this instanceof n?u(t,a.length,a):i(t,a,e)};return a(t.prototype)&&(s.prototype=t.prototype),s}},{"./_a-function":7,"./_invoke":52,"./_is-object":57}],22:[function(e,t,r){"use strict";var n=e("./_cof"),a=e("./_wks")("toStringTag"),i="Arguments"==n(function(){return arguments}());t.exports=function(e){var t,r,o;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),a))?r:i?n(t):"Object"==(o=n(t))&&"function"==typeof t.callee?"Arguments":o}},{"./_cof":23,"./_wks":134}],23:[function(e,t,r){"use strict";var n={}.toString;t.exports=function(e){return n.call(e).slice(8,-1)}},{}],24:[function(e,t,r){"use strict";var n=e("./_object-dp").f,a=e("./_object-create"),i=e("./_redefine-all"),o=e("./_ctx"),s=e("./_an-instance"),u=e("./_for-of"),l=e("./_iter-define"),c=e("./_iter-step"),f=e("./_set-species"),h=e("./_descriptors"),m=e("./_meta").fastKey,p=e("./_validate-collection"),d=h?"_s":"size",y=function(e,t){var r,n=m(t);if("F"!==n)return e._i[n];for(r=e._f;r;r=r.n)if(r.k==t)return r};t.exports={getConstructor:function(e,t,r,l){var c=e((function(e,n){s(e,c,t,"_i"),e._t=t,e._i=a(null),e._f=void 0,e._l=void 0,e[d]=0,null!=n&&u(n,r,e[l],e)}));return i(c.prototype,{clear:function(){for(var e=p(this,t),r=e._i,n=e._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete r[n.i];e._f=e._l=void 0,e[d]=0},delete:function(e){var r=p(this,t),n=y(r,e);if(n){var a=n.n,i=n.p;delete r._i[n.i],n.r=!0,i&&(i.n=a),a&&(a.p=i),r._f==n&&(r._f=a),r._l==n&&(r._l=i),r[d]--}return!!n},forEach:function(e){p(this,t);for(var r,n=o(e,arguments.length>1?arguments[1]:void 0,3);r=r?r.n:this._f;)for(n(r.v,r.k,this);r&&r.r;)r=r.p},has:function(e){return!!y(p(this,t),e)}}),h&&n(c.prototype,"size",{get:function(){return p(this,t)[d]}}),c},def:function(e,t,r){var n,a,i=y(e,t);return i?i.v=r:(e._l=i={i:a=m(t,!0),k:t,v:r,p:n=e._l,n:void 0,r:!1},e._f||(e._f=i),n&&(n.n=i),e[d]++,"F"!==a&&(e._i[a]=i)),e},getEntry:y,setStrong:function(e,t,r){l(e,t,(function(e,r){this._t=p(e,t),this._k=r,this._l=void 0}),(function(){for(var e=this,t=e._k,r=e._l;r&&r.r;)r=r.p;return e._t&&(e._l=r=r?r.n:e._t._f)?c(0,"keys"==t?r.k:"values"==t?r.v:[r.k,r.v]):(e._t=void 0,c(1))}),r?"entries":"values",!r,!0),f(t)}}},{"./_an-instance":11,"./_ctx":30,"./_descriptors":34,"./_for-of":44,"./_iter-define":61,"./_iter-step":63,"./_meta":71,"./_object-create":76,"./_object-dp":77,"./_redefine-all":96,"./_set-species":105,"./_validate-collection":131}],25:[function(e,t,r){"use strict";var n=e("./_classof"),a=e("./_array-from-iterable");t.exports=function(e){return function(){if(n(this)!=e)throw TypeError(e+"#toJSON isn't generic");return a(this)}}},{"./_array-from-iterable":15,"./_classof":22}],26:[function(e,t,r){"use strict";var n=e("./_redefine-all"),a=e("./_meta").getWeak,i=e("./_an-object"),o=e("./_is-object"),s=e("./_an-instance"),u=e("./_for-of"),l=e("./_array-methods"),c=e("./_has"),f=e("./_validate-collection"),h=l(5),m=l(6),p=0,d=function(e){return e._l||(e._l=new y)},y=function(){this.a=[]},v=function(e,t){return h(e.a,(function(e){return e[0]===t}))};y.prototype={get:function(e){var t=v(this,e);if(t)return t[1]},has:function(e){return!!v(this,e)},set:function(e,t){var r=v(this,e);r?r[1]=t:this.a.push([e,t])},delete:function(e){var t=m(this.a,(function(t){return t[0]===e}));return~t&&this.a.splice(t,1),!!~t}},t.exports={getConstructor:function(e,t,r,i){var l=e((function(e,n){s(e,l,t,"_i"),e._t=t,e._i=p++,e._l=void 0,null!=n&&u(n,r,e[i],e)}));return n(l.prototype,{delete:function(e){if(!o(e))return!1;var r=a(e);return!0===r?d(f(this,t)).delete(e):r&&c(r,this._i)&&delete r[this._i]},has:function(e){if(!o(e))return!1;var r=a(e);return!0===r?d(f(this,t)).has(e):r&&c(r,this._i)}}),l},def:function(e,t,r){var n=a(i(t),!0);return!0===n?d(e).set(t,r):n[e._i]=r,e},ufstore:d}},{"./_an-instance":11,"./_an-object":12,"./_array-methods":17,"./_for-of":44,"./_has":47,"./_is-object":57,"./_meta":71,"./_redefine-all":96,"./_validate-collection":131}],27:[function(e,t,r){"use strict";var n=e("./_global"),a=e("./_export"),i=e("./_redefine"),o=e("./_redefine-all"),s=e("./_meta"),u=e("./_for-of"),l=e("./_an-instance"),c=e("./_is-object"),f=e("./_fails"),h=e("./_iter-detect"),m=e("./_set-to-string-tag"),p=e("./_inherit-if-required");t.exports=function(e,t,r,d,y,v){var g=n[e],b=g,w=y?"set":"add",k=b&&b.prototype,S={},j=function(e){var t=k[e];i(k,e,"delete"==e||"has"==e?function(e){return!(v&&!c(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return v&&!c(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,r){return t.call(this,0===e?0:e,r),this})};if("function"==typeof b&&(v||k.forEach&&!f((function(){(new b).entries().next()})))){var P=new b,_=P[w](v?{}:-0,1)!=P,A=f((function(){P.has(1)})),O=h((function(e){new b(e)})),C=!v&&f((function(){for(var e=new b,t=5;t--;)e[w](t,t);return!e.has(-0)}));O||((b=t((function(t,r){l(t,b,e);var n=p(new g,t,b);return null!=r&&u(r,y,n[w],n),n}))).prototype=k,k.constructor=b),(A||C)&&(j("delete"),j("has"),y&&j("get")),(C||_)&&j(w),v&&k.clear&&delete k.clear}else b=d.getConstructor(t,e,y,w),o(b.prototype,r),s.NEED=!0;return m(b,e),S[e]=b,a(a.G+a.W+a.F*(b!=g),S),v||d.setStrong(b,e,y),b}},{"./_an-instance":11,"./_export":38,"./_fails":40,"./_for-of":44,"./_global":46,"./_inherit-if-required":51,"./_is-object":57,"./_iter-detect":62,"./_meta":71,"./_redefine":97,"./_redefine-all":96,"./_set-to-string-tag":106}],28:[function(e,t,r){"use strict";var n=t.exports={version:"2.6.12"};"number"==typeof __e&&(__e=n)},{}],29:[function(e,t,r){"use strict";var n=e("./_object-dp"),a=e("./_property-desc");t.exports=function(e,t,r){t in e?n.f(e,t,a(0,r)):e[t]=r}},{"./_object-dp":77,"./_property-desc":95}],30:[function(e,t,r){"use strict";var n=e("./_a-function");t.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,a){return e.call(t,r,n,a)}}return function(){return e.apply(t,arguments)}}},{"./_a-function":7}],31:[function(e,t,r){"use strict";var n=e("./_fails"),a=Date.prototype.getTime,i=Date.prototype.toISOString,o=function(e){return e>9?e:"0"+e};t.exports=n((function(){return"0385-07-25T07:06:39.999Z"!=i.call(new Date(-50000000000001))}))||!n((function(){i.call(new Date(NaN))}))?function(){if(!isFinite(a.call(this)))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),r=e.getUTCMilliseconds(),n=t<0?"-":t>9999?"+":"";return n+("00000"+Math.abs(t)).slice(n?-6:-4)+"-"+o(e.getUTCMonth()+1)+"-"+o(e.getUTCDate())+"T"+o(e.getUTCHours())+":"+o(e.getUTCMinutes())+":"+o(e.getUTCSeconds())+"."+(r>99?r:"0"+o(r))+"Z"}:i},{"./_fails":40}],32:[function(e,t,r){"use strict";var n=e("./_an-object"),a=e("./_to-primitive"),i="number";t.exports=function(e){if("string"!==e&&e!==i&&"default"!==e)throw TypeError("Incorrect hint");return a(n(this),e!=i)}},{"./_an-object":12,"./_to-primitive":125}],33:[function(e,t,r){"use strict";t.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},{}],34:[function(e,t,r){"use strict";t.exports=!e("./_fails")((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},{"./_fails":40}],35:[function(e,t,r){"use strict";var n=e("./_is-object"),a=e("./_global").document,i=n(a)&&n(a.createElement);t.exports=function(e){return i?a.createElement(e):{}}},{"./_global":46,"./_is-object":57}],36:[function(e,t,r){"use strict";t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],37:[function(e,t,r){"use strict";var n=e("./_object-keys"),a=e("./_object-gops"),i=e("./_object-pie");t.exports=function(e){var t=n(e),r=a.f;if(r)for(var o,s=r(e),u=i.f,l=0;s.length>l;)u.call(e,o=s[l++])&&t.push(o);return t}},{"./_object-gops":83,"./_object-keys":86,"./_object-pie":87}],38:[function(e,t,r){"use strict";var n=e("./_global"),a=e("./_core"),i=e("./_hide"),o=e("./_redefine"),s=e("./_ctx"),u="prototype",l=function e(t,r,l){var c,f,h,m,p=t&e.F,d=t&e.G,y=t&e.P,v=t&e.B,g=d?n:t&e.S?n[r]||(n[r]={}):(n[r]||{})[u],b=d?a:a[r]||(a[r]={}),w=b[u]||(b[u]={});for(c in d&&(l=r),l)h=((f=!p&&g&&void 0!==g[c])?g:l)[c],m=v&&f?s(h,n):y&&"function"==typeof h?s(Function.call,h):h,g&&o(g,c,h,t&e.U),b[c]!=h&&i(b,c,m),y&&w[c]!=h&&(w[c]=h)};n.core=a,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},{"./_core":28,"./_ctx":30,"./_global":46,"./_hide":48,"./_redefine":97}],39:[function(e,t,r){"use strict";var n=e("./_wks")("match");t.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[n]=!1,!"/./"[e](t)}catch(e){}}return!0}},{"./_wks":134}],40:[function(e,t,r){"use strict";t.exports=function(e){try{return!!e()}catch(e){return!0}}},{}],41:[function(e,t,r){"use strict";e("./es6.regexp.exec");var n=e("./_redefine"),a=e("./_hide"),i=e("./_fails"),o=e("./_defined"),s=e("./_wks"),u=e("./_regexp-exec"),l=s("species"),c=!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),f=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2===r.length&&"a"===r[0]&&"b"===r[1]}();t.exports=function(e,t,r){var h=s(e),m=!i((function(){var t={};return t[h]=function(){return 7},7!=""[e](t)})),p=m?!i((function(){var t=!1,r=/a/;return r.exec=function(){return t=!0,null},"split"===e&&(r.constructor={},r.constructor[l]=function(){return r}),r[h](""),!t})):void 0;if(!m||!p||"replace"===e&&!c||"split"===e&&!f){var d=/./[h],y=r(o,h,""[e],(function(e,t,r,n,a){return t.exec===u?m&&!a?{done:!0,value:d.call(t,r,n)}:{done:!0,value:e.call(r,t,n)}:{done:!1}})),v=y[0],g=y[1];n(String.prototype,e,v),a(RegExp.prototype,h,2==t?function(e,t){return g.call(e,this,t)}:function(e){return g.call(e,this)})}}},{"./_defined":33,"./_fails":40,"./_hide":48,"./_redefine":97,"./_regexp-exec":99,"./_wks":134,"./es6.regexp.exec":231}],42:[function(e,t,r){"use strict";var n=e("./_an-object");t.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},{"./_an-object":12}],43:[function(e,t,r){"use strict";var n=e("./_is-array"),a=e("./_is-object"),i=e("./_to-length"),o=e("./_ctx"),s=e("./_wks")("isConcatSpreadable");t.exports=function e(t,r,u,l,c,f,h,m){for(var p,d,y=c,v=0,g=!!h&&o(h,m,3);v<l;){if(v in u){if(p=g?g(u[v],v,r):u[v],d=!1,a(p)&&(d=void 0!==(d=p[s])?!!d:n(p)),d&&f>0)y=e(t,r,p,i(p.length),y,f-1)-1;else{if(y>=9007199254740991)throw TypeError();t[y]=p}y++}v++}return y}},{"./_ctx":30,"./_is-array":55,"./_is-object":57,"./_to-length":123,"./_wks":134}],44:[function(e,t,r){"use strict";var n=e("./_ctx"),a=e("./_iter-call"),i=e("./_is-array-iter"),o=e("./_an-object"),s=e("./_to-length"),u=e("./core.get-iterator-method"),l={},c={},f=t.exports=function(e,t,r,f,h){var m,p,d,y,v=h?function(){return e}:u(e),g=n(r,f,t?2:1),b=0;if("function"!=typeof v)throw TypeError(e+" is not iterable!");if(i(v)){for(m=s(e.length);m>b;b++)if((y=t?g(o(p=e[b])[0],p[1]):g(e[b]))===l||y===c)return y}else for(d=v.call(e);!(p=d.next()).done;)if((y=a(d,g,p.value,t))===l||y===c)return y};f.BREAK=l,f.RETURN=c},{"./_an-object":12,"./_ctx":30,"./_is-array-iter":54,"./_iter-call":59,"./_to-length":123,"./core.get-iterator-method":135}],45:[function(e,t,r){"use strict";t.exports=e("./_shared")("native-function-to-string",Function.toString)},{"./_shared":108}],46:[function(e,t,r){"use strict";var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},{}],47:[function(e,t,r){"use strict";var n={}.hasOwnProperty;t.exports=function(e,t){return n.call(e,t)}},{}],48:[function(e,t,r){"use strict";var n=e("./_object-dp"),a=e("./_property-desc");t.exports=e("./_descriptors")?function(e,t,r){return n.f(e,t,a(1,r))}:function(e,t,r){return e[t]=r,e}},{"./_descriptors":34,"./_object-dp":77,"./_property-desc":95}],49:[function(e,t,r){"use strict";var n=e("./_global").document;t.exports=n&&n.documentElement},{"./_global":46}],50:[function(e,t,r){"use strict";t.exports=!e("./_descriptors")&&!e("./_fails")((function(){return 7!=Object.defineProperty(e("./_dom-create")("div"),"a",{get:function(){return 7}}).a}))},{"./_descriptors":34,"./_dom-create":35,"./_fails":40}],51:[function(e,t,r){"use strict";var n=e("./_is-object"),a=e("./_set-proto").set;t.exports=function(e,t,r){var i,o=t.constructor;return o!==r&&"function"==typeof o&&(i=o.prototype)!==r.prototype&&n(i)&&a&&a(e,i),e}},{"./_is-object":57,"./_set-proto":104}],52:[function(e,t,r){"use strict";t.exports=function(e,t,r){var n=void 0===r;switch(t.length){case 0:return n?e():e.call(r);case 1:return n?e(t[0]):e.call(r,t[0]);case 2:return n?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3])}return e.apply(r,t)}},{}],53:[function(e,t,r){"use strict";var n=e("./_cof");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},{"./_cof":23}],54:[function(e,t,r){"use strict";var n=e("./_iterators"),a=e("./_wks")("iterator"),i=Array.prototype;t.exports=function(e){return void 0!==e&&(n.Array===e||i[a]===e)}},{"./_iterators":64,"./_wks":134}],55:[function(e,t,r){"use strict";var n=e("./_cof");t.exports=Array.isArray||function(e){return"Array"==n(e)}},{"./_cof":23}],56:[function(e,t,r){"use strict";var n=e("./_is-object"),a=Math.floor;t.exports=function(e){return!n(e)&&isFinite(e)&&a(e)===e}},{"./_is-object":57}],57:[function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}t.exports=function(e){return"object"===n(e)?null!==e:"function"==typeof e}},{}],58:[function(e,t,r){"use strict";var n=e("./_is-object"),a=e("./_cof"),i=e("./_wks")("match");t.exports=function(e){var t;return n(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==a(e))}},{"./_cof":23,"./_is-object":57,"./_wks":134}],59:[function(e,t,r){"use strict";var n=e("./_an-object");t.exports=function(e,t,r,a){try{return a?t(n(r)[0],r[1]):t(r)}catch(t){var i=e.return;throw void 0!==i&&n(i.call(e)),t}}},{"./_an-object":12}],60:[function(e,t,r){"use strict";var n=e("./_object-create"),a=e("./_property-desc"),i=e("./_set-to-string-tag"),o={};e("./_hide")(o,e("./_wks")("iterator"),(function(){return this})),t.exports=function(e,t,r){e.prototype=n(o,{next:a(1,r)}),i(e,t+" Iterator")}},{"./_hide":48,"./_object-create":76,"./_property-desc":95,"./_set-to-string-tag":106,"./_wks":134}],61:[function(e,t,r){"use strict";var n=e("./_library"),a=e("./_export"),i=e("./_redefine"),o=e("./_hide"),s=e("./_iterators"),u=e("./_iter-create"),l=e("./_set-to-string-tag"),c=e("./_object-gpo"),f=e("./_wks")("iterator"),h=!([].keys&&"next"in[].keys()),m="keys",p="values",d=function(){return this};t.exports=function(e,t,r,y,v,g,b){u(r,t,y);var w,k,S,j=function(e){if(!h&&e in O)return O[e];switch(e){case m:case p:return function(){return new r(this,e)}}return function(){return new r(this,e)}},P=t+" Iterator",_=v==p,A=!1,O=e.prototype,C=O[f]||O["@@iterator"]||v&&O[v],I=C||j(v),x=v?_?j("entries"):I:void 0,B="Array"==t&&O.entries||C;if(B&&(S=c(B.call(new e)))!==Object.prototype&&S.next&&(l(S,P,!0),n||"function"==typeof S[f]||o(S,f,d)),_&&C&&C.name!==p&&(A=!0,I=function(){return C.call(this)}),n&&!b||!h&&!A&&O[f]||o(O,f,I),s[t]=I,s[P]=d,v)if(w={values:_?I:j(p),keys:g?I:j(m),entries:x},b)for(k in w)k in O||i(O,k,w[k]);else a(a.P+a.F*(h||A),t,w);return w}},{"./_export":38,"./_hide":48,"./_iter-create":60,"./_iterators":64,"./_library":65,"./_object-gpo":84,"./_redefine":97,"./_set-to-string-tag":106,"./_wks":134}],62:[function(e,t,r){"use strict";var n=e("./_wks")("iterator"),a=!1;try{var i=[7][n]();i.return=function(){a=!0},Array.from(i,(function(){throw 2}))}catch(e){}t.exports=function(e,t){if(!t&&!a)return!1;var r=!1;try{var i=[7],o=i[n]();o.next=function(){return{done:r=!0}},i[n]=function(){return o},e(i)}catch(e){}return r}},{"./_wks":134}],63:[function(e,t,r){"use strict";t.exports=function(e,t){return{value:t,done:!!e}}},{}],64:[function(e,t,r){"use strict";t.exports={}},{}],65:[function(e,t,r){"use strict";t.exports=!1},{}],66:[function(e,t,r){"use strict";var n=Math.expm1;t.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:Math.exp(e)-1}:n},{}],67:[function(e,t,r){"use strict";var n=e("./_math-sign"),a=Math.pow,i=a(2,-52),o=a(2,-23),s=a(2,127)*(2-o),u=a(2,-126);t.exports=Math.fround||function(e){var t,r,a=Math.abs(e),l=n(e);return a<u?l*(a/u/o+1/i-1/i)*u*o:(r=(t=(1+o/i)*a)-(t-a))>s||r!=r?l*(1/0):l*r}},{"./_math-sign":70}],68:[function(e,t,r){"use strict";t.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:Math.log(1+e)}},{}],69:[function(e,t,r){"use strict";t.exports=Math.scale||function(e,t,r,n,a){return 0===arguments.length||e!=e||t!=t||r!=r||n!=n||a!=a?NaN:e===1/0||e===-1/0?e:(e-t)*(a-n)/(r-t)+n}},{}],70:[function(e,t,r){"use strict";t.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},{}],71:[function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var a=e("./_uid")("meta"),i=e("./_is-object"),o=e("./_has"),s=e("./_object-dp").f,u=0,l=Object.isExtensible||function(){return!0},c=!e("./_fails")((function(){return l(Object.preventExtensions({}))})),f=function(e){s(e,a,{value:{i:"O"+ ++u,w:{}}})},h=t.exports={KEY:a,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==n(e)?e:("string"==typeof e?"S":"P")+e;if(!o(e,a)){if(!l(e))return"F";if(!t)return"E";f(e)}return e[a].i},getWeak:function(e,t){if(!o(e,a)){if(!l(e))return!0;if(!t)return!1;f(e)}return e[a].w},onFreeze:function(e){return c&&h.NEED&&l(e)&&!o(e,a)&&f(e),e}}},{"./_fails":40,"./_has":47,"./_is-object":57,"./_object-dp":77,"./_uid":129}],72:[function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var a=e("./es6.map"),i=e("./_export"),o=e("./_shared")("metadata"),s=o.store||(o.store=new(e("./es6.weak-map"))),u=function(e,t,r){var n=s.get(e);if(!n){if(!r)return;s.set(e,n=new a)}var i=n.get(t);if(!i){if(!r)return;n.set(t,i=new a)}return i};t.exports={store:s,map:u,has:function(e,t,r){var n=u(t,r,!1);return void 0!==n&&n.has(e)},get:function(e,t,r){var n=u(t,r,!1);return void 0===n?void 0:n.get(e)},set:function(e,t,r,n){u(r,n,!0).set(e,t)},keys:function(e,t){var r=u(e,t,!1),n=[];return r&&r.forEach((function(e,t){n.push(t)})),n},key:function(e){return void 0===e||"symbol"==n(e)?e:String(e)},exp:function(e){i(i.S,"Reflect",e)}}},{"./_export":38,"./_shared":108,"./es6.map":166,"./es6.weak-map":273}],73:[function(e,t,r){"use strict";var n=e("./_global"),a=e("./_task").set,i=n.MutationObserver||n.WebKitMutationObserver,o=n.process,s=n.Promise,u="process"==e("./_cof")(o);t.exports=function(){var e,t,r,l=function(){var n,a;for(u&&(n=o.domain)&&n.exit();e;){a=e.fn,e=e.next;try{a()}catch(n){throw e?r():t=void 0,n}}t=void 0,n&&n.enter()};if(u)r=function(){o.nextTick(l)};else if(!i||n.navigator&&n.navigator.standalone)if(s&&s.resolve){var c=s.resolve(void 0);r=function(){c.then(l)}}else r=function(){a.call(n,l)};else{var f=!0,h=document.createTextNode("");new i(l).observe(h,{characterData:!0}),r=function(){h.data=f=!f}}return function(n){var a={fn:n,next:void 0};t&&(t.next=a),e||(e=a,r()),t=a}}},{"./_cof":23,"./_global":46,"./_task":118}],74:[function(e,t,r){"use strict";var n=e("./_a-function");function a(e){var t,r;this.promise=new e((function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=n})),this.resolve=n(t),this.reject=n(r)}t.exports.f=function(e){return new a(e)}},{"./_a-function":7}],75:[function(e,t,r){"use strict";var n=e("./_descriptors"),a=e("./_object-keys"),i=e("./_object-gops"),o=e("./_object-pie"),s=e("./_to-object"),u=e("./_iobject"),l=Object.assign;t.exports=!l||e("./_fails")((function(){var e={},t={},r=Symbol(),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach((function(e){t[e]=e})),7!=l({},e)[r]||Object.keys(l({},t)).join("")!=n}))?function(e,t){for(var r=s(e),l=arguments.length,c=1,f=i.f,h=o.f;l>c;)for(var m,p=u(arguments[c++]),d=f?a(p).concat(f(p)):a(p),y=d.length,v=0;y>v;)m=d[v++],n&&!h.call(p,m)||(r[m]=p[m]);return r}:l},{"./_descriptors":34,"./_fails":40,"./_iobject":53,"./_object-gops":83,"./_object-keys":86,"./_object-pie":87,"./_to-object":124}],76:[function(e,t,r){"use strict";var n=e("./_an-object"),a=e("./_object-dps"),i=e("./_enum-bug-keys"),o=e("./_shared-key")("IE_PROTO"),s=function(){},u="prototype",l=function(){var t,r=e("./_dom-create")("iframe"),n=i.length;for(r.style.display="none",e("./_html").appendChild(r),r.src="javascript:",(t=r.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),l=t.F;n--;)delete l[u][i[n]];return l()};t.exports=Object.create||function(e,t){var r;return null!==e?(s[u]=n(e),r=new s,s[u]=null,r[o]=e):r=l(),void 0===t?r:a(r,t)}},{"./_an-object":12,"./_dom-create":35,"./_enum-bug-keys":36,"./_html":49,"./_object-dps":78,"./_shared-key":107}],77:[function(e,t,r){"use strict";var n=e("./_an-object"),a=e("./_ie8-dom-define"),i=e("./_to-primitive"),o=Object.defineProperty;r.f=e("./_descriptors")?Object.defineProperty:function(e,t,r){if(n(e),t=i(t,!0),n(r),a)try{return o(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},{"./_an-object":12,"./_descriptors":34,"./_ie8-dom-define":50,"./_to-primitive":125}],78:[function(e,t,r){"use strict";var n=e("./_object-dp"),a=e("./_an-object"),i=e("./_object-keys");t.exports=e("./_descriptors")?Object.defineProperties:function(e,t){a(e);for(var r,o=i(t),s=o.length,u=0;s>u;)n.f(e,r=o[u++],t[r]);return e}},{"./_an-object":12,"./_descriptors":34,"./_object-dp":77,"./_object-keys":86}],79:[function(e,t,r){"use strict";t.exports=e("./_library")||!e("./_fails")((function(){var t=Math.random();__defineSetter__.call(null,t,(function(){})),delete e("./_global")[t]}))},{"./_fails":40,"./_global":46,"./_library":65}],80:[function(e,t,r){"use strict";var n=e("./_object-pie"),a=e("./_property-desc"),i=e("./_to-iobject"),o=e("./_to-primitive"),s=e("./_has"),u=e("./_ie8-dom-define"),l=Object.getOwnPropertyDescriptor;r.f=e("./_descriptors")?l:function(e,t){if(e=i(e),t=o(t,!0),u)try{return l(e,t)}catch(e){}if(s(e,t))return a(!n.f.call(e,t),e[t])}},{"./_descriptors":34,"./_has":47,"./_ie8-dom-define":50,"./_object-pie":87,"./_property-desc":95,"./_to-iobject":122,"./_to-primitive":125}],81:[function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var a=e("./_to-iobject"),i=e("./_object-gopn").f,o={}.toString,s="object"==("undefined"==typeof window?"undefined":n(window))&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(e){return s&&"[object Window]"==o.call(e)?function(e){try{return i(e)}catch(e){return s.slice()}}(e):i(a(e))}},{"./_object-gopn":82,"./_to-iobject":122}],82:[function(e,t,r){"use strict";var n=e("./_object-keys-internal"),a=e("./_enum-bug-keys").concat("length","prototype");r.f=Object.getOwnPropertyNames||function(e){return n(e,a)}},{"./_enum-bug-keys":36,"./_object-keys-internal":85}],83:[function(e,t,r){"use strict";r.f=Object.getOwnPropertySymbols},{}],84:[function(e,t,r){"use strict";var n=e("./_has"),a=e("./_to-object"),i=e("./_shared-key")("IE_PROTO"),o=Object.prototype;t.exports=Object.getPrototypeOf||function(e){return e=a(e),n(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?o:null}},{"./_has":47,"./_shared-key":107,"./_to-object":124}],85:[function(e,t,r){"use strict";var n=e("./_has"),a=e("./_to-iobject"),i=e("./_array-includes")(!1),o=e("./_shared-key")("IE_PROTO");t.exports=function(e,t){var r,s=a(e),u=0,l=[];for(r in s)r!=o&&n(s,r)&&l.push(r);for(;t.length>u;)n(s,r=t[u++])&&(~i(l,r)||l.push(r));return l}},{"./_array-includes":16,"./_has":47,"./_shared-key":107,"./_to-iobject":122}],86:[function(e,t,r){"use strict";var n=e("./_object-keys-internal"),a=e("./_enum-bug-keys");t.exports=Object.keys||function(e){return n(e,a)}},{"./_enum-bug-keys":36,"./_object-keys-internal":85}],87:[function(e,t,r){"use strict";r.f={}.propertyIsEnumerable},{}],88:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_core"),i=e("./_fails");t.exports=function(e,t){var r=(a.Object||{})[e]||Object[e],o={};o[e]=t(r),n(n.S+n.F*i((function(){r(1)})),"Object",o)}},{"./_core":28,"./_export":38,"./_fails":40}],89:[function(e,t,r){"use strict";var n=e("./_descriptors"),a=e("./_object-keys"),i=e("./_to-iobject"),o=e("./_object-pie").f;t.exports=function(e){return function(t){for(var r,s=i(t),u=a(s),l=u.length,c=0,f=[];l>c;)r=u[c++],n&&!o.call(s,r)||f.push(e?[r,s[r]]:s[r]);return f}}},{"./_descriptors":34,"./_object-keys":86,"./_object-pie":87,"./_to-iobject":122}],90:[function(e,t,r){"use strict";var n=e("./_object-gopn"),a=e("./_object-gops"),i=e("./_an-object"),o=e("./_global").Reflect;t.exports=o&&o.ownKeys||function(e){var t=n.f(i(e)),r=a.f;return r?t.concat(r(e)):t}},{"./_an-object":12,"./_global":46,"./_object-gopn":82,"./_object-gops":83}],91:[function(e,t,r){"use strict";var n=e("./_global").parseFloat,a=e("./_string-trim").trim;t.exports=1/n(e("./_string-ws")+"-0")!=-1/0?function(e){var t=a(String(e),3),r=n(t);return 0===r&&"-"==t.charAt(0)?-0:r}:n},{"./_global":46,"./_string-trim":116,"./_string-ws":117}],92:[function(e,t,r){"use strict";var n=e("./_global").parseInt,a=e("./_string-trim").trim,i=e("./_string-ws"),o=/^[-+]?0[xX]/;t.exports=8!==n(i+"08")||22!==n(i+"0x16")?function(e,t){var r=a(String(e),3);return n(r,t>>>0||(o.test(r)?16:10))}:n},{"./_global":46,"./_string-trim":116,"./_string-ws":117}],93:[function(e,t,r){"use strict";t.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},{}],94:[function(e,t,r){"use strict";var n=e("./_an-object"),a=e("./_is-object"),i=e("./_new-promise-capability");t.exports=function(e,t){if(n(e),a(t)&&t.constructor===e)return t;var r=i.f(e);return(0,r.resolve)(t),r.promise}},{"./_an-object":12,"./_is-object":57,"./_new-promise-capability":74}],95:[function(e,t,r){"use strict";t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],96:[function(e,t,r){"use strict";var n=e("./_redefine");t.exports=function(e,t,r){for(var a in t)n(e,a,t[a],r);return e}},{"./_redefine":97}],97:[function(e,t,r){"use strict";var n=e("./_global"),a=e("./_hide"),i=e("./_has"),o=e("./_uid")("src"),s=e("./_function-to-string"),u="toString",l=(""+s).split(u);e("./_core").inspectSource=function(e){return s.call(e)},(t.exports=function(e,t,r,s){var u="function"==typeof r;u&&(i(r,"name")||a(r,"name",t)),e[t]!==r&&(u&&(i(r,o)||a(r,o,e[t]?""+e[t]:l.join(String(t)))),e===n?e[t]=r:s?e[t]?e[t]=r:a(e,t,r):(delete e[t],a(e,t,r)))})(Function.prototype,u,(function(){return"function"==typeof this&&this[o]||s.call(this)}))},{"./_core":28,"./_function-to-string":45,"./_global":46,"./_has":47,"./_hide":48,"./_uid":129}],98:[function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var a=e("./_classof"),i=RegExp.prototype.exec;t.exports=function(e,t){var r=e.exec;if("function"==typeof r){var o=r.call(e,t);if("object"!==n(o))throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==a(e))throw new TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},{"./_classof":22}],99:[function(e,t,r){"use strict";var n,a,i=e("./_flags"),o=RegExp.prototype.exec,s=String.prototype.replace,u=o,l="lastIndex",c=(n=/a/,a=/b*/g,o.call(n,"a"),o.call(a,"a"),0!==n[l]||0!==a[l]),f=void 0!==/()??/.exec("")[1];(c||f)&&(u=function(e){var t,r,n,a,u=this;return f&&(r=new RegExp("^"+u.source+"$(?!\\s)",i.call(u))),c&&(t=u[l]),n=o.call(u,e),c&&n&&(u[l]=u.global?n.index+n[0].length:t),f&&n&&n.length>1&&s.call(n[0],r,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(n[a]=void 0)})),n}),t.exports=u},{"./_flags":42}],100:[function(e,t,r){"use strict";t.exports=function(e,t){var r=t===Object(t)?function(e){return t[e]}:t;return function(t){return String(t).replace(e,r)}}},{}],101:[function(e,t,r){"use strict";t.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},{}],102:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_a-function"),i=e("./_ctx"),o=e("./_for-of");t.exports=function(e){n(n.S,e,{from:function(e){var t,r,n,s,u=arguments[1];return a(this),(t=void 0!==u)&&a(u),null==e?new this:(r=[],t?(n=0,s=i(u,arguments[2],2),o(e,!1,(function(e){r.push(s(e,n++))}))):o(e,!1,r.push,r),new this(r))}})}},{"./_a-function":7,"./_ctx":30,"./_export":38,"./_for-of":44}],103:[function(e,t,r){"use strict";var n=e("./_export");t.exports=function(e){n(n.S,e,{of:function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},{"./_export":38}],104:[function(e,t,r){"use strict";var n=e("./_is-object"),a=e("./_an-object"),i=function(e,t){if(a(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,r,n){try{(n=e("./_ctx")(Function.call,e("./_object-gopd").f(Object.prototype,"__proto__").set,2))(t,[]),r=!(t instanceof Array)}catch(e){r=!0}return function(e,t){return i(e,t),r?e.__proto__=t:n(e,t),e}}({},!1):void 0),check:i}},{"./_an-object":12,"./_ctx":30,"./_is-object":57,"./_object-gopd":80}],105:[function(e,t,r){"use strict";var n=e("./_global"),a=e("./_object-dp"),i=e("./_descriptors"),o=e("./_wks")("species");t.exports=function(e){var t=n[e];i&&t&&!t[o]&&a.f(t,o,{configurable:!0,get:function(){return this}})}},{"./_descriptors":34,"./_global":46,"./_object-dp":77,"./_wks":134}],106:[function(e,t,r){"use strict";var n=e("./_object-dp").f,a=e("./_has"),i=e("./_wks")("toStringTag");t.exports=function(e,t,r){e&&!a(e=r?e:e.prototype,i)&&n(e,i,{configurable:!0,value:t})}},{"./_has":47,"./_object-dp":77,"./_wks":134}],107:[function(e,t,r){"use strict";var n=e("./_shared")("keys"),a=e("./_uid");t.exports=function(e){return n[e]||(n[e]=a(e))}},{"./_shared":108,"./_uid":129}],108:[function(e,t,r){"use strict";var n=e("./_core"),a=e("./_global"),i="__core-js_shared__",o=a[i]||(a[i]={});(t.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:n.version,mode:e("./_library")?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},{"./_core":28,"./_global":46,"./_library":65}],109:[function(e,t,r){"use strict";var n=e("./_an-object"),a=e("./_a-function"),i=e("./_wks")("species");t.exports=function(e,t){var r,o=n(e).constructor;return void 0===o||null==(r=n(o)[i])?t:a(r)}},{"./_a-function":7,"./_an-object":12,"./_wks":134}],110:[function(e,t,r){"use strict";var n=e("./_fails");t.exports=function(e,t){return!!e&&n((function(){t?e.call(null,(function(){}),1):e.call(null)}))}},{"./_fails":40}],111:[function(e,t,r){"use strict";var n=e("./_to-integer"),a=e("./_defined");t.exports=function(e){return function(t,r){var i,o,s=String(a(t)),u=n(r),l=s.length;return u<0||u>=l?e?"":void 0:(i=s.charCodeAt(u))<55296||i>56319||u+1===l||(o=s.charCodeAt(u+1))<56320||o>57343?e?s.charAt(u):i:e?s.slice(u,u+2):o-56320+(i-55296<<10)+65536}}},{"./_defined":33,"./_to-integer":121}],112:[function(e,t,r){"use strict";var n=e("./_is-regexp"),a=e("./_defined");t.exports=function(e,t,r){if(n(t))throw TypeError("String#"+r+" doesn't accept regex!");return String(a(e))}},{"./_defined":33,"./_is-regexp":58}],113:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_fails"),i=e("./_defined"),o=/"/g,s=function(e,t,r,n){var a=String(i(e)),s="<"+t;return""!==r&&(s+=" "+r+'="'+String(n).replace(o,"&quot;")+'"'),s+">"+a+"</"+t+">"};t.exports=function(e,t){var r={};r[e]=t(s),n(n.P+n.F*a((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3})),"String",r)}},{"./_defined":33,"./_export":38,"./_fails":40}],114:[function(e,t,r){"use strict";var n=e("./_to-length"),a=e("./_string-repeat"),i=e("./_defined");t.exports=function(e,t,r,o){var s=String(i(e)),u=s.length,l=void 0===r?" ":String(r),c=n(t);if(c<=u||""==l)return s;var f=c-u,h=a.call(l,Math.ceil(f/l.length));return h.length>f&&(h=h.slice(0,f)),o?h+s:s+h}},{"./_defined":33,"./_string-repeat":115,"./_to-length":123}],115:[function(e,t,r){"use strict";var n=e("./_to-integer"),a=e("./_defined");t.exports=function(e){var t=String(a(this)),r="",i=n(e);if(i<0||i==1/0)throw RangeError("Count can't be negative");for(;i>0;(i>>>=1)&&(t+=t))1&i&&(r+=t);return r}},{"./_defined":33,"./_to-integer":121}],116:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_defined"),i=e("./_fails"),o=e("./_string-ws"),s="["+o+"]",u=RegExp("^"+s+s+"*"),l=RegExp(s+s+"*$"),c=function(e,t,r){var a={},s=i((function(){return!!o[e]()||""!=""[e]()})),u=a[e]=s?t(f):o[e];r&&(a[r]=u),n(n.P+n.F*s,"String",a)},f=c.trim=function(e,t){return e=String(a(e)),1&t&&(e=e.replace(u,"")),2&t&&(e=e.replace(l,"")),e};t.exports=c},{"./_defined":33,"./_export":38,"./_fails":40,"./_string-ws":117}],117:[function(e,t,r){"use strict";t.exports="\t\n\v\f\r \u2028\u2029\ufeff"},{}],118:[function(e,t,r){"use strict";var n,a,i,o=e("./_ctx"),s=e("./_invoke"),u=e("./_html"),l=e("./_dom-create"),c=e("./_global"),f=c.process,h=c.setImmediate,m=c.clearImmediate,p=c.MessageChannel,d=c.Dispatch,y=0,v={},g="onreadystatechange",b=function(){var e=+this;if(v.hasOwnProperty(e)){var t=v[e];delete v[e],t()}},w=function(e){b.call(e.data)};h&&m||(h=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return v[++y]=function(){s("function"==typeof e?e:Function(e),t)},n(y),y},m=function(e){delete v[e]},"process"==e("./_cof")(f)?n=function(e){f.nextTick(o(b,e,1))}:d&&d.now?n=function(e){d.now(o(b,e,1))}:p?(i=(a=new p).port2,a.port1.onmessage=w,n=o(i.postMessage,i,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(n=function(e){c.postMessage(e+"","*")},c.addEventListener("message",w,!1)):n=g in l("script")?function(e){u.appendChild(l("script"))[g]=function(){u.removeChild(this),b.call(e)}}:function(e){setTimeout(o(b,e,1),0)}),t.exports={set:h,clear:m}},{"./_cof":23,"./_ctx":30,"./_dom-create":35,"./_global":46,"./_html":49,"./_invoke":52}],119:[function(e,t,r){"use strict";var n=e("./_to-integer"),a=Math.max,i=Math.min;t.exports=function(e,t){return(e=n(e))<0?a(e+t,0):i(e,t)}},{"./_to-integer":121}],120:[function(e,t,r){"use strict";var n=e("./_to-integer"),a=e("./_to-length");t.exports=function(e){if(void 0===e)return 0;var t=n(e),r=a(t);if(t!==r)throw RangeError("Wrong length!");return r}},{"./_to-integer":121,"./_to-length":123}],121:[function(e,t,r){"use strict";var n=Math.ceil,a=Math.floor;t.exports=function(e){return isNaN(e=+e)?0:(e>0?a:n)(e)}},{}],122:[function(e,t,r){"use strict";var n=e("./_iobject"),a=e("./_defined");t.exports=function(e){return n(a(e))}},{"./_defined":33,"./_iobject":53}],123:[function(e,t,r){"use strict";var n=e("./_to-integer"),a=Math.min;t.exports=function(e){return e>0?a(n(e),9007199254740991):0}},{"./_to-integer":121}],124:[function(e,t,r){"use strict";var n=e("./_defined");t.exports=function(e){return Object(n(e))}},{"./_defined":33}],125:[function(e,t,r){"use strict";var n=e("./_is-object");t.exports=function(e,t){if(!n(e))return e;var r,a;if(t&&"function"==typeof(r=e.toString)&&!n(a=r.call(e)))return a;if("function"==typeof(r=e.valueOf)&&!n(a=r.call(e)))return a;if(!t&&"function"==typeof(r=e.toString)&&!n(a=r.call(e)))return a;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":57}],126:[function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}if(e("./_descriptors")){var a=e("./_library"),i=e("./_global"),o=e("./_fails"),s=e("./_export"),u=e("./_typed"),l=e("./_typed-buffer"),c=e("./_ctx"),f=e("./_an-instance"),h=e("./_property-desc"),m=e("./_hide"),p=e("./_redefine-all"),d=e("./_to-integer"),y=e("./_to-length"),v=e("./_to-index"),g=e("./_to-absolute-index"),b=e("./_to-primitive"),w=e("./_has"),k=e("./_classof"),S=e("./_is-object"),j=e("./_to-object"),P=e("./_is-array-iter"),_=e("./_object-create"),A=e("./_object-gpo"),O=e("./_object-gopn").f,C=e("./core.get-iterator-method"),I=e("./_uid"),x=e("./_wks"),B=e("./_array-methods"),E=e("./_array-includes"),N=e("./_species-constructor"),V=e("./es6.array.iterator"),D=e("./_iterators"),R=e("./_iter-detect"),M=e("./_set-species"),T=e("./_array-fill"),K=e("./_array-copy-within"),L=e("./_object-dp"),U=e("./_object-gopd"),q=L.f,H=U.f,W=i.RangeError,J=i.TypeError,F=i.Uint8Array,G="ArrayBuffer",z="Shared"+G,Q="BYTES_PER_ELEMENT",$="prototype",Y=Array[$],Z=l.ArrayBuffer,X=l.DataView,ee=B(0),te=B(2),re=B(3),ne=B(4),ae=B(5),ie=B(6),oe=E(!0),se=E(!1),ue=V.values,le=V.keys,ce=V.entries,fe=Y.lastIndexOf,he=Y.reduce,me=Y.reduceRight,pe=Y.join,de=Y.sort,ye=Y.slice,ve=Y.toString,ge=Y.toLocaleString,be=x("iterator"),we=x("toStringTag"),ke=I("typed_constructor"),Se=I("def_constructor"),je=u.CONSTR,Pe=u.TYPED,_e=u.VIEW,Ae="Wrong length!",Oe=B(1,(function(e,t){return Ee(N(e,e[Se]),t)})),Ce=o((function(){return 1===new F(new Uint16Array([1]).buffer)[0]})),Ie=!!F&&!!F[$].set&&o((function(){new F(1).set({})})),xe=function(e,t){var r=d(e);if(r<0||r%t)throw W("Wrong offset!");return r},Be=function(e){if(S(e)&&Pe in e)return e;throw J(e+" is not a typed array!")},Ee=function(e,t){if(!S(e)||!(ke in e))throw J("It is not a typed array constructor!");return new e(t)},Ne=function(e,t){return Ve(N(e,e[Se]),t)},Ve=function(e,t){for(var r=0,n=t.length,a=Ee(e,n);n>r;)a[r]=t[r++];return a},De=function(e,t,r){q(e,t,{get:function(){return this._d[r]}})},Re=function(e){var t,r,n,a,i,o,s=j(e),u=arguments.length,l=u>1?arguments[1]:void 0,f=void 0!==l,h=C(s);if(null!=h&&!P(h)){for(o=h.call(s),n=[],t=0;!(i=o.next()).done;t++)n.push(i.value);s=n}for(f&&u>2&&(l=c(l,arguments[2],2)),t=0,r=y(s.length),a=Ee(this,r);r>t;t++)a[t]=f?l(s[t],t):s[t];return a},Me=function(){for(var e=0,t=arguments.length,r=Ee(this,t);t>e;)r[e]=arguments[e++];return r},Te=!!F&&o((function(){ge.call(new F(1))})),Ke=function(){return ge.apply(Te?ye.call(Be(this)):Be(this),arguments)},Le={copyWithin:function(e,t){return K.call(Be(this),e,t,arguments.length>2?arguments[2]:void 0)},every:function(e){return ne(Be(this),e,arguments.length>1?arguments[1]:void 0)},fill:function(e){return T.apply(Be(this),arguments)},filter:function(e){return Ne(this,te(Be(this),e,arguments.length>1?arguments[1]:void 0))},find:function(e){return ae(Be(this),e,arguments.length>1?arguments[1]:void 0)},findIndex:function(e){return ie(Be(this),e,arguments.length>1?arguments[1]:void 0)},forEach:function(e){ee(Be(this),e,arguments.length>1?arguments[1]:void 0)},indexOf:function(e){return se(Be(this),e,arguments.length>1?arguments[1]:void 0)},includes:function(e){return oe(Be(this),e,arguments.length>1?arguments[1]:void 0)},join:function(e){return pe.apply(Be(this),arguments)},lastIndexOf:function(e){return fe.apply(Be(this),arguments)},map:function(e){return Oe(Be(this),e,arguments.length>1?arguments[1]:void 0)},reduce:function(e){return he.apply(Be(this),arguments)},reduceRight:function(e){return me.apply(Be(this),arguments)},reverse:function(){for(var e,t=this,r=Be(t).length,n=Math.floor(r/2),a=0;a<n;)e=t[a],t[a++]=t[--r],t[r]=e;return t},some:function(e){return re(Be(this),e,arguments.length>1?arguments[1]:void 0)},sort:function(e){return de.call(Be(this),e)},subarray:function(e,t){var r=Be(this),n=r.length,a=g(e,n);return new(N(r,r[Se]))(r.buffer,r.byteOffset+a*r.BYTES_PER_ELEMENT,y((void 0===t?n:g(t,n))-a))}},Ue=function(e,t){return Ne(this,ye.call(Be(this),e,t))},qe=function(e){Be(this);var t=xe(arguments[1],1),r=this.length,n=j(e),a=y(n.length),i=0;if(a+t>r)throw W(Ae);for(;i<a;)this[t+i]=n[i++]},He={entries:function(){return ce.call(Be(this))},keys:function(){return le.call(Be(this))},values:function(){return ue.call(Be(this))}},We=function(e,t){return S(e)&&e[Pe]&&"symbol"!=n(t)&&t in e&&String(+t)==String(t)},Je=function(e,t){return We(e,t=b(t,!0))?h(2,e[t]):H(e,t)},Fe=function(e,t,r){return!(We(e,t=b(t,!0))&&S(r)&&w(r,"value"))||w(r,"get")||w(r,"set")||r.configurable||w(r,"writable")&&!r.writable||w(r,"enumerable")&&!r.enumerable?q(e,t,r):(e[t]=r.value,e)};je||(U.f=Je,L.f=Fe),s(s.S+s.F*!je,"Object",{getOwnPropertyDescriptor:Je,defineProperty:Fe}),o((function(){ve.call({})}))&&(ve=ge=function(){return pe.call(this)});var Ge=p({},Le);p(Ge,He),m(Ge,be,He.values),p(Ge,{slice:Ue,set:qe,constructor:function(){},toString:ve,toLocaleString:Ke}),De(Ge,"buffer","b"),De(Ge,"byteOffset","o"),De(Ge,"byteLength","l"),De(Ge,"length","e"),q(Ge,we,{get:function(){return this[Pe]}}),t.exports=function(e,t,r,n){var l=e+((n=!!n)?"Clamped":"")+"Array",c="get"+e,h="set"+e,p=i[l],d=p||{},g=p&&A(p),b=!p||!u.ABV,w={},j=p&&p[$],P=function(e,r){q(e,r,{get:function(){return function(e,r){var n=e._d;return n.v[c](r*t+n.o,Ce)}(this,r)},set:function(e){return function(e,r,a){var i=e._d;n&&(a=(a=Math.round(a))<0?0:a>255?255:255&a),i.v[h](r*t+i.o,a,Ce)}(this,r,e)},enumerable:!0})};b?(p=r((function(e,r,n,a){f(e,p,l,"_d");var i,o,s,u,c=0,h=0;if(S(r)){if(!(r instanceof Z||(u=k(r))==G||u==z))return Pe in r?Ve(p,r):Re.call(p,r);i=r,h=xe(n,t);var d=r.byteLength;if(void 0===a){if(d%t)throw W(Ae);if((o=d-h)<0)throw W(Ae)}else if((o=y(a)*t)+h>d)throw W(Ae);s=o/t}else s=v(r),i=new Z(o=s*t);for(m(e,"_d",{b:i,o:h,l:o,e:s,v:new X(i)});c<s;)P(e,c++)})),j=p[$]=_(Ge),m(j,"constructor",p)):o((function(){p(1)}))&&o((function(){new p(-1)}))&&R((function(e){new p,new p(null),new p(1.5),new p(e)}),!0)||(p=r((function(e,r,n,a){var i;return f(e,p,l),S(r)?r instanceof Z||(i=k(r))==G||i==z?void 0!==a?new d(r,xe(n,t),a):void 0!==n?new d(r,xe(n,t)):new d(r):Pe in r?Ve(p,r):Re.call(p,r):new d(v(r))})),ee(g!==Function.prototype?O(d).concat(O(g)):O(d),(function(e){e in p||m(p,e,d[e])})),p[$]=j,a||(j.constructor=p));var C=j[be],I=!!C&&("values"==C.name||null==C.name),x=He.values;m(p,ke,!0),m(j,Pe,l),m(j,_e,!0),m(j,Se,p),(n?new p(1)[we]==l:we in j)||q(j,we,{get:function(){return l}}),w[l]=p,s(s.G+s.W+s.F*(p!=d),w),s(s.S,l,{BYTES_PER_ELEMENT:t}),s(s.S+s.F*o((function(){d.of.call(p,1)})),l,{from:Re,of:Me}),Q in j||m(j,Q,t),s(s.P,l,Le),M(l),s(s.P+s.F*Ie,l,{set:qe}),s(s.P+s.F*!I,l,He),a||j.toString==ve||(j.toString=ve),s(s.P+s.F*o((function(){new p(1).slice()})),l,{slice:Ue}),s(s.P+s.F*(o((function(){return[1,2].toLocaleString()!=new p([1,2]).toLocaleString()}))||!o((function(){j.toLocaleString.call([1,2])}))),l,{toLocaleString:Ke}),D[l]=I?C:x,a||I||m(j,be,x)}}else t.exports=function(){}},{"./_an-instance":11,"./_array-copy-within":13,"./_array-fill":14,"./_array-includes":16,"./_array-methods":17,"./_classof":22,"./_ctx":30,"./_descriptors":34,"./_export":38,"./_fails":40,"./_global":46,"./_has":47,"./_hide":48,"./_is-array-iter":54,"./_is-object":57,"./_iter-detect":62,"./_iterators":64,"./_library":65,"./_object-create":76,"./_object-dp":77,"./_object-gopd":80,"./_object-gopn":82,"./_object-gpo":84,"./_property-desc":95,"./_redefine-all":96,"./_set-species":105,"./_species-constructor":109,"./_to-absolute-index":119,"./_to-index":120,"./_to-integer":121,"./_to-length":123,"./_to-object":124,"./_to-primitive":125,"./_typed":128,"./_typed-buffer":127,"./_uid":129,"./_wks":134,"./core.get-iterator-method":135,"./es6.array.iterator":147}],127:[function(e,t,r){"use strict";var n=e("./_global"),a=e("./_descriptors"),i=e("./_library"),o=e("./_typed"),s=e("./_hide"),u=e("./_redefine-all"),l=e("./_fails"),c=e("./_an-instance"),f=e("./_to-integer"),h=e("./_to-length"),m=e("./_to-index"),p=e("./_object-gopn").f,d=e("./_object-dp").f,y=e("./_array-fill"),v=e("./_set-to-string-tag"),g="ArrayBuffer",b="DataView",w="prototype",k="Wrong index!",S=n[g],j=n[b],P=n.Math,_=n.RangeError,A=n.Infinity,O=S,C=P.abs,I=P.pow,x=P.floor,B=P.log,E=P.LN2,N="buffer",V="byteLength",D="byteOffset",R=a?"_b":N,M=a?"_l":V,T=a?"_o":D;function K(e,t,r){var n,a,i,o=new Array(r),s=8*r-t-1,u=(1<<s)-1,l=u>>1,c=23===t?I(2,-24)-I(2,-77):0,f=0,h=e<0||0===e&&1/e<0?1:0;for((e=C(e))!=e||e===A?(a=e!=e?1:0,n=u):(n=x(B(e)/E),e*(i=I(2,-n))<1&&(n--,i*=2),(e+=n+l>=1?c/i:c*I(2,1-l))*i>=2&&(n++,i/=2),n+l>=u?(a=0,n=u):n+l>=1?(a=(e*i-1)*I(2,t),n+=l):(a=e*I(2,l-1)*I(2,t),n=0));t>=8;o[f++]=255&a,a/=256,t-=8);for(n=n<<t|a,s+=t;s>0;o[f++]=255&n,n/=256,s-=8);return o[--f]|=128*h,o}function L(e,t,r){var n,a=8*r-t-1,i=(1<<a)-1,o=i>>1,s=a-7,u=r-1,l=e[u--],c=127&l;for(l>>=7;s>0;c=256*c+e[u],u--,s-=8);for(n=c&(1<<-s)-1,c>>=-s,s+=t;s>0;n=256*n+e[u],u--,s-=8);if(0===c)c=1-o;else{if(c===i)return n?NaN:l?-A:A;n+=I(2,t),c-=o}return(l?-1:1)*n*I(2,c-t)}function U(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function q(e){return[255&e]}function H(e){return[255&e,e>>8&255]}function W(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function J(e){return K(e,52,8)}function F(e){return K(e,23,4)}function G(e,t,r){d(e[w],t,{get:function(){return this[r]}})}function z(e,t,r,n){var a=m(+r);if(a+t>e[M])throw _(k);var i=e[R]._b,o=a+e[T],s=i.slice(o,o+t);return n?s:s.reverse()}function Q(e,t,r,n,a,i){var o=m(+r);if(o+t>e[M])throw _(k);for(var s=e[R]._b,u=o+e[T],l=n(+a),c=0;c<t;c++)s[u+c]=l[i?c:t-c-1]}if(o.ABV){if(!l((function(){S(1)}))||!l((function(){new S(-1)}))||l((function(){return new S,new S(1.5),new S(NaN),S.name!=g}))){for(var $,Y=(S=function(e){return c(this,S),new O(m(e))})[w]=O[w],Z=p(O),X=0;Z.length>X;)($=Z[X++])in S||s(S,$,O[$]);i||(Y.constructor=S)}var ee=new j(new S(2)),te=j[w].setInt8;ee.setInt8(0,2147483648),ee.setInt8(1,2147483649),!ee.getInt8(0)&&ee.getInt8(1)||u(j[w],{setInt8:function(e,t){te.call(this,e,t<<24>>24)},setUint8:function(e,t){te.call(this,e,t<<24>>24)}},!0)}else S=function(e){c(this,S,g);var t=m(e);this._b=y.call(new Array(t),0),this[M]=t},j=function(e,t,r){c(this,j,b),c(e,S,b);var n=e[M],a=f(t);if(a<0||a>n)throw _("Wrong offset!");if(a+(r=void 0===r?n-a:h(r))>n)throw _("Wrong length!");this[R]=e,this[T]=a,this[M]=r},a&&(G(S,V,"_l"),G(j,N,"_b"),G(j,V,"_l"),G(j,D,"_o")),u(j[w],{getInt8:function(e){return z(this,1,e)[0]<<24>>24},getUint8:function(e){return z(this,1,e)[0]},getInt16:function(e){var t=z(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=z(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return U(z(this,4,e,arguments[1]))},getUint32:function(e){return U(z(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return L(z(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return L(z(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){Q(this,1,e,q,t)},setUint8:function(e,t){Q(this,1,e,q,t)},setInt16:function(e,t){Q(this,2,e,H,t,arguments[2])},setUint16:function(e,t){Q(this,2,e,H,t,arguments[2])},setInt32:function(e,t){Q(this,4,e,W,t,arguments[2])},setUint32:function(e,t){Q(this,4,e,W,t,arguments[2])},setFloat32:function(e,t){Q(this,4,e,F,t,arguments[2])},setFloat64:function(e,t){Q(this,8,e,J,t,arguments[2])}});v(S,g),v(j,b),s(j[w],o.VIEW,!0),r[g]=S,r[b]=j},{"./_an-instance":11,"./_array-fill":14,"./_descriptors":34,"./_fails":40,"./_global":46,"./_hide":48,"./_library":65,"./_object-dp":77,"./_object-gopn":82,"./_redefine-all":96,"./_set-to-string-tag":106,"./_to-index":120,"./_to-integer":121,"./_to-length":123,"./_typed":128}],128:[function(e,t,r){"use strict";for(var n,a=e("./_global"),i=e("./_hide"),o=e("./_uid"),s=o("typed_array"),u=o("view"),l=!(!a.ArrayBuffer||!a.DataView),c=l,f=0,h="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");f<9;)(n=a[h[f++]])?(i(n.prototype,s,!0),i(n.prototype,u,!0)):c=!1;t.exports={ABV:l,CONSTR:c,TYPED:s,VIEW:u}},{"./_global":46,"./_hide":48,"./_uid":129}],129:[function(e,t,r){"use strict";var n=0,a=Math.random();t.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+a).toString(36))}},{}],130:[function(e,t,r){"use strict";var n=e("./_global").navigator;t.exports=n&&n.userAgent||""},{"./_global":46}],131:[function(e,t,r){"use strict";var n=e("./_is-object");t.exports=function(e,t){if(!n(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},{"./_is-object":57}],132:[function(e,t,r){"use strict";var n=e("./_global"),a=e("./_core"),i=e("./_library"),o=e("./_wks-ext"),s=e("./_object-dp").f;t.exports=function(e){var t=a.Symbol||(a.Symbol=i?{}:n.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:o.f(e)})}},{"./_core":28,"./_global":46,"./_library":65,"./_object-dp":77,"./_wks-ext":133}],133:[function(e,t,r){"use strict";r.f=e("./_wks")},{"./_wks":134}],134:[function(e,t,r){"use strict";var n=e("./_shared")("wks"),a=e("./_uid"),i=e("./_global").Symbol,o="function"==typeof i;(t.exports=function(e){return n[e]||(n[e]=o&&i[e]||(o?i:a)("Symbol."+e))}).store=n},{"./_global":46,"./_shared":108,"./_uid":129}],135:[function(e,t,r){"use strict";var n=e("./_classof"),a=e("./_wks")("iterator"),i=e("./_iterators");t.exports=e("./_core").getIteratorMethod=function(e){if(null!=e)return e[a]||e["@@iterator"]||i[n(e)]}},{"./_classof":22,"./_core":28,"./_iterators":64,"./_wks":134}],136:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_replacer")(/[\\^$*+?.()|[\]{}]/g,"\\$&");n(n.S,"RegExp",{escape:function(e){return a(e)}})},{"./_export":38,"./_replacer":100}],137:[function(e,t,r){"use strict";var n=e("./_export");n(n.P,"Array",{copyWithin:e("./_array-copy-within")}),e("./_add-to-unscopables")("copyWithin")},{"./_add-to-unscopables":9,"./_array-copy-within":13,"./_export":38}],138:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_array-methods")(4);n(n.P+n.F*!e("./_strict-method")([].every,!0),"Array",{every:function(e){return a(this,e,arguments[1])}})},{"./_array-methods":17,"./_export":38,"./_strict-method":110}],139:[function(e,t,r){"use strict";var n=e("./_export");n(n.P,"Array",{fill:e("./_array-fill")}),e("./_add-to-unscopables")("fill")},{"./_add-to-unscopables":9,"./_array-fill":14,"./_export":38}],140:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_array-methods")(2);n(n.P+n.F*!e("./_strict-method")([].filter,!0),"Array",{filter:function(e){return a(this,e,arguments[1])}})},{"./_array-methods":17,"./_export":38,"./_strict-method":110}],141:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_array-methods")(6),i="findIndex",o=!0;i in[]&&Array(1)[i]((function(){o=!1})),n(n.P+n.F*o,"Array",{findIndex:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),e("./_add-to-unscopables")(i)},{"./_add-to-unscopables":9,"./_array-methods":17,"./_export":38}],142:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_array-methods")(5),i="find",o=!0;i in[]&&Array(1)[i]((function(){o=!1})),n(n.P+n.F*o,"Array",{find:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),e("./_add-to-unscopables")(i)},{"./_add-to-unscopables":9,"./_array-methods":17,"./_export":38}],143:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_array-methods")(0),i=e("./_strict-method")([].forEach,!0);n(n.P+n.F*!i,"Array",{forEach:function(e){return a(this,e,arguments[1])}})},{"./_array-methods":17,"./_export":38,"./_strict-method":110}],144:[function(e,t,r){"use strict";var n=e("./_ctx"),a=e("./_export"),i=e("./_to-object"),o=e("./_iter-call"),s=e("./_is-array-iter"),u=e("./_to-length"),l=e("./_create-property"),c=e("./core.get-iterator-method");a(a.S+a.F*!e("./_iter-detect")((function(e){Array.from(e)})),"Array",{from:function(e){var t,r,a,f,h=i(e),m="function"==typeof this?this:Array,p=arguments.length,d=p>1?arguments[1]:void 0,y=void 0!==d,v=0,g=c(h);if(y&&(d=n(d,p>2?arguments[2]:void 0,2)),null==g||m==Array&&s(g))for(r=new m(t=u(h.length));t>v;v++)l(r,v,y?d(h[v],v):h[v]);else for(f=g.call(h),r=new m;!(a=f.next()).done;v++)l(r,v,y?o(f,d,[a.value,v],!0):a.value);return r.length=v,r}})},{"./_create-property":29,"./_ctx":30,"./_export":38,"./_is-array-iter":54,"./_iter-call":59,"./_iter-detect":62,"./_to-length":123,"./_to-object":124,"./core.get-iterator-method":135}],145:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_array-includes")(!1),i=[].indexOf,o=!!i&&1/[1].indexOf(1,-0)<0;n(n.P+n.F*(o||!e("./_strict-method")(i)),"Array",{indexOf:function(e){return o?i.apply(this,arguments)||0:a(this,e,arguments[1])}})},{"./_array-includes":16,"./_export":38,"./_strict-method":110}],146:[function(e,t,r){"use strict";var n=e("./_export");n(n.S,"Array",{isArray:e("./_is-array")})},{"./_export":38,"./_is-array":55}],147:[function(e,t,r){"use strict";var n=e("./_add-to-unscopables"),a=e("./_iter-step"),i=e("./_iterators"),o=e("./_to-iobject");t.exports=e("./_iter-define")(Array,"Array",(function(e,t){this._t=o(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,a(1)):a(0,"keys"==t?r:"values"==t?e[r]:[r,e[r]])}),"values"),i.Arguments=i.Array,n("keys"),n("values"),n("entries")},{"./_add-to-unscopables":9,"./_iter-define":61,"./_iter-step":63,"./_iterators":64,"./_to-iobject":122}],148:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_to-iobject"),i=[].join;n(n.P+n.F*(e("./_iobject")!=Object||!e("./_strict-method")(i)),"Array",{join:function(e){return i.call(a(this),void 0===e?",":e)}})},{"./_export":38,"./_iobject":53,"./_strict-method":110,"./_to-iobject":122}],149:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_to-iobject"),i=e("./_to-integer"),o=e("./_to-length"),s=[].lastIndexOf,u=!!s&&1/[1].lastIndexOf(1,-0)<0;n(n.P+n.F*(u||!e("./_strict-method")(s)),"Array",{lastIndexOf:function(e){if(u)return s.apply(this,arguments)||0;var t=a(this),r=o(t.length),n=r-1;for(arguments.length>1&&(n=Math.min(n,i(arguments[1]))),n<0&&(n=r+n);n>=0;n--)if(n in t&&t[n]===e)return n||0;return-1}})},{"./_export":38,"./_strict-method":110,"./_to-integer":121,"./_to-iobject":122,"./_to-length":123}],150:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_array-methods")(1);n(n.P+n.F*!e("./_strict-method")([].map,!0),"Array",{map:function(e){return a(this,e,arguments[1])}})},{"./_array-methods":17,"./_export":38,"./_strict-method":110}],151:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_create-property");n(n.S+n.F*e("./_fails")((function(){function e(){}return!(Array.of.call(e)instanceof e)})),"Array",{of:function(){for(var e=0,t=arguments.length,r=new("function"==typeof this?this:Array)(t);t>e;)a(r,e,arguments[e++]);return r.length=t,r}})},{"./_create-property":29,"./_export":38,"./_fails":40}],152:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_array-reduce");n(n.P+n.F*!e("./_strict-method")([].reduceRight,!0),"Array",{reduceRight:function(e){return a(this,e,arguments.length,arguments[1],!0)}})},{"./_array-reduce":18,"./_export":38,"./_strict-method":110}],153:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_array-reduce");n(n.P+n.F*!e("./_strict-method")([].reduce,!0),"Array",{reduce:function(e){return a(this,e,arguments.length,arguments[1],!1)}})},{"./_array-reduce":18,"./_export":38,"./_strict-method":110}],154:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_html"),i=e("./_cof"),o=e("./_to-absolute-index"),s=e("./_to-length"),u=[].slice;n(n.P+n.F*e("./_fails")((function(){a&&u.call(a)})),"Array",{slice:function(e,t){var r=s(this.length),n=i(this);if(t=void 0===t?r:t,"Array"==n)return u.call(this,e,t);for(var a=o(e,r),l=o(t,r),c=s(l-a),f=new Array(c),h=0;h<c;h++)f[h]="String"==n?this.charAt(a+h):this[a+h];return f}})},{"./_cof":23,"./_export":38,"./_fails":40,"./_html":49,"./_to-absolute-index":119,"./_to-length":123}],155:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_array-methods")(3);n(n.P+n.F*!e("./_strict-method")([].some,!0),"Array",{some:function(e){return a(this,e,arguments[1])}})},{"./_array-methods":17,"./_export":38,"./_strict-method":110}],156:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_a-function"),i=e("./_to-object"),o=e("./_fails"),s=[].sort,u=[1,2,3];n(n.P+n.F*(o((function(){u.sort(void 0)}))||!o((function(){u.sort(null)}))||!e("./_strict-method")(s)),"Array",{sort:function(e){return void 0===e?s.call(i(this)):s.call(i(this),a(e))}})},{"./_a-function":7,"./_export":38,"./_fails":40,"./_strict-method":110,"./_to-object":124}],157:[function(e,t,r){"use strict";e("./_set-species")("Array")},{"./_set-species":105}],158:[function(e,t,r){"use strict";var n=e("./_export");n(n.S,"Date",{now:function(){return(new Date).getTime()}})},{"./_export":38}],159:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_date-to-iso-string");n(n.P+n.F*(Date.prototype.toISOString!==a),"Date",{toISOString:a})},{"./_date-to-iso-string":31,"./_export":38}],160:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_to-object"),i=e("./_to-primitive");n(n.P+n.F*e("./_fails")((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})})),"Date",{toJSON:function(e){var t=a(this),r=i(t);return"number"!=typeof r||isFinite(r)?t.toISOString():null}})},{"./_export":38,"./_fails":40,"./_to-object":124,"./_to-primitive":125}],161:[function(e,t,r){"use strict";var n=e("./_wks")("toPrimitive"),a=Date.prototype;n in a||e("./_hide")(a,n,e("./_date-to-primitive"))},{"./_date-to-primitive":32,"./_hide":48,"./_wks":134}],162:[function(e,t,r){"use strict";var n=Date.prototype,a="Invalid Date",i="toString",o=n[i],s=n.getTime;new Date(NaN)+""!=a&&e("./_redefine")(n,i,(function(){var e=s.call(this);return e==e?o.call(this):a}))},{"./_redefine":97}],163:[function(e,t,r){"use strict";var n=e("./_export");n(n.P,"Function",{bind:e("./_bind")})},{"./_bind":21,"./_export":38}],164:[function(e,t,r){"use strict";var n=e("./_is-object"),a=e("./_object-gpo"),i=e("./_wks")("hasInstance"),o=Function.prototype;i in o||e("./_object-dp").f(o,i,{value:function(e){if("function"!=typeof this||!n(e))return!1;if(!n(this.prototype))return e instanceof this;for(;e=a(e);)if(this.prototype===e)return!0;return!1}})},{"./_is-object":57,"./_object-dp":77,"./_object-gpo":84,"./_wks":134}],165:[function(e,t,r){"use strict";var n=e("./_object-dp").f,a=Function.prototype,i=/^\s*function ([^ (]*)/,o="name";o in a||e("./_descriptors")&&n(a,o,{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(e){return""}}})},{"./_descriptors":34,"./_object-dp":77}],166:[function(e,t,r){"use strict";var n=e("./_collection-strong"),a=e("./_validate-collection"),i="Map";t.exports=e("./_collection")(i,(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(e){var t=n.getEntry(a(this,i),e);return t&&t.v},set:function(e,t){return n.def(a(this,i),0===e?0:e,t)}},n,!0)},{"./_collection":27,"./_collection-strong":24,"./_validate-collection":131}],167:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_math-log1p"),i=Math.sqrt,o=Math.acosh;n(n.S+n.F*!(o&&710==Math.floor(o(Number.MAX_VALUE))&&o(1/0)==1/0),"Math",{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?Math.log(e)+Math.LN2:a(e-1+i(e-1)*i(e+1))}})},{"./_export":38,"./_math-log1p":68}],168:[function(e,t,r){"use strict";var n=e("./_export"),a=Math.asinh;n(n.S+n.F*!(a&&1/a(0)>0),"Math",{asinh:function e(t){return isFinite(t=+t)&&0!=t?t<0?-e(-t):Math.log(t+Math.sqrt(t*t+1)):t}})},{"./_export":38}],169:[function(e,t,r){"use strict";var n=e("./_export"),a=Math.atanh;n(n.S+n.F*!(a&&1/a(-0)<0),"Math",{atanh:function(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},{"./_export":38}],170:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_math-sign");n(n.S,"Math",{cbrt:function(e){return a(e=+e)*Math.pow(Math.abs(e),1/3)}})},{"./_export":38,"./_math-sign":70}],171:[function(e,t,r){"use strict";var n=e("./_export");n(n.S,"Math",{clz32:function(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},{"./_export":38}],172:[function(e,t,r){"use strict";var n=e("./_export"),a=Math.exp;n(n.S,"Math",{cosh:function(e){return(a(e=+e)+a(-e))/2}})},{"./_export":38}],173:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_math-expm1");n(n.S+n.F*(a!=Math.expm1),"Math",{expm1:a})},{"./_export":38,"./_math-expm1":66}],174:[function(e,t,r){"use strict";var n=e("./_export");n(n.S,"Math",{fround:e("./_math-fround")})},{"./_export":38,"./_math-fround":67}],175:[function(e,t,r){"use strict";var n=e("./_export"),a=Math.abs;n(n.S,"Math",{hypot:function(e,t){for(var r,n,i=0,o=0,s=arguments.length,u=0;o<s;)u<(r=a(arguments[o++]))?(i=i*(n=u/r)*n+1,u=r):i+=r>0?(n=r/u)*n:r;return u===1/0?1/0:u*Math.sqrt(i)}})},{"./_export":38}],176:[function(e,t,r){"use strict";var n=e("./_export"),a=Math.imul;n(n.S+n.F*e("./_fails")((function(){return-5!=a(4294967295,5)||2!=a.length})),"Math",{imul:function(e,t){var r=65535,n=+e,a=+t,i=r&n,o=r&a;return 0|i*o+((r&n>>>16)*o+i*(r&a>>>16)<<16>>>0)}})},{"./_export":38,"./_fails":40}],177:[function(e,t,r){"use strict";var n=e("./_export");n(n.S,"Math",{log10:function(e){return Math.log(e)*Math.LOG10E}})},{"./_export":38}],178:[function(e,t,r){"use strict";var n=e("./_export");n(n.S,"Math",{log1p:e("./_math-log1p")})},{"./_export":38,"./_math-log1p":68}],179:[function(e,t,r){"use strict";var n=e("./_export");n(n.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},{"./_export":38}],180:[function(e,t,r){"use strict";var n=e("./_export");n(n.S,"Math",{sign:e("./_math-sign")})},{"./_export":38,"./_math-sign":70}],181:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_math-expm1"),i=Math.exp;n(n.S+n.F*e("./_fails")((function(){return-2e-17!=!Math.sinh(-2e-17)})),"Math",{sinh:function(e){return Math.abs(e=+e)<1?(a(e)-a(-e))/2:(i(e-1)-i(-e-1))*(Math.E/2)}})},{"./_export":38,"./_fails":40,"./_math-expm1":66}],182:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_math-expm1"),i=Math.exp;n(n.S,"Math",{tanh:function(e){var t=a(e=+e),r=a(-e);return t==1/0?1:r==1/0?-1:(t-r)/(i(e)+i(-e))}})},{"./_export":38,"./_math-expm1":66}],183:[function(e,t,r){"use strict";var n=e("./_export");n(n.S,"Math",{trunc:function(e){return(e>0?Math.floor:Math.ceil)(e)}})},{"./_export":38}],184:[function(e,t,r){"use strict";var n=e("./_global"),a=e("./_has"),i=e("./_cof"),o=e("./_inherit-if-required"),s=e("./_to-primitive"),u=e("./_fails"),l=e("./_object-gopn").f,c=e("./_object-gopd").f,f=e("./_object-dp").f,h=e("./_string-trim").trim,m="Number",p=n[m],d=p,y=p.prototype,v=i(e("./_object-create")(y))==m,g="trim"in String.prototype,b=function(e){var t=s(e,!1);if("string"==typeof t&&t.length>2){var r,n,a,i=(t=g?t.trim():h(t,3)).charCodeAt(0);if(43===i||45===i){if(88===(r=t.charCodeAt(2))||120===r)return NaN}else if(48===i){switch(t.charCodeAt(1)){case 66:case 98:n=2,a=49;break;case 79:case 111:n=8,a=55;break;default:return+t}for(var o,u=t.slice(2),l=0,c=u.length;l<c;l++)if((o=u.charCodeAt(l))<48||o>a)return NaN;return parseInt(u,n)}}return+t};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(e){var t=arguments.length<1?0:e,r=this;return r instanceof p&&(v?u((function(){y.valueOf.call(r)})):i(r)!=m)?o(new d(b(t)),r,p):b(t)};for(var w,k=e("./_descriptors")?l(d):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),S=0;k.length>S;S++)a(d,w=k[S])&&!a(p,w)&&f(p,w,c(d,w));p.prototype=y,y.constructor=p,e("./_redefine")(n,m,p)}},{"./_cof":23,"./_descriptors":34,"./_fails":40,"./_global":46,"./_has":47,"./_inherit-if-required":51,"./_object-create":76,"./_object-dp":77,"./_object-gopd":80,"./_object-gopn":82,"./_redefine":97,"./_string-trim":116,"./_to-primitive":125}],185:[function(e,t,r){"use strict";var n=e("./_export");n(n.S,"Number",{EPSILON:Math.pow(2,-52)})},{"./_export":38}],186:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_global").isFinite;n(n.S,"Number",{isFinite:function(e){return"number"==typeof e&&a(e)}})},{"./_export":38,"./_global":46}],187:[function(e,t,r){"use strict";var n=e("./_export");n(n.S,"Number",{isInteger:e("./_is-integer")})},{"./_export":38,"./_is-integer":56}],188:[function(e,t,r){"use strict";var n=e("./_export");n(n.S,"Number",{isNaN:function(e){return e!=e}})},{"./_export":38}],189:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_is-integer"),i=Math.abs;n(n.S,"Number",{isSafeInteger:function(e){return a(e)&&i(e)<=9007199254740991}})},{"./_export":38,"./_is-integer":56}],190:[function(e,t,r){"use strict";var n=e("./_export");n(n.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},{"./_export":38}],191:[function(e,t,r){"use strict";var n=e("./_export");n(n.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},{"./_export":38}],192:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_parse-float");n(n.S+n.F*(Number.parseFloat!=a),"Number",{parseFloat:a})},{"./_export":38,"./_parse-float":91}],193:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_parse-int");n(n.S+n.F*(Number.parseInt!=a),"Number",{parseInt:a})},{"./_export":38,"./_parse-int":92}],194:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_to-integer"),i=e("./_a-number-value"),o=e("./_string-repeat"),s=1..toFixed,u=Math.floor,l=[0,0,0,0,0,0],c="Number.toFixed: incorrect invocation!",f="0",h=function(e,t){for(var r=-1,n=t;++r<6;)n+=e*l[r],l[r]=n%1e7,n=u(n/1e7)},m=function(e){for(var t=6,r=0;--t>=0;)r+=l[t],l[t]=u(r/e),r=r%e*1e7},p=function(){for(var e=6,t="";--e>=0;)if(""!==t||0===e||0!==l[e]){var r=String(l[e]);t=""===t?r:t+o.call(f,7-r.length)+r}return t},d=function e(t,r,n){return 0===r?n:r%2==1?e(t,r-1,n*t):e(t*t,r/2,n)};n(n.P+n.F*(!!s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!e("./_fails")((function(){s.call({})}))),"Number",{toFixed:function(e){var t,r,n,s,u=i(this,c),l=a(e),y="",v=f;if(l<0||l>20)throw RangeError(c);if(u!=u)return"NaN";if(u<=-1e21||u>=1e21)return String(u);if(u<0&&(y="-",u=-u),u>1e-21)if(t=function(e){for(var t=0,r=e;r>=4096;)t+=12,r/=4096;for(;r>=2;)t+=1,r/=2;return t}(u*d(2,69,1))-69,r=t<0?u*d(2,-t,1):u/d(2,t,1),r*=4503599627370496,(t=52-t)>0){for(h(0,r),n=l;n>=7;)h(1e7,0),n-=7;for(h(d(10,n,1),0),n=t-1;n>=23;)m(1<<23),n-=23;m(1<<n),h(1,1),m(2),v=p()}else h(0,r),h(1<<-t,0),v=p()+o.call(f,l);return v=l>0?y+((s=v.length)<=l?"0."+o.call(f,l-s)+v:v.slice(0,s-l)+"."+v.slice(s-l)):y+v}})},{"./_a-number-value":8,"./_export":38,"./_fails":40,"./_string-repeat":115,"./_to-integer":121}],195:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_fails"),i=e("./_a-number-value"),o=1..toPrecision;n(n.P+n.F*(a((function(){return"1"!==o.call(1,void 0)}))||!a((function(){o.call({})}))),"Number",{toPrecision:function(e){var t=i(this,"Number#toPrecision: incorrect invocation!");return void 0===e?o.call(t):o.call(t,e)}})},{"./_a-number-value":8,"./_export":38,"./_fails":40}],196:[function(e,t,r){"use strict";var n=e("./_export");n(n.S+n.F,"Object",{assign:e("./_object-assign")})},{"./_export":38,"./_object-assign":75}],197:[function(e,t,r){"use strict";var n=e("./_export");n(n.S,"Object",{create:e("./_object-create")})},{"./_export":38,"./_object-create":76}],198:[function(e,t,r){"use strict";var n=e("./_export");n(n.S+n.F*!e("./_descriptors"),"Object",{defineProperties:e("./_object-dps")})},{"./_descriptors":34,"./_export":38,"./_object-dps":78}],199:[function(e,t,r){"use strict";var n=e("./_export");n(n.S+n.F*!e("./_descriptors"),"Object",{defineProperty:e("./_object-dp").f})},{"./_descriptors":34,"./_export":38,"./_object-dp":77}],200:[function(e,t,r){"use strict";var n=e("./_is-object"),a=e("./_meta").onFreeze;e("./_object-sap")("freeze",(function(e){return function(t){return e&&n(t)?e(a(t)):t}}))},{"./_is-object":57,"./_meta":71,"./_object-sap":88}],201:[function(e,t,r){"use strict";var n=e("./_to-iobject"),a=e("./_object-gopd").f;e("./_object-sap")("getOwnPropertyDescriptor",(function(){return function(e,t){return a(n(e),t)}}))},{"./_object-gopd":80,"./_object-sap":88,"./_to-iobject":122}],202:[function(e,t,r){"use strict";e("./_object-sap")("getOwnPropertyNames",(function(){return e("./_object-gopn-ext").f}))},{"./_object-gopn-ext":81,"./_object-sap":88}],203:[function(e,t,r){"use strict";var n=e("./_to-object"),a=e("./_object-gpo");e("./_object-sap")("getPrototypeOf",(function(){return function(e){return a(n(e))}}))},{"./_object-gpo":84,"./_object-sap":88,"./_to-object":124}],204:[function(e,t,r){"use strict";var n=e("./_is-object");e("./_object-sap")("isExtensible",(function(e){return function(t){return!!n(t)&&(!e||e(t))}}))},{"./_is-object":57,"./_object-sap":88}],205:[function(e,t,r){"use strict";var n=e("./_is-object");e("./_object-sap")("isFrozen",(function(e){return function(t){return!n(t)||!!e&&e(t)}}))},{"./_is-object":57,"./_object-sap":88}],206:[function(e,t,r){"use strict";var n=e("./_is-object");e("./_object-sap")("isSealed",(function(e){return function(t){return!n(t)||!!e&&e(t)}}))},{"./_is-object":57,"./_object-sap":88}],207:[function(e,t,r){"use strict";var n=e("./_export");n(n.S,"Object",{is:e("./_same-value")})},{"./_export":38,"./_same-value":101}],208:[function(e,t,r){"use strict";var n=e("./_to-object"),a=e("./_object-keys");e("./_object-sap")("keys",(function(){return function(e){return a(n(e))}}))},{"./_object-keys":86,"./_object-sap":88,"./_to-object":124}],209:[function(e,t,r){"use strict";var n=e("./_is-object"),a=e("./_meta").onFreeze;e("./_object-sap")("preventExtensions",(function(e){return function(t){return e&&n(t)?e(a(t)):t}}))},{"./_is-object":57,"./_meta":71,"./_object-sap":88}],210:[function(e,t,r){"use strict";var n=e("./_is-object"),a=e("./_meta").onFreeze;e("./_object-sap")("seal",(function(e){return function(t){return e&&n(t)?e(a(t)):t}}))},{"./_is-object":57,"./_meta":71,"./_object-sap":88}],211:[function(e,t,r){"use strict";var n=e("./_export");n(n.S,"Object",{setPrototypeOf:e("./_set-proto").set})},{"./_export":38,"./_set-proto":104}],212:[function(e,t,r){"use strict";var n=e("./_classof"),a={};a[e("./_wks")("toStringTag")]="z",a+""!="[object z]"&&e("./_redefine")(Object.prototype,"toString",(function(){return"[object "+n(this)+"]"}),!0)},{"./_classof":22,"./_redefine":97,"./_wks":134}],213:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_parse-float");n(n.G+n.F*(parseFloat!=a),{parseFloat:a})},{"./_export":38,"./_parse-float":91}],214:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_parse-int");n(n.G+n.F*(parseInt!=a),{parseInt:a})},{"./_export":38,"./_parse-int":92}],215:[function(e,t,r){"use strict";var n,a,i,o,s=e("./_library"),u=e("./_global"),l=e("./_ctx"),c=e("./_classof"),f=e("./_export"),h=e("./_is-object"),m=e("./_a-function"),p=e("./_an-instance"),d=e("./_for-of"),y=e("./_species-constructor"),v=e("./_task").set,g=e("./_microtask")(),b=e("./_new-promise-capability"),w=e("./_perform"),k=e("./_user-agent"),S=e("./_promise-resolve"),j="Promise",P=u.TypeError,_=u.process,A=_&&_.versions,O=A&&A.v8||"",C=u[j],I="process"==c(_),x=function(){},B=a=b.f,E=!!function(){try{var t=C.resolve(1),r=(t.constructor={})[e("./_wks")("species")]=function(e){e(x,x)};return(I||"function"==typeof PromiseRejectionEvent)&&t.then(x)instanceof r&&0!==O.indexOf("6.6")&&-1===k.indexOf("Chrome/66")}catch(e){}}(),N=function(e){var t;return!(!h(e)||"function"!=typeof(t=e.then))&&t},V=function(e,t){if(!e._n){e._n=!0;var r=e._c;g((function(){for(var n=e._v,a=1==e._s,i=0,o=function(t){var r,i,o,s=a?t.ok:t.fail,u=t.resolve,l=t.reject,c=t.domain;try{s?(a||(2==e._h&&M(e),e._h=1),!0===s?r=n:(c&&c.enter(),r=s(n),c&&(c.exit(),o=!0)),r===t.promise?l(P("Promise-chain cycle")):(i=N(r))?i.call(r,u,l):u(r)):l(n)}catch(e){c&&!o&&c.exit(),l(e)}};r.length>i;)o(r[i++]);e._c=[],e._n=!1,t&&!e._h&&D(e)}))}},D=function(e){v.call(u,(function(){var t,r,n,a=e._v,i=R(e);if(i&&(t=w((function(){I?_.emit("unhandledRejection",a,e):(r=u.onunhandledrejection)?r({promise:e,reason:a}):(n=u.console)&&n.error&&n.error("Unhandled promise rejection",a)})),e._h=I||R(e)?2:1),e._a=void 0,i&&t.e)throw t.v}))},R=function(e){return 1!==e._h&&0===(e._a||e._c).length},M=function(e){v.call(u,(function(){var t;I?_.emit("rejectionHandled",e):(t=u.onrejectionhandled)&&t({promise:e,reason:e._v})}))},T=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),V(t,!0))},K=function e(t){var r,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw P("Promise can't be resolved itself");(r=N(t))?g((function(){var a={_w:n,_d:!1};try{r.call(t,l(e,a,1),l(T,a,1))}catch(e){T.call(a,e)}})):(n._v=t,n._s=1,V(n,!1))}catch(e){T.call({_w:n,_d:!1},e)}}};E||(C=function(e){p(this,C,j,"_h"),m(e),n.call(this);try{e(l(K,this,1),l(T,this,1))}catch(e){T.call(this,e)}},(n=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=e("./_redefine-all")(C.prototype,{then:function(e,t){var r=B(y(this,C));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=I?_.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&V(this,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new n;this.promise=e,this.resolve=l(K,e,1),this.reject=l(T,e,1)},b.f=B=function(e){return e===C||e===o?new i(e):a(e)}),f(f.G+f.W+f.F*!E,{Promise:C}),e("./_set-to-string-tag")(C,j),e("./_set-species")(j),o=e("./_core")[j],f(f.S+f.F*!E,j,{reject:function(e){var t=B(this);return(0,t.reject)(e),t.promise}}),f(f.S+f.F*(s||!E),j,{resolve:function(e){return S(s&&this===o?C:this,e)}}),f(f.S+f.F*!(E&&e("./_iter-detect")((function(e){C.all(e).catch(x)}))),j,{all:function(e){var t=this,r=B(t),n=r.resolve,a=r.reject,i=w((function(){var r=[],i=0,o=1;d(e,!1,(function(e){var s=i++,u=!1;r.push(void 0),o++,t.resolve(e).then((function(e){u||(u=!0,r[s]=e,--o||n(r))}),a)})),--o||n(r)}));return i.e&&a(i.v),r.promise},race:function(e){var t=this,r=B(t),n=r.reject,a=w((function(){d(e,!1,(function(e){t.resolve(e).then(r.resolve,n)}))}));return a.e&&n(a.v),r.promise}})},{"./_a-function":7,"./_an-instance":11,"./_classof":22,"./_core":28,"./_ctx":30,"./_export":38,"./_for-of":44,"./_global":46,"./_is-object":57,"./_iter-detect":62,"./_library":65,"./_microtask":73,"./_new-promise-capability":74,"./_perform":93,"./_promise-resolve":94,"./_redefine-all":96,"./_set-species":105,"./_set-to-string-tag":106,"./_species-constructor":109,"./_task":118,"./_user-agent":130,"./_wks":134}],216:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_a-function"),i=e("./_an-object"),o=(e("./_global").Reflect||{}).apply,s=Function.apply;n(n.S+n.F*!e("./_fails")((function(){o((function(){}))})),"Reflect",{apply:function(e,t,r){var n=a(e),u=i(r);return o?o(n,t,u):s.call(n,t,u)}})},{"./_a-function":7,"./_an-object":12,"./_export":38,"./_fails":40,"./_global":46}],217:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_object-create"),i=e("./_a-function"),o=e("./_an-object"),s=e("./_is-object"),u=e("./_fails"),l=e("./_bind"),c=(e("./_global").Reflect||{}).construct,f=u((function(){function e(){}return!(c((function(){}),[],e)instanceof e)})),h=!u((function(){c((function(){}))}));n(n.S+n.F*(f||h),"Reflect",{construct:function(e,t){i(e),o(t);var r=arguments.length<3?e:i(arguments[2]);if(h&&!f)return c(e,t,r);if(e==r){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var n=[null];return n.push.apply(n,t),new(l.apply(e,n))}var u=r.prototype,m=a(s(u)?u:Object.prototype),p=Function.apply.call(e,m,t);return s(p)?p:m}})},{"./_a-function":7,"./_an-object":12,"./_bind":21,"./_export":38,"./_fails":40,"./_global":46,"./_is-object":57,"./_object-create":76}],218:[function(e,t,r){"use strict";var n=e("./_object-dp"),a=e("./_export"),i=e("./_an-object"),o=e("./_to-primitive");a(a.S+a.F*e("./_fails")((function(){Reflect.defineProperty(n.f({},1,{value:1}),1,{value:2})})),"Reflect",{defineProperty:function(e,t,r){i(e),t=o(t,!0),i(r);try{return n.f(e,t,r),!0}catch(e){return!1}}})},{"./_an-object":12,"./_export":38,"./_fails":40,"./_object-dp":77,"./_to-primitive":125}],219:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_object-gopd").f,i=e("./_an-object");n(n.S,"Reflect",{deleteProperty:function(e,t){var r=a(i(e),t);return!(r&&!r.configurable)&&delete e[t]}})},{"./_an-object":12,"./_export":38,"./_object-gopd":80}],220:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_an-object"),i=function(e){this._t=a(e),this._i=0;var t,r=this._k=[];for(t in e)r.push(t)};e("./_iter-create")(i,"Object",(function(){var e,t=this,r=t._k;do{if(t._i>=r.length)return{value:void 0,done:!0}}while(!((e=r[t._i++])in t._t));return{value:e,done:!1}})),n(n.S,"Reflect",{enumerate:function(e){return new i(e)}})},{"./_an-object":12,"./_export":38,"./_iter-create":60}],221:[function(e,t,r){"use strict";var n=e("./_object-gopd"),a=e("./_export"),i=e("./_an-object");a(a.S,"Reflect",{getOwnPropertyDescriptor:function(e,t){return n.f(i(e),t)}})},{"./_an-object":12,"./_export":38,"./_object-gopd":80}],222:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_object-gpo"),i=e("./_an-object");n(n.S,"Reflect",{getPrototypeOf:function(e){return a(i(e))}})},{"./_an-object":12,"./_export":38,"./_object-gpo":84}],223:[function(e,t,r){"use strict";var n=e("./_object-gopd"),a=e("./_object-gpo"),i=e("./_has"),o=e("./_export"),s=e("./_is-object"),u=e("./_an-object");o(o.S,"Reflect",{get:function e(t,r){var o,l,c=arguments.length<3?t:arguments[2];return u(t)===c?t[r]:(o=n.f(t,r))?i(o,"value")?o.value:void 0!==o.get?o.get.call(c):void 0:s(l=a(t))?e(l,r,c):void 0}})},{"./_an-object":12,"./_export":38,"./_has":47,"./_is-object":57,"./_object-gopd":80,"./_object-gpo":84}],224:[function(e,t,r){"use strict";var n=e("./_export");n(n.S,"Reflect",{has:function(e,t){return t in e}})},{"./_export":38}],225:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_an-object"),i=Object.isExtensible;n(n.S,"Reflect",{isExtensible:function(e){return a(e),!i||i(e)}})},{"./_an-object":12,"./_export":38}],226:[function(e,t,r){"use strict";var n=e("./_export");n(n.S,"Reflect",{ownKeys:e("./_own-keys")})},{"./_export":38,"./_own-keys":90}],227:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_an-object"),i=Object.preventExtensions;n(n.S,"Reflect",{preventExtensions:function(e){a(e);try{return i&&i(e),!0}catch(e){return!1}}})},{"./_an-object":12,"./_export":38}],228:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_set-proto");a&&n(n.S,"Reflect",{setPrototypeOf:function(e,t){a.check(e,t);try{return a.set(e,t),!0}catch(e){return!1}}})},{"./_export":38,"./_set-proto":104}],229:[function(e,t,r){"use strict";var n=e("./_object-dp"),a=e("./_object-gopd"),i=e("./_object-gpo"),o=e("./_has"),s=e("./_export"),u=e("./_property-desc"),l=e("./_an-object"),c=e("./_is-object");s(s.S,"Reflect",{set:function e(t,r,s){var f,h,m=arguments.length<4?t:arguments[3],p=a.f(l(t),r);if(!p){if(c(h=i(t)))return e(h,r,s,m);p=u(0)}if(o(p,"value")){if(!1===p.writable||!c(m))return!1;if(f=a.f(m,r)){if(f.get||f.set||!1===f.writable)return!1;f.value=s,n.f(m,r,f)}else n.f(m,r,u(0,s));return!0}return void 0!==p.set&&(p.set.call(m,s),!0)}})},{"./_an-object":12,"./_export":38,"./_has":47,"./_is-object":57,"./_object-dp":77,"./_object-gopd":80,"./_object-gpo":84,"./_property-desc":95}],230:[function(e,t,r){"use strict";var n=e("./_global"),a=e("./_inherit-if-required"),i=e("./_object-dp").f,o=e("./_object-gopn").f,s=e("./_is-regexp"),u=e("./_flags"),l=n.RegExp,c=l,f=l.prototype,h=/a/g,m=/a/g,p=new l(h)!==h;if(e("./_descriptors")&&(!p||e("./_fails")((function(){return m[e("./_wks")("match")]=!1,l(h)!=h||l(m)==m||"/a/i"!=l(h,"i")})))){l=function(e,t){var r=this instanceof l,n=s(e),i=void 0===t;return!r&&n&&e.constructor===l&&i?e:a(p?new c(n&&!i?e.source:e,t):c((n=e instanceof l)?e.source:e,n&&i?u.call(e):t),r?this:f,l)};for(var d=function(e){e in l||i(l,e,{configurable:!0,get:function(){return c[e]},set:function(t){c[e]=t}})},y=o(c),v=0;y.length>v;)d(y[v++]);f.constructor=l,l.prototype=f,e("./_redefine")(n,"RegExp",l)}e("./_set-species")("RegExp")},{"./_descriptors":34,"./_fails":40,"./_flags":42,"./_global":46,"./_inherit-if-required":51,"./_is-regexp":58,"./_object-dp":77,"./_object-gopn":82,"./_redefine":97,"./_set-species":105,"./_wks":134}],231:[function(e,t,r){"use strict";var n=e("./_regexp-exec");e("./_export")({target:"RegExp",proto:!0,forced:n!==/./.exec},{exec:n})},{"./_export":38,"./_regexp-exec":99}],232:[function(e,t,r){"use strict";e("./_descriptors")&&"g"!=/./g.flags&&e("./_object-dp").f(RegExp.prototype,"flags",{configurable:!0,get:e("./_flags")})},{"./_descriptors":34,"./_flags":42,"./_object-dp":77}],233:[function(e,t,r){"use strict";var n=e("./_an-object"),a=e("./_to-length"),i=e("./_advance-string-index"),o=e("./_regexp-exec-abstract");e("./_fix-re-wks")("match",1,(function(e,t,r,s){return[function(r){var n=e(this),a=null==r?void 0:r[t];return void 0!==a?a.call(r,n):new RegExp(r)[t](String(n))},function(e){var t=s(r,e,this);if(t.done)return t.value;var u=n(e),l=String(this);if(!u.global)return o(u,l);var c=u.unicode;u.lastIndex=0;for(var f,h=[],m=0;null!==(f=o(u,l));){var p=String(f[0]);h[m]=p,""===p&&(u.lastIndex=i(l,a(u.lastIndex),c)),m++}return 0===m?null:h}]}))},{"./_advance-string-index":10,"./_an-object":12,"./_fix-re-wks":41,"./_regexp-exec-abstract":98,"./_to-length":123}],234:[function(e,t,r){"use strict";var n=e("./_an-object"),a=e("./_to-object"),i=e("./_to-length"),o=e("./_to-integer"),s=e("./_advance-string-index"),u=e("./_regexp-exec-abstract"),l=Math.max,c=Math.min,f=Math.floor,h=/\$([$&`']|\d\d?|<[^>]*>)/g,m=/\$([$&`']|\d\d?)/g;e("./_fix-re-wks")("replace",2,(function(e,t,r,p){return[function(n,a){var i=e(this),o=null==n?void 0:n[t];return void 0!==o?o.call(n,i,a):r.call(String(i),n,a)},function(e,t){var a=p(r,e,this,t);if(a.done)return a.value;var f=n(e),h=String(this),m="function"==typeof t;m||(t=String(t));var y=f.global;if(y){var v=f.unicode;f.lastIndex=0}for(var g=[];;){var b=u(f,h);if(null===b)break;if(g.push(b),!y)break;""===String(b[0])&&(f.lastIndex=s(h,i(f.lastIndex),v))}for(var w,k="",S=0,j=0;j<g.length;j++){b=g[j];for(var P=String(b[0]),_=l(c(o(b.index),h.length),0),A=[],O=1;O<b.length;O++)A.push(void 0===(w=b[O])?w:String(w));var C=b.groups;if(m){var I=[P].concat(A,_,h);void 0!==C&&I.push(C);var x=String(t.apply(void 0,I))}else x=d(P,h,_,A,C,t);_>=S&&(k+=h.slice(S,_)+x,S=_+P.length)}return k+h.slice(S)}];function d(e,t,n,i,o,s){var u=n+e.length,l=i.length,c=m;return void 0!==o&&(o=a(o),c=h),r.call(s,c,(function(r,a){var s;switch(a.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,n);case"'":return t.slice(u);case"<":s=o[a.slice(1,-1)];break;default:var c=+a;if(0===c)return r;if(c>l){var h=f(c/10);return 0===h?r:h<=l?void 0===i[h-1]?a.charAt(1):i[h-1]+a.charAt(1):r}s=i[c-1]}return void 0===s?"":s}))}}))},{"./_advance-string-index":10,"./_an-object":12,"./_fix-re-wks":41,"./_regexp-exec-abstract":98,"./_to-integer":121,"./_to-length":123,"./_to-object":124}],235:[function(e,t,r){"use strict";var n=e("./_an-object"),a=e("./_same-value"),i=e("./_regexp-exec-abstract");e("./_fix-re-wks")("search",1,(function(e,t,r,o){return[function(r){var n=e(this),a=null==r?void 0:r[t];return void 0!==a?a.call(r,n):new RegExp(r)[t](String(n))},function(e){var t=o(r,e,this);if(t.done)return t.value;var s=n(e),u=String(this),l=s.lastIndex;a(l,0)||(s.lastIndex=0);var c=i(s,u);return a(s.lastIndex,l)||(s.lastIndex=l),null===c?-1:c.index}]}))},{"./_an-object":12,"./_fix-re-wks":41,"./_regexp-exec-abstract":98,"./_same-value":101}],236:[function(e,t,r){"use strict";var n=e("./_is-regexp"),a=e("./_an-object"),i=e("./_species-constructor"),o=e("./_advance-string-index"),s=e("./_to-length"),u=e("./_regexp-exec-abstract"),l=e("./_regexp-exec"),c=e("./_fails"),f=Math.min,h=[].push,m="split",p="length",d="lastIndex",y=4294967295,v=!c((function(){RegExp(y,"y")}));e("./_fix-re-wks")("split",2,(function(e,t,r,c){var g;return g="c"=="abbc"[m](/(b)*/)[1]||4!="test"[m](/(?:)/,-1)[p]||2!="ab"[m](/(?:ab)*/)[p]||4!="."[m](/(.?)(.?)/)[p]||"."[m](/()()/)[p]>1||""[m](/.?/)[p]?function(e,t){var a=String(this);if(void 0===e&&0===t)return[];if(!n(e))return r.call(a,e,t);for(var i,o,s,u=[],c=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),f=0,m=void 0===t?y:t>>>0,v=new RegExp(e.source,c+"g");(i=l.call(v,a))&&!((o=v[d])>f&&(u.push(a.slice(f,i.index)),i[p]>1&&i.index<a[p]&&h.apply(u,i.slice(1)),s=i[0][p],f=o,u[p]>=m));)v[d]===i.index&&v[d]++;return f===a[p]?!s&&v.test("")||u.push(""):u.push(a.slice(f)),u[p]>m?u.slice(0,m):u}:"0"[m](void 0,0)[p]?function(e,t){return void 0===e&&0===t?[]:r.call(this,e,t)}:r,[function(r,n){var a=e(this),i=null==r?void 0:r[t];return void 0!==i?i.call(r,a,n):g.call(String(a),r,n)},function(e,t){var n=c(g,e,this,t,g!==r);if(n.done)return n.value;var l=a(e),h=String(this),m=i(l,RegExp),p=l.unicode,d=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(v?"y":"g"),b=new m(v?l:"^(?:"+l.source+")",d),w=void 0===t?y:t>>>0;if(0===w)return[];if(0===h.length)return null===u(b,h)?[h]:[];for(var k=0,S=0,j=[];S<h.length;){b.lastIndex=v?S:0;var P,_=u(b,v?h:h.slice(S));if(null===_||(P=f(s(b.lastIndex+(v?0:S)),h.length))===k)S=o(h,S,p);else{if(j.push(h.slice(k,S)),j.length===w)return j;for(var A=1;A<=_.length-1;A++)if(j.push(_[A]),j.length===w)return j;S=k=P}}return j.push(h.slice(k)),j}]}))},{"./_advance-string-index":10,"./_an-object":12,"./_fails":40,"./_fix-re-wks":41,"./_is-regexp":58,"./_regexp-exec":99,"./_regexp-exec-abstract":98,"./_species-constructor":109,"./_to-length":123}],237:[function(e,t,r){"use strict";e("./es6.regexp.flags");var n=e("./_an-object"),a=e("./_flags"),i=e("./_descriptors"),o="toString",s=/./[o],u=function(t){e("./_redefine")(RegExp.prototype,o,t,!0)};e("./_fails")((function(){return"/a/b"!=s.call({source:"a",flags:"b"})}))?u((function(){var e=n(this);return"/".concat(e.source,"/","flags"in e?e.flags:!i&&e instanceof RegExp?a.call(e):void 0)})):s.name!=o&&u((function(){return s.call(this)}))},{"./_an-object":12,"./_descriptors":34,"./_fails":40,"./_flags":42,"./_redefine":97,"./es6.regexp.flags":232}],238:[function(e,t,r){"use strict";var n=e("./_collection-strong"),a=e("./_validate-collection");t.exports=e("./_collection")("Set",(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(e){return n.def(a(this,"Set"),e=0===e?0:e,e)}},n)},{"./_collection":27,"./_collection-strong":24,"./_validate-collection":131}],239:[function(e,t,r){"use strict";e("./_string-html")("anchor",(function(e){return function(t){return e(this,"a","name",t)}}))},{"./_string-html":113}],240:[function(e,t,r){"use strict";e("./_string-html")("big",(function(e){return function(){return e(this,"big","","")}}))},{"./_string-html":113}],241:[function(e,t,r){"use strict";e("./_string-html")("blink",(function(e){return function(){return e(this,"blink","","")}}))},{"./_string-html":113}],242:[function(e,t,r){"use strict";e("./_string-html")("bold",(function(e){return function(){return e(this,"b","","")}}))},{"./_string-html":113}],243:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_string-at")(!1);n(n.P,"String",{codePointAt:function(e){return a(this,e)}})},{"./_export":38,"./_string-at":111}],244:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_to-length"),i=e("./_string-context"),o="endsWith",s=""[o];n(n.P+n.F*e("./_fails-is-regexp")(o),"String",{endsWith:function(e){var t=i(this,e,o),r=arguments.length>1?arguments[1]:void 0,n=a(t.length),u=void 0===r?n:Math.min(a(r),n),l=String(e);return s?s.call(t,l,u):t.slice(u-l.length,u)===l}})},{"./_export":38,"./_fails-is-regexp":39,"./_string-context":112,"./_to-length":123}],245:[function(e,t,r){"use strict";e("./_string-html")("fixed",(function(e){return function(){return e(this,"tt","","")}}))},{"./_string-html":113}],246:[function(e,t,r){"use strict";e("./_string-html")("fontcolor",(function(e){return function(t){return e(this,"font","color",t)}}))},{"./_string-html":113}],247:[function(e,t,r){"use strict";e("./_string-html")("fontsize",(function(e){return function(t){return e(this,"font","size",t)}}))},{"./_string-html":113}],248:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_to-absolute-index"),i=String.fromCharCode,o=String.fromCodePoint;n(n.S+n.F*(!!o&&1!=o.length),"String",{fromCodePoint:function(e){for(var t,r=[],n=arguments.length,o=0;n>o;){if(t=+arguments[o++],a(t,1114111)!==t)throw RangeError(t+" is not a valid code point");r.push(t<65536?i(t):i(55296+((t-=65536)>>10),t%1024+56320))}return r.join("")}})},{"./_export":38,"./_to-absolute-index":119}],249:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_string-context"),i="includes";n(n.P+n.F*e("./_fails-is-regexp")(i),"String",{includes:function(e){return!!~a(this,e,i).indexOf(e,arguments.length>1?arguments[1]:void 0)}})},{"./_export":38,"./_fails-is-regexp":39,"./_string-context":112}],250:[function(e,t,r){"use strict";e("./_string-html")("italics",(function(e){return function(){return e(this,"i","","")}}))},{"./_string-html":113}],251:[function(e,t,r){"use strict";var n=e("./_string-at")(!0);e("./_iter-define")(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=n(t,r),this._i+=e.length,{value:e,done:!1})}))},{"./_iter-define":61,"./_string-at":111}],252:[function(e,t,r){"use strict";e("./_string-html")("link",(function(e){return function(t){return e(this,"a","href",t)}}))},{"./_string-html":113}],253:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_to-iobject"),i=e("./_to-length");n(n.S,"String",{raw:function(e){for(var t=a(e.raw),r=i(t.length),n=arguments.length,o=[],s=0;r>s;)o.push(String(t[s++])),s<n&&o.push(String(arguments[s]));return o.join("")}})},{"./_export":38,"./_to-iobject":122,"./_to-length":123}],254:[function(e,t,r){"use strict";var n=e("./_export");n(n.P,"String",{repeat:e("./_string-repeat")})},{"./_export":38,"./_string-repeat":115}],255:[function(e,t,r){"use strict";e("./_string-html")("small",(function(e){return function(){return e(this,"small","","")}}))},{"./_string-html":113}],256:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_to-length"),i=e("./_string-context"),o="startsWith",s=""[o];n(n.P+n.F*e("./_fails-is-regexp")(o),"String",{startsWith:function(e){var t=i(this,e,o),r=a(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),n=String(e);return s?s.call(t,n,r):t.slice(r,r+n.length)===n}})},{"./_export":38,"./_fails-is-regexp":39,"./_string-context":112,"./_to-length":123}],257:[function(e,t,r){"use strict";e("./_string-html")("strike",(function(e){return function(){return e(this,"strike","","")}}))},{"./_string-html":113}],258:[function(e,t,r){"use strict";e("./_string-html")("sub",(function(e){return function(){return e(this,"sub","","")}}))},{"./_string-html":113}],259:[function(e,t,r){"use strict";e("./_string-html")("sup",(function(e){return function(){return e(this,"sup","","")}}))},{"./_string-html":113}],260:[function(e,t,r){"use strict";e("./_string-trim")("trim",(function(e){return function(){return e(this,3)}}))},{"./_string-trim":116}],261:[function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var a=e("./_global"),i=e("./_has"),o=e("./_descriptors"),s=e("./_export"),u=e("./_redefine"),l=e("./_meta").KEY,c=e("./_fails"),f=e("./_shared"),h=e("./_set-to-string-tag"),m=e("./_uid"),p=e("./_wks"),d=e("./_wks-ext"),y=e("./_wks-define"),v=e("./_enum-keys"),g=e("./_is-array"),b=e("./_an-object"),w=e("./_is-object"),k=e("./_to-object"),S=e("./_to-iobject"),j=e("./_to-primitive"),P=e("./_property-desc"),_=e("./_object-create"),A=e("./_object-gopn-ext"),O=e("./_object-gopd"),C=e("./_object-gops"),I=e("./_object-dp"),x=e("./_object-keys"),B=O.f,E=I.f,N=A.f,V=a.Symbol,D=a.JSON,R=D&&D.stringify,M="prototype",T=p("_hidden"),K=p("toPrimitive"),L={}.propertyIsEnumerable,U=f("symbol-registry"),q=f("symbols"),H=f("op-symbols"),W=Object[M],J="function"==typeof V&&!!C.f,F=a.QObject,G=!F||!F[M]||!F[M].findChild,z=o&&c((function(){return 7!=_(E({},"a",{get:function(){return E(this,"a",{value:7}).a}})).a}))?function(e,t,r){var n=B(W,t);n&&delete W[t],E(e,t,r),n&&e!==W&&E(W,t,n)}:E,Q=function(e){var t=q[e]=_(V[M]);return t._k=e,t},$=J&&"symbol"==n(V.iterator)?function(e){return"symbol"==n(e)}:function(e){return e instanceof V},Y=function(e,t,r){return e===W&&Y(H,t,r),b(e),t=j(t,!0),b(r),i(q,t)?(r.enumerable?(i(e,T)&&e[T][t]&&(e[T][t]=!1),r=_(r,{enumerable:P(0,!1)})):(i(e,T)||E(e,T,P(1,{})),e[T][t]=!0),z(e,t,r)):E(e,t,r)},Z=function(e,t){b(e);for(var r,n=v(t=S(t)),a=0,i=n.length;i>a;)Y(e,r=n[a++],t[r]);return e},X=function(e){var t=L.call(this,e=j(e,!0));return!(this===W&&i(q,e)&&!i(H,e))&&(!(t||!i(this,e)||!i(q,e)||i(this,T)&&this[T][e])||t)},ee=function(e,t){if(e=S(e),t=j(t,!0),e!==W||!i(q,t)||i(H,t)){var r=B(e,t);return!r||!i(q,t)||i(e,T)&&e[T][t]||(r.enumerable=!0),r}},te=function(e){for(var t,r=N(S(e)),n=[],a=0;r.length>a;)i(q,t=r[a++])||t==T||t==l||n.push(t);return n},re=function(e){for(var t,r=e===W,n=N(r?H:S(e)),a=[],o=0;n.length>o;)!i(q,t=n[o++])||r&&!i(W,t)||a.push(q[t]);return a};J||(V=function(){if(this instanceof V)throw TypeError("Symbol is not a constructor!");var e=m(arguments.length>0?arguments[0]:void 0),t=function t(r){this===W&&t.call(H,r),i(this,T)&&i(this[T],e)&&(this[T][e]=!1),z(this,e,P(1,r))};return o&&G&&z(W,e,{configurable:!0,set:t}),Q(e)},u(V[M],"toString",(function(){return this._k})),O.f=ee,I.f=Y,e("./_object-gopn").f=A.f=te,e("./_object-pie").f=X,C.f=re,o&&!e("./_library")&&u(W,"propertyIsEnumerable",X,!0),d.f=function(e){return Q(p(e))}),s(s.G+s.W+s.F*!J,{Symbol:V});for(var ne="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ae=0;ne.length>ae;)p(ne[ae++]);for(var ie=x(p.store),oe=0;ie.length>oe;)y(ie[oe++]);s(s.S+s.F*!J,"Symbol",{for:function(e){return i(U,e+="")?U[e]:U[e]=V(e)},keyFor:function(e){if(!$(e))throw TypeError(e+" is not a symbol!");for(var t in U)if(U[t]===e)return t},useSetter:function(){G=!0},useSimple:function(){G=!1}}),s(s.S+s.F*!J,"Object",{create:function(e,t){return void 0===t?_(e):Z(_(e),t)},defineProperty:Y,defineProperties:Z,getOwnPropertyDescriptor:ee,getOwnPropertyNames:te,getOwnPropertySymbols:re});var se=c((function(){C.f(1)}));s(s.S+s.F*se,"Object",{getOwnPropertySymbols:function(e){return C.f(k(e))}}),D&&s(s.S+s.F*(!J||c((function(){var e=V();return"[null]"!=R([e])||"{}"!=R({a:e})||"{}"!=R(Object(e))}))),"JSON",{stringify:function(e){for(var t,r,n=[e],a=1;arguments.length>a;)n.push(arguments[a++]);if(r=t=n[1],(w(t)||void 0!==e)&&!$(e))return g(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!$(t))return t}),n[1]=t,R.apply(D,n)}}),V[M][K]||e("./_hide")(V[M],K,V[M].valueOf),h(V,"Symbol"),h(Math,"Math",!0),h(a.JSON,"JSON",!0)},{"./_an-object":12,"./_descriptors":34,"./_enum-keys":37,"./_export":38,"./_fails":40,"./_global":46,"./_has":47,"./_hide":48,"./_is-array":55,"./_is-object":57,"./_library":65,"./_meta":71,"./_object-create":76,"./_object-dp":77,"./_object-gopd":80,"./_object-gopn":82,"./_object-gopn-ext":81,"./_object-gops":83,"./_object-keys":86,"./_object-pie":87,"./_property-desc":95,"./_redefine":97,"./_set-to-string-tag":106,"./_shared":108,"./_to-iobject":122,"./_to-object":124,"./_to-primitive":125,"./_uid":129,"./_wks":134,"./_wks-define":132,"./_wks-ext":133}],262:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_typed"),i=e("./_typed-buffer"),o=e("./_an-object"),s=e("./_to-absolute-index"),u=e("./_to-length"),l=e("./_is-object"),c=e("./_global").ArrayBuffer,f=e("./_species-constructor"),h=i.ArrayBuffer,m=i.DataView,p=a.ABV&&c.isView,d=h.prototype.slice,y=a.VIEW,v="ArrayBuffer";n(n.G+n.W+n.F*(c!==h),{ArrayBuffer:h}),n(n.S+n.F*!a.CONSTR,v,{isView:function(e){return p&&p(e)||l(e)&&y in e}}),n(n.P+n.U+n.F*e("./_fails")((function(){return!new h(2).slice(1,void 0).byteLength})),v,{slice:function(e,t){if(void 0!==d&&void 0===t)return d.call(o(this),e);for(var r=o(this).byteLength,n=s(e,r),a=s(void 0===t?r:t,r),i=new(f(this,h))(u(a-n)),l=new m(this),c=new m(i),p=0;n<a;)c.setUint8(p++,l.getUint8(n++));return i}}),e("./_set-species")(v)},{"./_an-object":12,"./_export":38,"./_fails":40,"./_global":46,"./_is-object":57,"./_set-species":105,"./_species-constructor":109,"./_to-absolute-index":119,"./_to-length":123,"./_typed":128,"./_typed-buffer":127}],263:[function(e,t,r){"use strict";var n=e("./_export");n(n.G+n.W+n.F*!e("./_typed").ABV,{DataView:e("./_typed-buffer").DataView})},{"./_export":38,"./_typed":128,"./_typed-buffer":127}],264:[function(e,t,r){"use strict";e("./_typed-array")("Float32",4,(function(e){return function(t,r,n){return e(this,t,r,n)}}))},{"./_typed-array":126}],265:[function(e,t,r){"use strict";e("./_typed-array")("Float64",8,(function(e){return function(t,r,n){return e(this,t,r,n)}}))},{"./_typed-array":126}],266:[function(e,t,r){"use strict";e("./_typed-array")("Int16",2,(function(e){return function(t,r,n){return e(this,t,r,n)}}))},{"./_typed-array":126}],267:[function(e,t,r){"use strict";e("./_typed-array")("Int32",4,(function(e){return function(t,r,n){return e(this,t,r,n)}}))},{"./_typed-array":126}],268:[function(e,t,r){"use strict";e("./_typed-array")("Int8",1,(function(e){return function(t,r,n){return e(this,t,r,n)}}))},{"./_typed-array":126}],269:[function(e,t,r){"use strict";e("./_typed-array")("Uint16",2,(function(e){return function(t,r,n){return e(this,t,r,n)}}))},{"./_typed-array":126}],270:[function(e,t,r){"use strict";e("./_typed-array")("Uint32",4,(function(e){return function(t,r,n){return e(this,t,r,n)}}))},{"./_typed-array":126}],271:[function(e,t,r){"use strict";e("./_typed-array")("Uint8",1,(function(e){return function(t,r,n){return e(this,t,r,n)}}))},{"./_typed-array":126}],272:[function(e,t,r){"use strict";e("./_typed-array")("Uint8",1,(function(e){return function(t,r,n){return e(this,t,r,n)}}),!0)},{"./_typed-array":126}],273:[function(e,t,r){"use strict";var n,a=e("./_global"),i=e("./_array-methods")(0),o=e("./_redefine"),s=e("./_meta"),u=e("./_object-assign"),l=e("./_collection-weak"),c=e("./_is-object"),f=e("./_validate-collection"),h=e("./_validate-collection"),m=!a.ActiveXObject&&"ActiveXObject"in a,p="WeakMap",d=s.getWeak,y=Object.isExtensible,v=l.ufstore,g=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},b={get:function(e){if(c(e)){var t=d(e);return!0===t?v(f(this,p)).get(e):t?t[this._i]:void 0}},set:function(e,t){return l.def(f(this,p),e,t)}},w=t.exports=e("./_collection")(p,g,b,l,!0,!0);h&&m&&(u((n=l.getConstructor(g,p)).prototype,b),s.NEED=!0,i(["delete","has","get","set"],(function(e){var t=w.prototype,r=t[e];o(t,e,(function(t,a){if(c(t)&&!y(t)){this._f||(this._f=new n);var i=this._f[e](t,a);return"set"==e?this:i}return r.call(this,t,a)}))})))},{"./_array-methods":17,"./_collection":27,"./_collection-weak":26,"./_global":46,"./_is-object":57,"./_meta":71,"./_object-assign":75,"./_redefine":97,"./_validate-collection":131}],274:[function(e,t,r){"use strict";var n=e("./_collection-weak"),a=e("./_validate-collection"),i="WeakSet";e("./_collection")(i,(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(e){return n.def(a(this,i),e,!0)}},n,!1,!0)},{"./_collection":27,"./_collection-weak":26,"./_validate-collection":131}],275:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_flatten-into-array"),i=e("./_to-object"),o=e("./_to-length"),s=e("./_a-function"),u=e("./_array-species-create");n(n.P,"Array",{flatMap:function(e){var t,r,n=i(this);return s(e),t=o(n.length),r=u(n,0),a(r,n,n,t,0,1,e,arguments[1]),r}}),e("./_add-to-unscopables")("flatMap")},{"./_a-function":7,"./_add-to-unscopables":9,"./_array-species-create":20,"./_export":38,"./_flatten-into-array":43,"./_to-length":123,"./_to-object":124}],276:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_flatten-into-array"),i=e("./_to-object"),o=e("./_to-length"),s=e("./_to-integer"),u=e("./_array-species-create");n(n.P,"Array",{flatten:function(){var e=arguments[0],t=i(this),r=o(t.length),n=u(t,0);return a(n,t,t,r,0,void 0===e?1:s(e)),n}}),e("./_add-to-unscopables")("flatten")},{"./_add-to-unscopables":9,"./_array-species-create":20,"./_export":38,"./_flatten-into-array":43,"./_to-integer":121,"./_to-length":123,"./_to-object":124}],277:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_array-includes")(!0);n(n.P,"Array",{includes:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),e("./_add-to-unscopables")("includes")},{"./_add-to-unscopables":9,"./_array-includes":16,"./_export":38}],278:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_microtask")(),i=e("./_global").process,o="process"==e("./_cof")(i);n(n.G,{asap:function(e){var t=o&&i.domain;a(t?t.bind(e):e)}})},{"./_cof":23,"./_export":38,"./_global":46,"./_microtask":73}],279:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_cof");n(n.S,"Error",{isError:function(e){return"Error"===a(e)}})},{"./_cof":23,"./_export":38}],280:[function(e,t,r){"use strict";var n=e("./_export");n(n.G,{global:e("./_global")})},{"./_export":38,"./_global":46}],281:[function(e,t,r){"use strict";e("./_set-collection-from")("Map")},{"./_set-collection-from":102}],282:[function(e,t,r){"use strict";e("./_set-collection-of")("Map")},{"./_set-collection-of":103}],283:[function(e,t,r){"use strict";var n=e("./_export");n(n.P+n.R,"Map",{toJSON:e("./_collection-to-json")("Map")})},{"./_collection-to-json":25,"./_export":38}],284:[function(e,t,r){"use strict";var n=e("./_export");n(n.S,"Math",{clamp:function(e,t,r){return Math.min(r,Math.max(t,e))}})},{"./_export":38}],285:[function(e,t,r){"use strict";var n=e("./_export");n(n.S,"Math",{DEG_PER_RAD:Math.PI/180})},{"./_export":38}],286:[function(e,t,r){"use strict";var n=e("./_export"),a=180/Math.PI;n(n.S,"Math",{degrees:function(e){return e*a}})},{"./_export":38}],287:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_math-scale"),i=e("./_math-fround");n(n.S,"Math",{fscale:function(e,t,r,n,o){return i(a(e,t,r,n,o))}})},{"./_export":38,"./_math-fround":67,"./_math-scale":69}],288:[function(e,t,r){"use strict";var n=e("./_export");n(n.S,"Math",{iaddh:function(e,t,r,n){var a=e>>>0,i=r>>>0;return(t>>>0)+(n>>>0)+((a&i|(a|i)&~(a+i>>>0))>>>31)|0}})},{"./_export":38}],289:[function(e,t,r){"use strict";var n=e("./_export");n(n.S,"Math",{imulh:function(e,t){var r=65535,n=+e,a=+t,i=n&r,o=a&r,s=n>>16,u=a>>16,l=(s*o>>>0)+(i*o>>>16);return s*u+(l>>16)+((i*u>>>0)+(l&r)>>16)}})},{"./_export":38}],290:[function(e,t,r){"use strict";var n=e("./_export");n(n.S,"Math",{isubh:function(e,t,r,n){var a=e>>>0,i=r>>>0;return(t>>>0)-(n>>>0)-((~a&i|~(a^i)&a-i>>>0)>>>31)|0}})},{"./_export":38}],291:[function(e,t,r){"use strict";var n=e("./_export");n(n.S,"Math",{RAD_PER_DEG:180/Math.PI})},{"./_export":38}],292:[function(e,t,r){"use strict";var n=e("./_export"),a=Math.PI/180;n(n.S,"Math",{radians:function(e){return e*a}})},{"./_export":38}],293:[function(e,t,r){"use strict";var n=e("./_export");n(n.S,"Math",{scale:e("./_math-scale")})},{"./_export":38,"./_math-scale":69}],294:[function(e,t,r){"use strict";var n=e("./_export");n(n.S,"Math",{signbit:function(e){return(e=+e)!=e?e:0==e?1/e==1/0:e>0}})},{"./_export":38}],295:[function(e,t,r){"use strict";var n=e("./_export");n(n.S,"Math",{umulh:function(e,t){var r=65535,n=+e,a=+t,i=n&r,o=a&r,s=n>>>16,u=a>>>16,l=(s*o>>>0)+(i*o>>>16);return s*u+(l>>>16)+((i*u>>>0)+(l&r)>>>16)}})},{"./_export":38}],296:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_to-object"),i=e("./_a-function"),o=e("./_object-dp");e("./_descriptors")&&n(n.P+e("./_object-forced-pam"),"Object",{__defineGetter__:function(e,t){o.f(a(this),e,{get:i(t),enumerable:!0,configurable:!0})}})},{"./_a-function":7,"./_descriptors":34,"./_export":38,"./_object-dp":77,"./_object-forced-pam":79,"./_to-object":124}],297:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_to-object"),i=e("./_a-function"),o=e("./_object-dp");e("./_descriptors")&&n(n.P+e("./_object-forced-pam"),"Object",{__defineSetter__:function(e,t){o.f(a(this),e,{set:i(t),enumerable:!0,configurable:!0})}})},{"./_a-function":7,"./_descriptors":34,"./_export":38,"./_object-dp":77,"./_object-forced-pam":79,"./_to-object":124}],298:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_object-to-array")(!0);n(n.S,"Object",{entries:function(e){return a(e)}})},{"./_export":38,"./_object-to-array":89}],299:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_own-keys"),i=e("./_to-iobject"),o=e("./_object-gopd"),s=e("./_create-property");n(n.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,r,n=i(e),u=o.f,l=a(n),c={},f=0;l.length>f;)void 0!==(r=u(n,t=l[f++]))&&s(c,t,r);return c}})},{"./_create-property":29,"./_export":38,"./_object-gopd":80,"./_own-keys":90,"./_to-iobject":122}],300:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_to-object"),i=e("./_to-primitive"),o=e("./_object-gpo"),s=e("./_object-gopd").f;e("./_descriptors")&&n(n.P+e("./_object-forced-pam"),"Object",{__lookupGetter__:function(e){var t,r=a(this),n=i(e,!0);do{if(t=s(r,n))return t.get}while(r=o(r))}})},{"./_descriptors":34,"./_export":38,"./_object-forced-pam":79,"./_object-gopd":80,"./_object-gpo":84,"./_to-object":124,"./_to-primitive":125}],301:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_to-object"),i=e("./_to-primitive"),o=e("./_object-gpo"),s=e("./_object-gopd").f;e("./_descriptors")&&n(n.P+e("./_object-forced-pam"),"Object",{__lookupSetter__:function(e){var t,r=a(this),n=i(e,!0);do{if(t=s(r,n))return t.set}while(r=o(r))}})},{"./_descriptors":34,"./_export":38,"./_object-forced-pam":79,"./_object-gopd":80,"./_object-gpo":84,"./_to-object":124,"./_to-primitive":125}],302:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_object-to-array")(!1);n(n.S,"Object",{values:function(e){return a(e)}})},{"./_export":38,"./_object-to-array":89}],303:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_global"),i=e("./_core"),o=e("./_microtask")(),s=e("./_wks")("observable"),u=e("./_a-function"),l=e("./_an-object"),c=e("./_an-instance"),f=e("./_redefine-all"),h=e("./_hide"),m=e("./_for-of"),p=m.RETURN,d=function(e){return null==e?void 0:u(e)},y=function(e){var t=e._c;t&&(e._c=void 0,t())},v=function(e){return void 0===e._o},g=function(e){v(e)||(e._o=void 0,y(e))},b=function(e,t){l(e),this._c=void 0,this._o=e,e=new w(this);try{var r=t(e),n=r;null!=r&&("function"==typeof r.unsubscribe?r=function(){n.unsubscribe()}:u(r),this._c=r)}catch(t){return void e.error(t)}v(this)&&y(this)};b.prototype=f({},{unsubscribe:function(){g(this)}});var w=function(e){this._s=e};w.prototype=f({},{next:function(e){var t=this._s;if(!v(t)){var r=t._o;try{var n=d(r.next);if(n)return n.call(r,e)}catch(e){try{g(t)}finally{throw e}}}},error:function(e){var t=this._s;if(v(t))throw e;var r=t._o;t._o=void 0;try{var n=d(r.error);if(!n)throw e;e=n.call(r,e)}catch(e){try{y(t)}finally{throw e}}return y(t),e},complete:function(e){var t=this._s;if(!v(t)){var r=t._o;t._o=void 0;try{var n=d(r.complete);e=n?n.call(r,e):void 0}catch(e){try{y(t)}finally{throw e}}return y(t),e}}});var k=function(e){c(this,k,"Observable","_f")._f=u(e)};f(k.prototype,{subscribe:function(e){return new b(e,this._f)},forEach:function(e){var t=this;return new(i.Promise||a.Promise)((function(r,n){u(e);var a=t.subscribe({next:function(t){try{return e(t)}catch(e){n(e),a.unsubscribe()}},error:n,complete:r})}))}}),f(k,{from:function(e){var t="function"==typeof this?this:k,r=d(l(e)[s]);if(r){var n=l(r.call(e));return n.constructor===t?n:new t((function(e){return n.subscribe(e)}))}return new t((function(t){var r=!1;return o((function(){if(!r){try{if(m(e,!1,(function(e){if(t.next(e),r)return p}))===p)return}catch(e){if(r)throw e;return void t.error(e)}t.complete()}})),function(){r=!0}}))},of:function(){for(var e=0,t=arguments.length,r=new Array(t);e<t;)r[e]=arguments[e++];return new("function"==typeof this?this:k)((function(e){var t=!1;return o((function(){if(!t){for(var n=0;n<r.length;++n)if(e.next(r[n]),t)return;e.complete()}})),function(){t=!0}}))}}),h(k.prototype,s,(function(){return this})),n(n.G,{Observable:k}),e("./_set-species")("Observable")},{"./_a-function":7,"./_an-instance":11,"./_an-object":12,"./_core":28,"./_export":38,"./_for-of":44,"./_global":46,"./_hide":48,"./_microtask":73,"./_redefine-all":96,"./_set-species":105,"./_wks":134}],304:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_core"),i=e("./_global"),o=e("./_species-constructor"),s=e("./_promise-resolve");n(n.P+n.R,"Promise",{finally:function(e){var t=o(this,a.Promise||i.Promise),r="function"==typeof e;return this.then(r?function(r){return s(t,e()).then((function(){return r}))}:e,r?function(r){return s(t,e()).then((function(){throw r}))}:e)}})},{"./_core":28,"./_export":38,"./_global":46,"./_promise-resolve":94,"./_species-constructor":109}],305:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_new-promise-capability"),i=e("./_perform");n(n.S,"Promise",{try:function(e){var t=a.f(this),r=i(e);return(r.e?t.reject:t.resolve)(r.v),t.promise}})},{"./_export":38,"./_new-promise-capability":74,"./_perform":93}],306:[function(e,t,r){"use strict";var n=e("./_metadata"),a=e("./_an-object"),i=n.key,o=n.set;n.exp({defineMetadata:function(e,t,r,n){o(e,t,a(r),i(n))}})},{"./_an-object":12,"./_metadata":72}],307:[function(e,t,r){"use strict";var n=e("./_metadata"),a=e("./_an-object"),i=n.key,o=n.map,s=n.store;n.exp({deleteMetadata:function(e,t){var r=arguments.length<3?void 0:i(arguments[2]),n=o(a(t),r,!1);if(void 0===n||!n.delete(e))return!1;if(n.size)return!0;var u=s.get(t);return u.delete(r),!!u.size||s.delete(t)}})},{"./_an-object":12,"./_metadata":72}],308:[function(e,t,r){"use strict";var n=e("./es6.set"),a=e("./_array-from-iterable"),i=e("./_metadata"),o=e("./_an-object"),s=e("./_object-gpo"),u=i.keys,l=i.key,c=function e(t,r){var i=u(t,r),o=s(t);if(null===o)return i;var l=e(o,r);return l.length?i.length?a(new n(i.concat(l))):l:i};i.exp({getMetadataKeys:function(e){return c(o(e),arguments.length<2?void 0:l(arguments[1]))}})},{"./_an-object":12,"./_array-from-iterable":15,"./_metadata":72,"./_object-gpo":84,"./es6.set":238}],309:[function(e,t,r){"use strict";var n=e("./_metadata"),a=e("./_an-object"),i=e("./_object-gpo"),o=n.has,s=n.get,u=n.key,l=function e(t,r,n){if(o(t,r,n))return s(t,r,n);var a=i(r);return null!==a?e(t,a,n):void 0};n.exp({getMetadata:function(e,t){return l(e,a(t),arguments.length<3?void 0:u(arguments[2]))}})},{"./_an-object":12,"./_metadata":72,"./_object-gpo":84}],310:[function(e,t,r){"use strict";var n=e("./_metadata"),a=e("./_an-object"),i=n.keys,o=n.key;n.exp({getOwnMetadataKeys:function(e){return i(a(e),arguments.length<2?void 0:o(arguments[1]))}})},{"./_an-object":12,"./_metadata":72}],311:[function(e,t,r){"use strict";var n=e("./_metadata"),a=e("./_an-object"),i=n.get,o=n.key;n.exp({getOwnMetadata:function(e,t){return i(e,a(t),arguments.length<3?void 0:o(arguments[2]))}})},{"./_an-object":12,"./_metadata":72}],312:[function(e,t,r){"use strict";var n=e("./_metadata"),a=e("./_an-object"),i=e("./_object-gpo"),o=n.has,s=n.key,u=function e(t,r,n){if(o(t,r,n))return!0;var a=i(r);return null!==a&&e(t,a,n)};n.exp({hasMetadata:function(e,t){return u(e,a(t),arguments.length<3?void 0:s(arguments[2]))}})},{"./_an-object":12,"./_metadata":72,"./_object-gpo":84}],313:[function(e,t,r){"use strict";var n=e("./_metadata"),a=e("./_an-object"),i=n.has,o=n.key;n.exp({hasOwnMetadata:function(e,t){return i(e,a(t),arguments.length<3?void 0:o(arguments[2]))}})},{"./_an-object":12,"./_metadata":72}],314:[function(e,t,r){"use strict";var n=e("./_metadata"),a=e("./_an-object"),i=e("./_a-function"),o=n.key,s=n.set;n.exp({metadata:function(e,t){return function(r,n){s(e,t,(void 0!==n?a:i)(r),o(n))}}})},{"./_a-function":7,"./_an-object":12,"./_metadata":72}],315:[function(e,t,r){"use strict";e("./_set-collection-from")("Set")},{"./_set-collection-from":102}],316:[function(e,t,r){"use strict";e("./_set-collection-of")("Set")},{"./_set-collection-of":103}],317:[function(e,t,r){"use strict";var n=e("./_export");n(n.P+n.R,"Set",{toJSON:e("./_collection-to-json")("Set")})},{"./_collection-to-json":25,"./_export":38}],318:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_string-at")(!0),i=e("./_fails")((function(){return""!=="".at(0)}));n(n.P+n.F*i,"String",{at:function(e){return a(this,e)}})},{"./_export":38,"./_fails":40,"./_string-at":111}],319:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_defined"),i=e("./_to-length"),o=e("./_is-regexp"),s=e("./_flags"),u=RegExp.prototype,l=function(e,t){this._r=e,this._s=t};e("./_iter-create")(l,"RegExp String",(function(){var e=this._r.exec(this._s);return{value:e,done:null===e}})),n(n.P,"String",{matchAll:function(e){if(a(this),!o(e))throw TypeError(e+" is not a regexp!");var t=String(this),r="flags"in u?String(e.flags):s.call(e),n=new RegExp(e.source,~r.indexOf("g")?r:"g"+r);return n.lastIndex=i(e.lastIndex),new l(n,t)}})},{"./_defined":33,"./_export":38,"./_flags":42,"./_is-regexp":58,"./_iter-create":60,"./_to-length":123}],320:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_string-pad"),i=e("./_user-agent"),o=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(i);n(n.P+n.F*o,"String",{padEnd:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0,!1)}})},{"./_export":38,"./_string-pad":114,"./_user-agent":130}],321:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_string-pad"),i=e("./_user-agent"),o=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(i);n(n.P+n.F*o,"String",{padStart:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0,!0)}})},{"./_export":38,"./_string-pad":114,"./_user-agent":130}],322:[function(e,t,r){"use strict";e("./_string-trim")("trimLeft",(function(e){return function(){return e(this,1)}}),"trimStart")},{"./_string-trim":116}],323:[function(e,t,r){"use strict";e("./_string-trim")("trimRight",(function(e){return function(){return e(this,2)}}),"trimEnd")},{"./_string-trim":116}],324:[function(e,t,r){"use strict";e("./_wks-define")("asyncIterator")},{"./_wks-define":132}],325:[function(e,t,r){"use strict";e("./_wks-define")("observable")},{"./_wks-define":132}],326:[function(e,t,r){"use strict";var n=e("./_export");n(n.S,"System",{global:e("./_global")})},{"./_export":38,"./_global":46}],327:[function(e,t,r){"use strict";e("./_set-collection-from")("WeakMap")},{"./_set-collection-from":102}],328:[function(e,t,r){"use strict";e("./_set-collection-of")("WeakMap")},{"./_set-collection-of":103}],329:[function(e,t,r){"use strict";e("./_set-collection-from")("WeakSet")},{"./_set-collection-from":102}],330:[function(e,t,r){"use strict";e("./_set-collection-of")("WeakSet")},{"./_set-collection-of":103}],331:[function(e,t,r){"use strict";for(var n=e("./es6.array.iterator"),a=e("./_object-keys"),i=e("./_redefine"),o=e("./_global"),s=e("./_hide"),u=e("./_iterators"),l=e("./_wks"),c=l("iterator"),f=l("toStringTag"),h=u.Array,m={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=a(m),d=0;d<p.length;d++){var y,v=p[d],g=m[v],b=o[v],w=b&&b.prototype;if(w&&(w[c]||s(w,c,h),w[f]||s(w,f,v),u[v]=h,g))for(y in n)w[y]||i(w,y,n[y],!0)}},{"./_global":46,"./_hide":48,"./_iterators":64,"./_object-keys":86,"./_redefine":97,"./_wks":134,"./es6.array.iterator":147}],332:[function(e,t,r){"use strict";var n=e("./_export"),a=e("./_task");n(n.G+n.B,{setImmediate:a.set,clearImmediate:a.clear})},{"./_export":38,"./_task":118}],333:[function(e,t,r){"use strict";var n=e("./_global"),a=e("./_export"),i=e("./_user-agent"),o=[].slice,s=/MSIE .\./.test(i),u=function(e){return function(t,r){var n=arguments.length>2,a=!!n&&o.call(arguments,2);return e(n?function(){("function"==typeof t?t:Function(t)).apply(this,a)}:t,r)}};a(a.G+a.B+a.F*s,{setTimeout:u(n.setTimeout),setInterval:u(n.setInterval)})},{"./_export":38,"./_global":46,"./_user-agent":130}],334:[function(e,t,r){"use strict";e("./modules/es6.symbol"),e("./modules/es6.object.create"),e("./modules/es6.object.define-property"),e("./modules/es6.object.define-properties"),e("./modules/es6.object.get-own-property-descriptor"),e("./modules/es6.object.get-prototype-of"),e("./modules/es6.object.keys"),e("./modules/es6.object.get-own-property-names"),e("./modules/es6.object.freeze"),e("./modules/es6.object.seal"),e("./modules/es6.object.prevent-extensions"),e("./modules/es6.object.is-frozen"),e("./modules/es6.object.is-sealed"),e("./modules/es6.object.is-extensible"),e("./modules/es6.object.assign"),e("./modules/es6.object.is"),e("./modules/es6.object.set-prototype-of"),e("./modules/es6.object.to-string"),e("./modules/es6.function.bind"),e("./modules/es6.function.name"),e("./modules/es6.function.has-instance"),e("./modules/es6.parse-int"),e("./modules/es6.parse-float"),e("./modules/es6.number.constructor"),e("./modules/es6.number.to-fixed"),e("./modules/es6.number.to-precision"),e("./modules/es6.number.epsilon"),e("./modules/es6.number.is-finite"),e("./modules/es6.number.is-integer"),e("./modules/es6.number.is-nan"),e("./modules/es6.number.is-safe-integer"),e("./modules/es6.number.max-safe-integer"),e("./modules/es6.number.min-safe-integer"),e("./modules/es6.number.parse-float"),e("./modules/es6.number.parse-int"),e("./modules/es6.math.acosh"),e("./modules/es6.math.asinh"),e("./modules/es6.math.atanh"),e("./modules/es6.math.cbrt"),e("./modules/es6.math.clz32"),e("./modules/es6.math.cosh"),e("./modules/es6.math.expm1"),e("./modules/es6.math.fround"),e("./modules/es6.math.hypot"),e("./modules/es6.math.imul"),e("./modules/es6.math.log10"),e("./modules/es6.math.log1p"),e("./modules/es6.math.log2"),e("./modules/es6.math.sign"),e("./modules/es6.math.sinh"),e("./modules/es6.math.tanh"),e("./modules/es6.math.trunc"),e("./modules/es6.string.from-code-point"),e("./modules/es6.string.raw"),e("./modules/es6.string.trim"),e("./modules/es6.string.iterator"),e("./modules/es6.string.code-point-at"),e("./modules/es6.string.ends-with"),e("./modules/es6.string.includes"),e("./modules/es6.string.repeat"),e("./modules/es6.string.starts-with"),e("./modules/es6.string.anchor"),e("./modules/es6.string.big"),e("./modules/es6.string.blink"),e("./modules/es6.string.bold"),e("./modules/es6.string.fixed"),e("./modules/es6.string.fontcolor"),e("./modules/es6.string.fontsize"),e("./modules/es6.string.italics"),e("./modules/es6.string.link"),e("./modules/es6.string.small"),e("./modules/es6.string.strike"),e("./modules/es6.string.sub"),e("./modules/es6.string.sup"),e("./modules/es6.date.now"),e("./modules/es6.date.to-json"),e("./modules/es6.date.to-iso-string"),e("./modules/es6.date.to-string"),e("./modules/es6.date.to-primitive"),e("./modules/es6.array.is-array"),e("./modules/es6.array.from"),e("./modules/es6.array.of"),e("./modules/es6.array.join"),e("./modules/es6.array.slice"),e("./modules/es6.array.sort"),e("./modules/es6.array.for-each"),e("./modules/es6.array.map"),e("./modules/es6.array.filter"),e("./modules/es6.array.some"),e("./modules/es6.array.every"),e("./modules/es6.array.reduce"),e("./modules/es6.array.reduce-right"),e("./modules/es6.array.index-of"),e("./modules/es6.array.last-index-of"),e("./modules/es6.array.copy-within"),e("./modules/es6.array.fill"),e("./modules/es6.array.find"),e("./modules/es6.array.find-index"),e("./modules/es6.array.species"),e("./modules/es6.array.iterator"),e("./modules/es6.regexp.constructor"),e("./modules/es6.regexp.exec"),e("./modules/es6.regexp.to-string"),e("./modules/es6.regexp.flags"),e("./modules/es6.regexp.match"),e("./modules/es6.regexp.replace"),e("./modules/es6.regexp.search"),e("./modules/es6.regexp.split"),e("./modules/es6.promise"),e("./modules/es6.map"),e("./modules/es6.set"),e("./modules/es6.weak-map"),e("./modules/es6.weak-set"),e("./modules/es6.typed.array-buffer"),e("./modules/es6.typed.data-view"),e("./modules/es6.typed.int8-array"),e("./modules/es6.typed.uint8-array"),e("./modules/es6.typed.uint8-clamped-array"),e("./modules/es6.typed.int16-array"),e("./modules/es6.typed.uint16-array"),e("./modules/es6.typed.int32-array"),e("./modules/es6.typed.uint32-array"),e("./modules/es6.typed.float32-array"),e("./modules/es6.typed.float64-array"),e("./modules/es6.reflect.apply"),e("./modules/es6.reflect.construct"),e("./modules/es6.reflect.define-property"),e("./modules/es6.reflect.delete-property"),e("./modules/es6.reflect.enumerate"),e("./modules/es6.reflect.get"),e("./modules/es6.reflect.get-own-property-descriptor"),e("./modules/es6.reflect.get-prototype-of"),e("./modules/es6.reflect.has"),e("./modules/es6.reflect.is-extensible"),e("./modules/es6.reflect.own-keys"),e("./modules/es6.reflect.prevent-extensions"),e("./modules/es6.reflect.set"),e("./modules/es6.reflect.set-prototype-of"),e("./modules/es7.array.includes"),e("./modules/es7.array.flat-map"),e("./modules/es7.array.flatten"),e("./modules/es7.string.at"),e("./modules/es7.string.pad-start"),e("./modules/es7.string.pad-end"),e("./modules/es7.string.trim-left"),e("./modules/es7.string.trim-right"),e("./modules/es7.string.match-all"),e("./modules/es7.symbol.async-iterator"),e("./modules/es7.symbol.observable"),e("./modules/es7.object.get-own-property-descriptors"),e("./modules/es7.object.values"),e("./modules/es7.object.entries"),e("./modules/es7.object.define-getter"),e("./modules/es7.object.define-setter"),e("./modules/es7.object.lookup-getter"),e("./modules/es7.object.lookup-setter"),e("./modules/es7.map.to-json"),e("./modules/es7.set.to-json"),e("./modules/es7.map.of"),e("./modules/es7.set.of"),e("./modules/es7.weak-map.of"),e("./modules/es7.weak-set.of"),e("./modules/es7.map.from"),e("./modules/es7.set.from"),e("./modules/es7.weak-map.from"),e("./modules/es7.weak-set.from"),e("./modules/es7.global"),e("./modules/es7.system.global"),e("./modules/es7.error.is-error"),e("./modules/es7.math.clamp"),e("./modules/es7.math.deg-per-rad"),e("./modules/es7.math.degrees"),e("./modules/es7.math.fscale"),e("./modules/es7.math.iaddh"),e("./modules/es7.math.isubh"),e("./modules/es7.math.imulh"),e("./modules/es7.math.rad-per-deg"),e("./modules/es7.math.radians"),e("./modules/es7.math.scale"),e("./modules/es7.math.umulh"),e("./modules/es7.math.signbit"),e("./modules/es7.promise.finally"),e("./modules/es7.promise.try"),e("./modules/es7.reflect.define-metadata"),e("./modules/es7.reflect.delete-metadata"),e("./modules/es7.reflect.get-metadata"),e("./modules/es7.reflect.get-metadata-keys"),e("./modules/es7.reflect.get-own-metadata"),e("./modules/es7.reflect.get-own-metadata-keys"),e("./modules/es7.reflect.has-metadata"),e("./modules/es7.reflect.has-own-metadata"),e("./modules/es7.reflect.metadata"),e("./modules/es7.asap"),e("./modules/es7.observable"),e("./modules/web.timers"),e("./modules/web.immediate"),e("./modules/web.dom.iterable"),t.exports=e("./modules/_core")},{"./modules/_core":28,"./modules/es6.array.copy-within":137,"./modules/es6.array.every":138,"./modules/es6.array.fill":139,"./modules/es6.array.filter":140,"./modules/es6.array.find":142,"./modules/es6.array.find-index":141,"./modules/es6.array.for-each":143,"./modules/es6.array.from":144,"./modules/es6.array.index-of":145,"./modules/es6.array.is-array":146,"./modules/es6.array.iterator":147,"./modules/es6.array.join":148,"./modules/es6.array.last-index-of":149,"./modules/es6.array.map":150,"./modules/es6.array.of":151,"./modules/es6.array.reduce":153,"./modules/es6.array.reduce-right":152,"./modules/es6.array.slice":154,"./modules/es6.array.some":155,"./modules/es6.array.sort":156,"./modules/es6.array.species":157,"./modules/es6.date.now":158,"./modules/es6.date.to-iso-string":159,"./modules/es6.date.to-json":160,"./modules/es6.date.to-primitive":161,"./modules/es6.date.to-string":162,"./modules/es6.function.bind":163,"./modules/es6.function.has-instance":164,"./modules/es6.function.name":165,"./modules/es6.map":166,"./modules/es6.math.acosh":167,"./modules/es6.math.asinh":168,"./modules/es6.math.atanh":169,"./modules/es6.math.cbrt":170,"./modules/es6.math.clz32":171,"./modules/es6.math.cosh":172,"./modules/es6.math.expm1":173,"./modules/es6.math.fround":174,"./modules/es6.math.hypot":175,"./modules/es6.math.imul":176,"./modules/es6.math.log10":177,"./modules/es6.math.log1p":178,"./modules/es6.math.log2":179,"./modules/es6.math.sign":180,"./modules/es6.math.sinh":181,"./modules/es6.math.tanh":182,"./modules/es6.math.trunc":183,"./modules/es6.number.constructor":184,"./modules/es6.number.epsilon":185,"./modules/es6.number.is-finite":186,"./modules/es6.number.is-integer":187,"./modules/es6.number.is-nan":188,"./modules/es6.number.is-safe-integer":189,"./modules/es6.number.max-safe-integer":190,"./modules/es6.number.min-safe-integer":191,"./modules/es6.number.parse-float":192,"./modules/es6.number.parse-int":193,"./modules/es6.number.to-fixed":194,"./modules/es6.number.to-precision":195,"./modules/es6.object.assign":196,"./modules/es6.object.create":197,"./modules/es6.object.define-properties":198,"./modules/es6.object.define-property":199,"./modules/es6.object.freeze":200,"./modules/es6.object.get-own-property-descriptor":201,"./modules/es6.object.get-own-property-names":202,"./modules/es6.object.get-prototype-of":203,"./modules/es6.object.is":207,"./modules/es6.object.is-extensible":204,"./modules/es6.object.is-frozen":205,"./modules/es6.object.is-sealed":206,"./modules/es6.object.keys":208,"./modules/es6.object.prevent-extensions":209,"./modules/es6.object.seal":210,"./modules/es6.object.set-prototype-of":211,"./modules/es6.object.to-string":212,"./modules/es6.parse-float":213,"./modules/es6.parse-int":214,"./modules/es6.promise":215,"./modules/es6.reflect.apply":216,"./modules/es6.reflect.construct":217,"./modules/es6.reflect.define-property":218,"./modules/es6.reflect.delete-property":219,"./modules/es6.reflect.enumerate":220,"./modules/es6.reflect.get":223,"./modules/es6.reflect.get-own-property-descriptor":221,"./modules/es6.reflect.get-prototype-of":222,"./modules/es6.reflect.has":224,"./modules/es6.reflect.is-extensible":225,"./modules/es6.reflect.own-keys":226,"./modules/es6.reflect.prevent-extensions":227,"./modules/es6.reflect.set":229,"./modules/es6.reflect.set-prototype-of":228,"./modules/es6.regexp.constructor":230,"./modules/es6.regexp.exec":231,"./modules/es6.regexp.flags":232,"./modules/es6.regexp.match":233,"./modules/es6.regexp.replace":234,"./modules/es6.regexp.search":235,"./modules/es6.regexp.split":236,"./modules/es6.regexp.to-string":237,"./modules/es6.set":238,"./modules/es6.string.anchor":239,"./modules/es6.string.big":240,"./modules/es6.string.blink":241,"./modules/es6.string.bold":242,"./modules/es6.string.code-point-at":243,"./modules/es6.string.ends-with":244,"./modules/es6.string.fixed":245,"./modules/es6.string.fontcolor":246,"./modules/es6.string.fontsize":247,"./modules/es6.string.from-code-point":248,"./modules/es6.string.includes":249,"./modules/es6.string.italics":250,"./modules/es6.string.iterator":251,"./modules/es6.string.link":252,"./modules/es6.string.raw":253,"./modules/es6.string.repeat":254,"./modules/es6.string.small":255,"./modules/es6.string.starts-with":256,"./modules/es6.string.strike":257,"./modules/es6.string.sub":258,"./modules/es6.string.sup":259,"./modules/es6.string.trim":260,"./modules/es6.symbol":261,"./modules/es6.typed.array-buffer":262,"./modules/es6.typed.data-view":263,"./modules/es6.typed.float32-array":264,"./modules/es6.typed.float64-array":265,"./modules/es6.typed.int16-array":266,"./modules/es6.typed.int32-array":267,"./modules/es6.typed.int8-array":268,"./modules/es6.typed.uint16-array":269,"./modules/es6.typed.uint32-array":270,"./modules/es6.typed.uint8-array":271,"./modules/es6.typed.uint8-clamped-array":272,"./modules/es6.weak-map":273,"./modules/es6.weak-set":274,"./modules/es7.array.flat-map":275,"./modules/es7.array.flatten":276,"./modules/es7.array.includes":277,"./modules/es7.asap":278,"./modules/es7.error.is-error":279,"./modules/es7.global":280,"./modules/es7.map.from":281,"./modules/es7.map.of":282,"./modules/es7.map.to-json":283,"./modules/es7.math.clamp":284,"./modules/es7.math.deg-per-rad":285,"./modules/es7.math.degrees":286,"./modules/es7.math.fscale":287,"./modules/es7.math.iaddh":288,"./modules/es7.math.imulh":289,"./modules/es7.math.isubh":290,"./modules/es7.math.rad-per-deg":291,"./modules/es7.math.radians":292,"./modules/es7.math.scale":293,"./modules/es7.math.signbit":294,"./modules/es7.math.umulh":295,"./modules/es7.object.define-getter":296,"./modules/es7.object.define-setter":297,"./modules/es7.object.entries":298,"./modules/es7.object.get-own-property-descriptors":299,"./modules/es7.object.lookup-getter":300,"./modules/es7.object.lookup-setter":301,"./modules/es7.object.values":302,"./modules/es7.observable":303,"./modules/es7.promise.finally":304,"./modules/es7.promise.try":305,"./modules/es7.reflect.define-metadata":306,"./modules/es7.reflect.delete-metadata":307,"./modules/es7.reflect.get-metadata":309,"./modules/es7.reflect.get-metadata-keys":308,"./modules/es7.reflect.get-own-metadata":311,"./modules/es7.reflect.get-own-metadata-keys":310,"./modules/es7.reflect.has-metadata":312,"./modules/es7.reflect.has-own-metadata":313,"./modules/es7.reflect.metadata":314,"./modules/es7.set.from":315,"./modules/es7.set.of":316,"./modules/es7.set.to-json":317,"./modules/es7.string.at":318,"./modules/es7.string.match-all":319,"./modules/es7.string.pad-end":320,"./modules/es7.string.pad-start":321,"./modules/es7.string.trim-left":322,"./modules/es7.string.trim-right":323,"./modules/es7.symbol.async-iterator":324,"./modules/es7.symbol.observable":325,"./modules/es7.system.global":326,"./modules/es7.weak-map.from":327,"./modules/es7.weak-map.of":328,"./modules/es7.weak-set.from":329,"./modules/es7.weak-set.of":330,"./modules/web.dom.iterable":331,"./modules/web.immediate":332,"./modules/web.timers":333}],335:[function(e,t,r){(function(n,a){(function(){"use strict";function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */}var o;o=function(){function t(e){return"function"==typeof e}var r=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},o=0,s=void 0,u=void 0,l=function(e,t){y[o]=e,y[o+1]=t,2===(o+=2)&&(u?u(v):S())},c="undefined"!=typeof window?window:void 0,f=c||{},h=f.MutationObserver||f.WebKitMutationObserver,m="undefined"==typeof self&&void 0!==n&&"[object process]"==={}.toString.call(n),p="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function d(){var e=setTimeout;return function(){return e(v,1)}}var y=new Array(1e3);function v(){for(var e=0;e<o;e+=2)(0,y[e])(y[e+1]),y[e]=void 0,y[e+1]=void 0;o=0}var g,b,w,k,S=void 0;function j(e,t){var r=this,n=new this.constructor(A);void 0===n[_]&&M(n);var a=r._state;if(a){var i=arguments[a-1];l((function(){return D(a,n,i,r._result)}))}else N(r,n,e,t);return n}function P(e){if(e&&"object"===i(e)&&e.constructor===this)return e;var t=new this(A);return I(t,e),t}m?S=function(){return n.nextTick(v)}:h?(b=0,w=new h(v),k=document.createTextNode(""),w.observe(k,{characterData:!0}),S=function(){k.data=b=++b%2}):p?((g=new MessageChannel).port1.onmessage=v,S=function(){return g.port2.postMessage(0)}):S=void 0===c&&"function"==typeof e?function(){try{var e=Function("return this")().require("vertx");return void 0!==(s=e.runOnLoop||e.runOnContext)?function(){s(v)}:d()}catch(e){return d()}}():d();var _=Math.random().toString(36).substring(2);function A(){}var O=void 0;function C(e,r,n){r.constructor===e.constructor&&n===j&&r.constructor.resolve===P?function(e,t){1===t._state?B(e,t._result):2===t._state?E(e,t._result):N(t,void 0,(function(t){return I(e,t)}),(function(t){return E(e,t)}))}(e,r):void 0===n?B(e,r):t(n)?function(e,t,r){l((function(e){var n=!1,a=function(e,t,r,n){try{e.call(t,r,n)}catch(e){return e}}(r,t,(function(r){n||(n=!0,t!==r?I(e,r):B(e,r))}),(function(t){n||(n=!0,E(e,t))}),e._label);!n&&a&&(n=!0,E(e,a))}),e)}(e,r,n):B(e,r)}function I(e,t){if(e===t)E(e,new TypeError("You cannot resolve a promise with itself"));else if(a=i(n=t),null===n||"object"!==a&&"function"!==a)B(e,t);else{var r=void 0;try{r=t.then}catch(t){return void E(e,t)}C(e,t,r)}var n,a}function x(e){e._onerror&&e._onerror(e._result),V(e)}function B(e,t){e._state===O&&(e._result=t,e._state=1,0!==e._subscribers.length&&l(V,e))}function E(e,t){e._state===O&&(e._state=2,e._result=t,l(x,e))}function N(e,t,r,n){var a=e._subscribers,i=a.length;e._onerror=null,a[i]=t,a[i+1]=r,a[i+2]=n,0===i&&e._state&&l(V,e)}function V(e){var t=e._subscribers,r=e._state;if(0!==t.length){for(var n=void 0,a=void 0,i=e._result,o=0;o<t.length;o+=3)n=t[o],a=t[o+r],n?D(r,n,a,i):a(i);e._subscribers.length=0}}function D(e,r,n,a){var i=t(n),o=void 0,s=void 0,u=!0;if(i){try{o=n(a)}catch(e){u=!1,s=e}if(r===o)return void E(r,new TypeError("A promises callback cannot return that same promise."))}else o=a;r._state!==O||(i&&u?I(r,o):!1===u?E(r,s):1===e?B(r,o):2===e&&E(r,o))}var R=0;function M(e){e[_]=R++,e._state=void 0,e._result=void 0,e._subscribers=[]}var T=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(A),this.promise[_]||M(this.promise),r(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?B(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&B(this.promise,this._result))):E(this.promise,new Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var t=0;this._state===O&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var r=this._instanceConstructor,n=r.resolve;if(n===P){var a=void 0,i=void 0,o=!1;try{a=e.then}catch(e){o=!0,i=e}if(a===j&&e._state!==O)this._settledAt(e._state,t,e._result);else if("function"!=typeof a)this._remaining--,this._result[t]=e;else if(r===K){var s=new r(A);o?E(s,i):C(s,e,a),this._willSettleAt(s,t)}else this._willSettleAt(new r((function(t){return t(e)})),t)}else this._willSettleAt(n(e),t)},e.prototype._settledAt=function(e,t,r){var n=this.promise;n._state===O&&(this._remaining--,2===e?E(n,r):this._result[t]=r),0===this._remaining&&B(n,this._result)},e.prototype._willSettleAt=function(e,t){var r=this;N(e,void 0,(function(e){return r._settledAt(1,t,e)}),(function(e){return r._settledAt(2,t,e)}))},e}(),K=function(){function e(t){this[_]=R++,this._result=this._state=void 0,this._subscribers=[],A!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof e?function(e,t){try{t((function(t){I(e,t)}),(function(t){E(e,t)}))}catch(t){E(e,t)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return e.prototype.catch=function(e){return this.then(null,e)},e.prototype.finally=function(e){var r=this,n=r.constructor;return t(e)?r.then((function(t){return n.resolve(e()).then((function(){return t}))}),(function(t){return n.resolve(e()).then((function(){throw t}))})):r.then(e,e)},e}();return K.prototype.then=j,K.all=function(e){return new T(this,e).promise},K.race=function(e){var t=this;return r(e)?new t((function(r,n){for(var a=e.length,i=0;i<a;i++)t.resolve(e[i]).then(r,n)})):new t((function(e,t){return t(new TypeError("You must pass an array to race."))}))},K.resolve=P,K.reject=function(e){var t=new this(A);return E(t,e),t},K._setScheduler=function(e){u=e},K._setAsap=function(e){l=e},K._asap=l,K.polyfill=function(){var e=void 0;if(void 0!==a)e=a;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var r=null;try{r=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===r&&!t.cast)return}e.Promise=K},K.Promise=K,K},"object"===(void 0===r?"undefined":i(r))&&void 0!==t?t.exports=o():"function"==typeof define&&define.amd?define(o):(void 0).ES6Promise=o()}).call(this)}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:446}],336:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),u=e("pvutils"),l=(o=e("./GeneralName.js"))&&o.__esModule?o:{default:o};function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}var f=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.accessMethod=(0,u.getParametersValue)(t,"accessMethod",e.defaultValues("accessMethod")),this.accessLocation=(0,u.getParametersValue)(t,"accessLocation",e.defaultValues("accessLocation")),"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,i=[{key:"defaultValues",value:function(e){switch(e){case"accessMethod":return"";case"accessLocation":return new l.default;default:throw new Error("Invalid member name for AccessDescription class: ".concat(e))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,u.getParametersValue)(e,"names",{});return new s.Sequence({name:t.blockName||"",value:[new s.ObjectIdentifier({name:t.accessMethod||""}),l.default.schema(t.accessLocation||{})]})}}],(r=[{key:"fromSchema",value:function(t){(0,u.clearProps)(t,["accessMethod","accessLocation"]);var r=s.compareSchema(t,t,e.schema({names:{accessMethod:"accessMethod",accessLocation:{names:{blockName:"accessLocation"}}}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for AccessDescription");this.accessMethod=r.result.accessMethod.valueBlock.toString(),this.accessLocation=new l.default({schema:r.result.accessLocation})}},{key:"toSchema",value:function(){return new s.Sequence({value:[new s.ObjectIdentifier({value:this.accessMethod}),this.accessLocation.toSchema()]})}},{key:"toJSON",value:function(){return{accessMethod:this.accessMethod,accessLocation:this.accessLocation.toJSON()}}}])&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=f},{"./GeneralName.js":374,asn1js:1,pvutils:447}],337:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),s=e("pvutils");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}var l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),"seconds"in t&&(this.seconds=(0,s.getParametersValue)(t,"seconds",e.defaultValues("seconds"))),"millis"in t&&(this.millis=(0,s.getParametersValue)(t,"millis",e.defaultValues("millis"))),"micros"in t&&(this.micros=(0,s.getParametersValue)(t,"micros",e.defaultValues("micros"))),"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,i=[{key:"defaultValues",value:function(e){switch(e){case"seconds":case"millis":case"micros":return 0;default:throw new Error("Invalid member name for Accuracy class: ".concat(e))}}},{key:"compareWithDefault",value:function(t,r){switch(t){case"seconds":case"millis":case"micros":return r===e.defaultValues(t);default:throw new Error("Invalid member name for Accuracy class: ".concat(t))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,s.getParametersValue)(e,"names",{});return new o.Sequence({name:t.blockName||"",optional:!0,value:[new o.Integer({optional:!0,name:t.seconds||""}),new o.Primitive({name:t.millis||"",optional:!0,idBlock:{tagClass:3,tagNumber:0}}),new o.Primitive({name:t.micros||"",optional:!0,idBlock:{tagClass:3,tagNumber:1}})]})}}],(r=[{key:"fromSchema",value:function(t){(0,s.clearProps)(t,["seconds","millis","micros"]);var r=o.compareSchema(t,t,e.schema({names:{seconds:"seconds",millis:"millis",micros:"micros"}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for Accuracy");if("seconds"in r.result&&(this.seconds=r.result.seconds.valueBlock.valueDec),"millis"in r.result){var n=new o.Integer({valueHex:r.result.millis.valueBlock.valueHex});this.millis=n.valueBlock.valueDec}if("micros"in r.result){var a=new o.Integer({valueHex:r.result.micros.valueBlock.valueHex});this.micros=a.valueBlock.valueDec}}},{key:"toSchema",value:function(){var e=[];if("seconds"in this&&e.push(new o.Integer({value:this.seconds})),"millis"in this){var t=new o.Integer({value:this.millis});e.push(new o.Primitive({idBlock:{tagClass:3,tagNumber:0},valueHex:t.valueBlock.valueHex}))}if("micros"in this){var r=new o.Integer({value:this.micros});e.push(new o.Primitive({idBlock:{tagClass:3,tagNumber:1},valueHex:r.valueBlock.valueHex}))}return new o.Sequence({value:e})}},{key:"toJSON",value:function(){var e={};return"seconds"in this&&(e.seconds=this.seconds),"millis"in this&&(e.millis=this.millis),"micros"in this&&(e.micros=this.micros),e}}])&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=l},{asn1js:1,pvutils:447}],338:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),s=e("pvutils");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}var l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.algorithmId=(0,s.getParametersValue)(t,"algorithmId",e.defaultValues("algorithmId")),"algorithmParams"in t&&(this.algorithmParams=(0,s.getParametersValue)(t,"algorithmParams",e.defaultValues("algorithmParams"))),"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,i=[{key:"defaultValues",value:function(e){switch(e){case"algorithmId":return"";case"algorithmParams":return new o.Any;default:throw new Error("Invalid member name for AlgorithmIdentifier class: ".concat(e))}}},{key:"compareWithDefault",value:function(e,t){switch(e){case"algorithmId":return""===t;case"algorithmParams":return t instanceof o.Any;default:throw new Error("Invalid member name for AlgorithmIdentifier class: ".concat(e))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,s.getParametersValue)(e,"names",{});return new o.Sequence({name:t.blockName||"",optional:t.optional||!1,value:[new o.ObjectIdentifier({name:t.algorithmIdentifier||""}),new o.Any({name:t.algorithmParams||"",optional:!0})]})}}],(r=[{key:"fromSchema",value:function(t){(0,s.clearProps)(t,["algorithm","params"]);var r=o.compareSchema(t,t,e.schema({names:{algorithmIdentifier:"algorithm",algorithmParams:"params"}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for AlgorithmIdentifier");this.algorithmId=r.result.algorithm.valueBlock.toString(),"params"in r.result&&(this.algorithmParams=r.result.params)}},{key:"toSchema",value:function(){var e=[];return e.push(new o.ObjectIdentifier({value:this.algorithmId})),"algorithmParams"in this&&this.algorithmParams instanceof o.Any==0&&e.push(this.algorithmParams),new o.Sequence({value:e})}},{key:"toJSON",value:function(){var e={algorithmId:this.algorithmId};return"algorithmParams"in this&&this.algorithmParams instanceof o.Any==0&&(e.algorithmParams=this.algorithmParams.toJSON()),e}},{key:"isEqual",value:function(t){return t instanceof e!=0&&this.algorithmId===t.algorithmId&&("algorithmParams"in this?"algorithmParams"in t&&JSON.stringify(this.algorithmParams)===JSON.stringify(t.algorithmParams):!("algorithmParams"in t))}}])&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=l},{asn1js:1,pvutils:447}],339:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),u=e("pvutils"),l=(o=e("./GeneralName.js"))&&o.__esModule?o:{default:o};function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}var f=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.altNames=(0,u.getParametersValue)(t,"altNames",e.defaultValues("altNames")),"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,i=[{key:"defaultValues",value:function(e){if("altNames"===e)return[];throw new Error("Invalid member name for AltName class: ".concat(e))}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,u.getParametersValue)(e,"names",{});return new s.Sequence({name:t.blockName||"",value:[new s.Repeated({name:t.altNames||"",value:l.default.schema()})]})}}],(r=[{key:"fromSchema",value:function(t){(0,u.clearProps)(t,["altNames"]);var r=s.compareSchema(t,t,e.schema({names:{altNames:"altNames"}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for AltName");"altNames"in r.result&&(this.altNames=Array.from(r.result.altNames,(function(e){return new l.default({schema:e})})))}},{key:"toSchema",value:function(){return new s.Sequence({value:Array.from(this.altNames,(function(e){return e.toSchema()}))})}},{key:"toJSON",value:function(){return{altNames:Array.from(this.altNames,(function(e){return e.toJSON()}))}}}])&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=f},{"./GeneralName.js":374,asn1js:1,pvutils:447}],340:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),s=e("pvutils");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}var l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.type=(0,s.getParametersValue)(t,"type",e.defaultValues("type")),this.values=(0,s.getParametersValue)(t,"values",e.defaultValues("values")),"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,i=[{key:"defaultValues",value:function(e){switch(e){case"type":return"";case"values":return[];default:throw new Error("Invalid member name for Attribute class: ".concat(e))}}},{key:"compareWithDefault",value:function(e,t){switch(e){case"type":return""===t;case"values":return 0===t.length;default:throw new Error("Invalid member name for Attribute class: ".concat(e))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,s.getParametersValue)(e,"names",{});return new o.Sequence({name:t.blockName||"",value:[new o.ObjectIdentifier({name:t.type||""}),new o.Set({name:t.setName||"",value:[new o.Repeated({name:t.values||"",value:new o.Any})]})]})}}],(r=[{key:"fromSchema",value:function(t){(0,s.clearProps)(t,["type","values"]);var r=o.compareSchema(t,t,e.schema({names:{type:"type",values:"values"}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for Attribute");this.type=r.result.type.valueBlock.toString(),this.values=r.result.values}},{key:"toSchema",value:function(){return new o.Sequence({value:[new o.ObjectIdentifier({value:this.type}),new o.Set({value:this.values})]})}},{key:"toJSON",value:function(){return{type:this.type,values:Array.from(this.values,(function(e){return e.toJSON()}))}}}])&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=l},{asn1js:1,pvutils:447}],341:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.IssuerSerial=r.AttributeCertificateInfoV1=r.AttCertValidityPeriod=void 0;var s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!=typeof e)return{default:e};var r=p(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=a?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),u=e("pvutils"),l=m(e("./GeneralNames.js")),c=m(e("./AlgorithmIdentifier.js")),f=m(e("./Attribute.js")),h=m(e("./Extensions.js"));function m(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(p=function(e){return e?r:t})(e)}var d=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.notBeforeTime=(0,u.getParametersValue)(t,"notBeforeTime",e.defaultValues("notBeforeTime")),this.notAfterTime=(0,u.getParametersValue)(t,"notAfterTime",e.defaultValues("notAfterTime")),"schema"in t&&this.fromSchema(t.schema)}return i(e,[{key:"fromSchema",value:function(t){(0,u.clearProps)(t,["notBeforeTime","notAfterTime"]);var r=s.compareSchema(t,t,e.schema({names:{notBeforeTime:"notBeforeTime",notAfterTime:"notAfterTime"}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for AttCertValidityPeriod");this.notBeforeTime=r.result.notBeforeTime.toDate(),this.notAfterTime=r.result.notAfterTime.toDate()}},{key:"toSchema",value:function(){return new s.Sequence({value:[new s.GeneralizedTime({valueDate:this.notBeforeTime}),new s.GeneralizedTime({valueDate:this.notAfterTime})]})}},{key:"toJSON",value:function(){return{notBeforeTime:this.notBeforeTime,notAfterTime:this.notAfterTime}}}],[{key:"defaultValues",value:function(e){switch(e){case"notBeforeTime":case"notAfterTime":return new Date(0,0,0);default:throw new Error("Invalid member name for AttCertValidityPeriod class: ".concat(e))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,u.getParametersValue)(e,"names",{});return new s.Sequence({name:t.blockName||"",value:[new s.GeneralizedTime({name:t.notBeforeTime||""}),new s.GeneralizedTime({name:t.notAfterTime||""})]})}}]),e}();r.AttCertValidityPeriod=d;var y=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.issuer=(0,u.getParametersValue)(t,"issuer",e.defaultValues("issuer")),this.serialNumber=(0,u.getParametersValue)(t,"serialNumber",e.defaultValues("serialNumber")),"issuerUID"in t&&(this.issuerUID=(0,u.getParametersValue)(t,"issuerUID",e.defaultValues("issuerUID"))),"schema"in t&&this.fromSchema(t.schema)}return i(e,[{key:"fromSchema",value:function(t){(0,u.clearProps)(t,["issuer","serialNumber","issuerUID"]);var r=s.compareSchema(t,t,e.schema({names:{issuer:{names:{blockName:"issuer"}},serialNumber:"serialNumber",issuerUID:"issuerUID"}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for IssuerSerial");this.issuer=new l.default({schema:r.result.issuer}),this.serialNumber=r.result.serialNumber,"issuerUID"in r.result&&(this.issuerUID=r.result.issuerUID)}},{key:"toSchema",value:function(){var e=new s.Sequence({value:[this.issuer.toSchema(),this.serialNumber]});return"issuerUID"in this&&e.valueBlock.value.push(this.issuerUID),e}},{key:"toJSON",value:function(){var e={issuer:this.issuer.toJSON(),serialNumber:this.serialNumber.toJSON()};return"issuerUID"in this&&(e.issuerUID=this.issuerUID.toJSON()),e}}],[{key:"defaultValues",value:function(e){switch(e){case"issuer":return new l.default;case"serialNumber":return new s.Integer;case"issuerUID":return new s.BitString;default:throw new Error("Invalid member name for IssuerSerial class: ".concat(e))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,u.getParametersValue)(e,"names",{});return new s.Sequence({name:t.blockName||"",value:[l.default.schema(t.issuer||{}),new s.Integer({name:t.serialNumber||""}),new s.BitString({optional:!0,name:t.issuerUID||""})]})}}]),e}();r.IssuerSerial=y;var v=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.version=(0,u.getParametersValue)(t,"version",e.defaultValues("version")),"baseCertificateID"in t&&(this.baseCertificateID=(0,u.getParametersValue)(t,"baseCertificateID",e.defaultValues("baseCertificateID"))),"subjectName"in t&&(this.subjectName=(0,u.getParametersValue)(t,"subjectName",e.defaultValues("subjectName"))),this.issuer=(0,u.getParametersValue)(t,"issuer",e.defaultValues("issuer")),this.signature=(0,u.getParametersValue)(t,"signature",e.defaultValues("signature")),this.serialNumber=(0,u.getParametersValue)(t,"serialNumber",e.defaultValues("serialNumber")),this.attrCertValidityPeriod=(0,u.getParametersValue)(t,"attrCertValidityPeriod",e.defaultValues("attrCertValidityPeriod")),this.attributes=(0,u.getParametersValue)(t,"attributes",e.defaultValues("attributes")),"issuerUniqueID"in t&&(this.issuerUniqueID=(0,u.getParametersValue)(t,"issuerUniqueID",e.defaultValues("issuerUniqueID"))),"extensions"in t&&(this.extensions=(0,u.getParametersValue)(t,"extensions",e.defaultValues("extensions"))),"schema"in t&&this.fromSchema(t.schema)}return i(e,[{key:"fromSchema",value:function(t){(0,u.clearProps)(t,["version","baseCertificateID","subjectName","issuer","signature","serialNumber","attrCertValidityPeriod","attributes","issuerUniqueID","extensions"]);var r=s.compareSchema(t,t,e.schema({names:{version:"version",baseCertificateID:"baseCertificateID",subjectName:"subjectName",issuer:"issuer",signature:{names:{blockName:"signature"}},serialNumber:"serialNumber",attrCertValidityPeriod:{names:{blockName:"attrCertValidityPeriod"}},attributes:"attributes",issuerUniqueID:"issuerUniqueID",extensions:{names:{blockName:"extensions"}}}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for AttributeCertificateInfoV1");this.version=r.result.version.valueBlock.valueDec,"baseCertificateID"in r.result&&(this.baseCertificateID=new y({schema:new s.Sequence({value:r.result.baseCertificateID.valueBlock.value})})),"subjectName"in r.result&&(this.subjectName=new l.default({schema:new s.Sequence({value:r.result.subjectName.valueBlock.value})})),this.issuer=r.result.issuer,this.signature=new c.default({schema:r.result.signature}),this.serialNumber=r.result.serialNumber,this.attrCertValidityPeriod=new d({schema:r.result.attrCertValidityPeriod}),this.attributes=Array.from(r.result.attributes.valueBlock.value,(function(e){return new f.default({schema:e})})),"issuerUniqueID"in r.result&&(this.issuerUniqueID=r.result.issuerUniqueID),"extensions"in r.result&&(this.extensions=new h.default({schema:r.result.extensions}))}},{key:"toSchema",value:function(){var e=new s.Sequence({value:[new s.Integer({value:this.version})]});return"baseCertificateID"in this&&e.valueBlock.value.push(new s.Constructed({idBlock:{tagClass:3,tagNumber:0},value:this.baseCertificateID.toSchema().valueBlock.value})),"subjectName"in this&&e.valueBlock.value.push(new s.Constructed({idBlock:{tagClass:3,tagNumber:1},value:this.subjectName.toSchema().valueBlock.value})),e.valueBlock.value.push(this.issuer.toSchema()),e.valueBlock.value.push(this.signature.toSchema()),e.valueBlock.value.push(this.serialNumber),e.valueBlock.value.push(this.attrCertValidityPeriod.toSchema()),e.valueBlock.value.push(new s.Sequence({value:Array.from(this.attributes,(function(e){return e.toSchema()}))})),"issuerUniqueID"in this&&e.valueBlock.value.push(this.issuerUniqueID),"extensions"in this&&e.valueBlock.value.push(this.extensions.toSchema()),e}},{key:"toJSON",value:function(){var e={version:this.version};return"baseCertificateID"in this&&(e.baseCertificateID=this.baseCertificateID.toJSON()),"subjectName"in this&&(e.subjectName=this.subjectName.toJSON()),e.issuer=this.issuer.toJSON(),e.signature=this.signature.toJSON(),e.serialNumber=this.serialNumber.toJSON(),e.attrCertValidityPeriod=this.attrCertValidityPeriod.toJSON(),e.attributes=Array.from(this.attributes,(function(e){return e.toJSON()})),"issuerUniqueID"in this&&(e.issuerUniqueID=this.issuerUniqueID.toJSON()),"extensions"in this&&(e.extensions=this.extensions.toJSON()),e}}],[{key:"defaultValues",value:function(e){switch(e){case"version":return 0;case"baseCertificateID":return new y;case"subjectName":return new l.default;case"issuer":return{};case"signature":return new c.default;case"serialNumber":return new s.Integer;case"attrCertValidityPeriod":return new d;case"attributes":return[];case"issuerUniqueID":return new s.BitString;case"extensions":return new h.default;default:throw new Error("Invalid member name for AttributeCertificateInfoV1 class: ".concat(e))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,u.getParametersValue)(e,"names",{});return new s.Sequence({name:t.blockName||"",value:[new s.Integer({name:t.version||""}),new s.Choice({value:[new s.Constructed({name:t.baseCertificateID||"",idBlock:{tagClass:3,tagNumber:0},value:y.schema().valueBlock.value}),new s.Constructed({name:t.subjectName||"",idBlock:{tagClass:3,tagNumber:1},value:l.default.schema().valueBlock.value})]}),l.default.schema({names:{blockName:t.issuer||""}}),c.default.schema(t.signature||{}),new s.Integer({name:t.serialNumber||""}),d.schema(t.attrCertValidityPeriod||{}),new s.Sequence({name:t.attributes||"",value:[new s.Repeated({value:f.default.schema()})]}),new s.BitString({optional:!0,name:t.issuerUniqueID||""}),h.default.schema(t.extensions||{},!0)]})}}]),e}();r.AttributeCertificateInfoV1=v;var g=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.acinfo=(0,u.getParametersValue)(t,"acinfo",e.defaultValues("acinfo")),this.signatureAlgorithm=(0,u.getParametersValue)(t,"signatureAlgorithm",e.defaultValues("signatureAlgorithm")),this.signatureValue=(0,u.getParametersValue)(t,"signatureValue",e.defaultValues("signatureValue")),"schema"in t&&this.fromSchema(t.schema)}return i(e,[{key:"fromSchema",value:function(t){(0,u.clearProps)(t,["acinfo","signatureValue","signatureAlgorithm"]);var r=s.compareSchema(t,t,e.schema({names:{acinfo:{names:{blockName:"acinfo"}},signatureAlgorithm:{names:{blockName:"signatureAlgorithm"}},signatureValue:"signatureValue"}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for AttributeCertificateV1");this.acinfo=new v({schema:r.result.acinfo}),this.signatureAlgorithm=new c.default({schema:r.result.signatureAlgorithm}),this.signatureValue=r.result.signatureValue}},{key:"toSchema",value:function(){return new s.Sequence({value:[this.acinfo.toSchema(),this.signatureAlgorithm.toSchema(),this.signatureValue]})}},{key:"toJSON",value:function(){return{acinfo:this.acinfo.toJSON(),signatureAlgorithm:this.signatureAlgorithm.toJSON(),signatureValue:this.signatureValue.toJSON()}}}],[{key:"defaultValues",value:function(e){switch(e){case"acinfo":return new v;case"signatureAlgorithm":return new c.default;case"signatureValue":return new s.BitString;default:throw new Error("Invalid member name for AttributeCertificateV1 class: ".concat(e))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,u.getParametersValue)(e,"names",{});return new s.Sequence({name:t.blockName||"",value:[v.schema(t.acinfo||{}),c.default.schema(t.signatureAlgorithm||{}),new s.BitString({name:t.signatureValue||""})]})}}]),e}();r.default=g},{"./AlgorithmIdentifier.js":338,"./Attribute.js":340,"./Extensions.js":373,"./GeneralNames.js":375,asn1js:1,pvutils:447}],342:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.V2Form=r.ObjectDigestInfo=r.Holder=r.AttributeCertificateInfoV2=void 0;var s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!=typeof e)return{default:e};var r=d(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=a?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),u=e("pvutils"),l=p(e("./GeneralNames.js")),c=p(e("./AlgorithmIdentifier.js")),f=p(e("./Attribute.js")),h=p(e("./Extensions.js")),m=e("./AttributeCertificateV1.js");function p(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(d=function(e){return e?r:t})(e)}var y=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.digestedObjectType=(0,u.getParametersValue)(t,"digestedObjectType",e.defaultValues("digestedObjectType")),"otherObjectTypeID"in t&&(this.otherObjectTypeID=(0,u.getParametersValue)(t,"otherObjectTypeID",e.defaultValues("otherObjectTypeID"))),this.digestAlgorithm=(0,u.getParametersValue)(t,"digestAlgorithm",e.defaultValues("digestAlgorithm")),this.objectDigest=(0,u.getParametersValue)(t,"objectDigest",e.defaultValues("objectDigest")),"schema"in t&&this.fromSchema(t.schema)}return i(e,[{key:"fromSchema",value:function(t){(0,u.clearProps)(t,["digestedObjectType","otherObjectTypeID","digestAlgorithm","objectDigest"]);var r=s.compareSchema(t,t,e.schema({names:{digestedObjectType:"digestedObjectType",otherObjectTypeID:"otherObjectTypeID",digestAlgorithm:{names:{blockName:"digestAlgorithm"}},objectDigest:"objectDigest"}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for ObjectDigestInfo");this.digestedObjectType=r.result.digestedObjectType,"otherObjectTypeID"in r.result&&(this.otherObjectTypeID=r.result.otherObjectTypeID),this.digestAlgorithm=new c.default({schema:r.result.digestAlgorithm}),this.objectDigest=r.result.objectDigest}},{key:"toSchema",value:function(){var e=new s.Sequence({value:[this.digestedObjectType]});return"otherObjectTypeID"in this&&e.value.push(this.otherObjectTypeID),e.value.push(this.digestAlgorithm.toSchema()),e.value.push(this.objectDigest),e}},{key:"toJSON",value:function(){var e={digestedObjectType:this.digestedObjectType.toJSON()};return"otherObjectTypeID"in this&&(e.otherObjectTypeID=this.otherObjectTypeID.toJSON()),e.digestAlgorithm=this.digestAlgorithm.toJSON(),e.objectDigest=this.objectDigest.toJSON(),e}}],[{key:"defaultValues",value:function(e){switch(e){case"digestedObjectType":return new s.Enumerated;case"otherObjectTypeID":return new s.ObjectIdentifier;case"digestAlgorithm":return new c.default;case"objectDigest":return new s.BitString;default:throw new Error("Invalid member name for ObjectDigestInfo class: ".concat(e))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,u.getParametersValue)(e,"names",{});return new s.Sequence({name:t.blockName||"",value:[new s.Enumerated({name:t.digestedObjectType||""}),new s.ObjectIdentifier({optional:!0,name:t.otherObjectTypeID||""}),c.default.schema(t.digestAlgorithm||{}),new s.BitString({name:t.objectDigest||""})]})}}]),e}();r.ObjectDigestInfo=y;var v=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),"issuerName"in t&&(this.issuerName=(0,u.getParametersValue)(t,"issuerName",e.defaultValues("issuerName"))),"baseCertificateID"in t&&(this.baseCertificateID=(0,u.getParametersValue)(t,"baseCertificateID",e.defaultValues("baseCertificateID"))),"objectDigestInfo"in t&&(this.objectDigestInfo=(0,u.getParametersValue)(t,"objectDigestInfo",e.defaultValues("objectDigestInfo"))),"schema"in t&&this.fromSchema(t.schema)}return i(e,[{key:"fromSchema",value:function(t){(0,u.clearProps)(t,["issuerName","baseCertificateID","objectDigestInfo"]);var r=s.compareSchema(t,t,e.schema({names:{issuerName:"issuerName",baseCertificateID:"baseCertificateID",objectDigestInfo:"objectDigestInfo"}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for V2Form");"issuerName"in r.result&&(this.issuerName=new l.default({schema:r.result.issuerName})),"baseCertificateID"in r.result&&(this.baseCertificateID=new m.IssuerSerial({schema:new s.Sequence({value:r.result.baseCertificateID.valueBlock.value})})),"objectDigestInfo"in r.result&&(this.objectDigestInfo=new y({schema:new s.Sequence({value:r.result.objectDigestInfo.valueBlock.value})}))}},{key:"toSchema",value:function(){var e=new s.Sequence;return"issuerName"in this&&e.valueBlock.value.push(this.issuerName.toSchema()),"baseCertificateID"in this&&e.valueBlock.value.push(new s.Constructed({idBlock:{tagClass:3,tagNumber:0},value:this.baseCertificateID.toSchema().valueBlock.value})),"objectDigestInfo"in this&&e.valueBlock.value.push(new s.Constructed({idBlock:{tagClass:3,tagNumber:1},value:this.objectDigestInfo.toSchema().valueBlock.value})),e}},{key:"toJSON",value:function(){var e={};return"issuerName"in this&&(e.issuerName=this.issuerName.toJSON()),"baseCertificateID"in this&&(e.baseCertificateID=this.baseCertificateID.toJSON()),"objectDigestInfo"in this&&(e.objectDigestInfo=this.objectDigestInfo.toJSON()),e}}],[{key:"defaultValues",value:function(e){switch(e){case"issuerName":return new l.default;case"baseCertificateID":return new m.IssuerSerial;case"objectDigestInfo":return new y;default:throw new Error("Invalid member name for V2Form class: ".concat(e))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,u.getParametersValue)(e,"names",{});return new s.Sequence({name:t.blockName||"",value:[l.default.schema({names:{blockName:t.issuerName}},!0),new s.Constructed({optional:!0,name:t.baseCertificateID||"",idBlock:{tagClass:3,tagNumber:0},value:m.IssuerSerial.schema().valueBlock.value}),new s.Constructed({optional:!0,name:t.objectDigestInfo||"",idBlock:{tagClass:3,tagNumber:1},value:y.schema().valueBlock.value})]})}}]),e}();r.V2Form=v;var g=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),"baseCertificateID"in t&&(this.baseCertificateID=(0,u.getParametersValue)(t,"baseCertificateID",e.defaultValues("baseCertificateID"))),"entityName"in t&&(this.entityName=(0,u.getParametersValue)(t,"entityName",e.defaultValues("entityName"))),"objectDigestInfo"in t&&(this.objectDigestInfo=(0,u.getParametersValue)(t,"objectDigestInfo",e.defaultValues("objectDigestInfo"))),"schema"in t&&this.fromSchema(t.schema)}return i(e,[{key:"fromSchema",value:function(t){(0,u.clearProps)(t,["baseCertificateID","entityName","objectDigestInfo"]);var r=s.compareSchema(t,t,e.schema({names:{baseCertificateID:"baseCertificateID",entityName:"entityName",objectDigestInfo:"objectDigestInfo"}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for Holder");"baseCertificateID"in r.result&&(this.baseCertificateID=new m.IssuerSerial({schema:new s.Sequence({value:r.result.baseCertificateID.valueBlock.value})})),"entityName"in r.result&&(this.entityName=new l.default({schema:new s.Sequence({value:r.result.entityName.valueBlock.value})})),"objectDigestInfo"in r.result&&(this.objectDigestInfo=new y({schema:new s.Sequence({value:r.result.objectDigestInfo.valueBlock.value})}))}},{key:"toSchema",value:function(){var e=new s.Sequence;return"baseCertificateID"in this&&e.valueBlock.value.push(new s.Constructed({idBlock:{tagClass:3,tagNumber:0},value:this.baseCertificateID.toSchema().valueBlock.value})),"entityName"in this&&e.valueBlock.value.push(new s.Constructed({idBlock:{tagClass:3,tagNumber:1},value:this.entityName.toSchema().valueBlock.value})),"objectDigestInfo"in this&&e.valueBlock.value.push(new s.Constructed({idBlock:{tagClass:3,tagNumber:2},value:this.objectDigestInfo.toSchema().valueBlock.value})),e}},{key:"toJSON",value:function(){var e={};return"baseCertificateID"in this&&(e.baseCertificateID=this.baseCertificateID.toJSON()),"entityName"in this&&(e.entityName=this.entityName.toJSON()),"objectDigestInfo"in this&&(e.objectDigestInfo=this.objectDigestInfo.toJSON()),e}}],[{key:"defaultValues",value:function(e){switch(e){case"baseCertificateID":return new m.IssuerSerial;case"entityName":return new l.default;case"objectDigestInfo":return new y;default:throw new Error("Invalid member name for Holder class: ".concat(e))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,u.getParametersValue)(e,"names",{});return new s.Sequence({name:t.blockName||"",value:[new s.Constructed({optional:!0,name:t.baseCertificateID||"",idBlock:{tagClass:3,tagNumber:0},value:m.IssuerSerial.schema().valueBlock.value}),new s.Constructed({optional:!0,name:t.entityName||"",idBlock:{tagClass:3,tagNumber:1},value:l.default.schema().valueBlock.value}),new s.Constructed({optional:!0,name:t.objectDigestInfo||"",idBlock:{tagClass:3,tagNumber:2},value:y.schema().valueBlock.value})]})}}]),e}();r.Holder=g;var b=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.version=(0,u.getParametersValue)(t,"version",e.defaultValues("version")),this.holder=(0,u.getParametersValue)(t,"holder",e.defaultValues("holder")),this.issuer=(0,u.getParametersValue)(t,"issuer",e.defaultValues("issuer")),this.signature=(0,u.getParametersValue)(t,"signature",e.defaultValues("signature")),this.serialNumber=(0,u.getParametersValue)(t,"serialNumber",e.defaultValues("serialNumber")),this.attrCertValidityPeriod=(0,u.getParametersValue)(t,"attrCertValidityPeriod",e.defaultValues("attrCertValidityPeriod")),this.attributes=(0,u.getParametersValue)(t,"attributes",e.defaultValues("attributes")),"issuerUniqueID"in t&&(this.issuerUniqueID=(0,u.getParametersValue)(t,"issuerUniqueID",e.defaultValues("issuerUniqueID"))),"extensions"in t&&(this.extensions=(0,u.getParametersValue)(t,"extensions",e.defaultValues("extensions"))),"schema"in t&&this.fromSchema(t.schema)}return i(e,[{key:"fromSchema",value:function(t){(0,u.clearProps)(t,["version","holder","issuer","signature","serialNumber","attrCertValidityPeriod","attributes","issuerUniqueID","extensions"]);var r=s.compareSchema(t,t,e.schema({names:{version:"version",holder:{names:{blockName:"holder"}},issuer:"issuer",signature:{names:{blockName:"signature"}},serialNumber:"serialNumber",attrCertValidityPeriod:{names:{blockName:"attrCertValidityPeriod"}},attributes:"attributes",issuerUniqueID:"issuerUniqueID",extensions:{names:{blockName:"extensions"}}}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for AttributeCertificateInfoV2");if(this.version=r.result.version.valueBlock.valueDec,this.holder=new g({schema:r.result.holder}),3!==r.result.issuer.idBlock.tagClass)throw new Error("Incorect value for 'issuer' in AttributeCertificateInfoV2");this.issuer=new v({schema:new s.Sequence({value:r.result.issuer.valueBlock.value})}),this.signature=new c.default({schema:r.result.signature}),this.serialNumber=r.result.serialNumber,this.attrCertValidityPeriod=new m.AttCertValidityPeriod({schema:r.result.attrCertValidityPeriod}),this.attributes=Array.from(r.result.attributes.valueBlock.value,(function(e){return new f.default({schema:e})})),"issuerUniqueID"in r.result&&(this.issuerUniqueID=r.result.issuerUniqueID),"extensions"in r.result&&(this.extensions=new h.default({schema:r.result.extensions}))}},{key:"toSchema",value:function(){var e=new s.Sequence({value:[new s.Integer({value:this.version}),this.holder.toSchema(),new s.Constructed({idBlock:{tagClass:3,tagNumber:0},value:this.issuer.toSchema().valueBlock.value}),this.signature.toSchema(),this.serialNumber,this.attrCertValidityPeriod.toSchema(),new s.Sequence({value:Array.from(this.attributes,(function(e){return e.toSchema()}))})]});return"issuerUniqueID"in this&&e.valueBlock.value.push(this.issuerUniqueID),"extensions"in this&&e.valueBlock.value.push(this.extensions.toSchema()),e}},{key:"toJSON",value:function(){var e={version:this.version,holder:this.holder.toJSON(),issuer:this.issuer.toJSON(),signature:this.signature.toJSON(),serialNumber:this.serialNumber.toJSON(),attrCertValidityPeriod:this.attrCertValidityPeriod.toJSON(),attributes:Array.from(this.attributes,(function(e){return e.toJSON()}))};return"issuerUniqueID"in this&&(e.issuerUniqueID=this.issuerUniqueID.toJSON()),"extensions"in this&&(e.extensions=this.extensions.toJSON()),e}}],[{key:"defaultValues",value:function(e){switch(e){case"version":return 1;case"holder":return new g;case"issuer":return{};case"signature":return new c.default;case"serialNumber":return new s.Integer;case"attrCertValidityPeriod":return new m.AttCertValidityPeriod;case"attributes":return[];case"issuerUniqueID":return new s.BitString;case"extensions":return new h.default;default:throw new Error("Invalid member name for AttributeCertificateInfoV2 class: ".concat(e))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,u.getParametersValue)(e,"names",{});return new s.Sequence({name:t.blockName||"",value:[new s.Integer({name:t.version||""}),g.schema(t.holder||{}),new s.Choice({value:[l.default.schema({names:{blockName:t.issuer||""}}),new s.Constructed({name:t.issuer||"",idBlock:{tagClass:3,tagNumber:0},value:v.schema().valueBlock.value})]}),c.default.schema(t.signature||{}),new s.Integer({name:t.serialNumber||""}),m.AttCertValidityPeriod.schema(t.attrCertValidityPeriod||{}),new s.Sequence({name:t.attributes||"",value:[new s.Repeated({value:f.default.schema()})]}),new s.BitString({optional:!0,name:t.issuerUniqueID||""}),h.default.schema(t.extensions||{},!0)]})}}]),e}();r.AttributeCertificateInfoV2=b;var w=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.acinfo=(0,u.getParametersValue)(t,"acinfo",e.defaultValues("acinfo")),this.signatureAlgorithm=(0,u.getParametersValue)(t,"signatureAlgorithm",e.defaultValues("signatureAlgorithm")),this.signatureValue=(0,u.getParametersValue)(t,"signatureValue",e.defaultValues("signatureValue")),"schema"in t&&this.fromSchema(t.schema)}return i(e,[{key:"fromSchema",value:function(t){(0,u.clearProps)(t,["acinfo","signatureAlgorithm","signatureValue"]);var r=s.compareSchema(t,t,e.schema({names:{acinfo:{names:{blockName:"acinfo"}},signatureAlgorithm:{names:{blockName:"signatureAlgorithm"}},signatureValue:"signatureValue"}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for AttributeCertificateV2");this.acinfo=new b({schema:r.result.acinfo}),this.signatureAlgorithm=new c.default({schema:r.result.signatureAlgorithm}),this.signatureValue=r.result.signatureValue}},{key:"toSchema",value:function(){return new s.Sequence({value:[this.acinfo.toSchema(),this.signatureAlgorithm.toSchema(),this.signatureValue]})}},{key:"toJSON",value:function(){return{acinfo:this.acinfo.toJSON(),signatureAlgorithm:this.signatureAlgorithm.toJSON(),signatureValue:this.signatureValue.toJSON()}}}],[{key:"defaultValues",value:function(e){switch(e){case"acinfo":return new b;case"signatureAlgorithm":return new c.default;case"signatureValue":return new s.BitString;default:throw new Error("Invalid member name for AttributeCertificateV2 class: ".concat(e))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,u.getParametersValue)(e,"names",{});return new s.Sequence({name:t.blockName||"",value:[b.schema(t.acinfo||{}),c.default.schema(t.signatureAlgorithm||{}),new s.BitString({name:t.signatureValue||""})]})}}]),e}();r.default=w},{"./AlgorithmIdentifier.js":338,"./Attribute.js":340,"./AttributeCertificateV1.js":341,"./Extensions.js":373,"./GeneralNames.js":375,asn1js:1,pvutils:447}],343:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=l(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),s=e("pvutils"),u=e("./common.js");function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(l=function(e){return e?r:t})(e)}function c(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var h=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.type=(0,s.getParametersValue)(t,"type",e.defaultValues("type")),this.value=(0,s.getParametersValue)(t,"value",e.defaultValues("value")),"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,i=[{key:"defaultValues",value:function(e){switch(e){case"type":return"";case"value":return{};default:throw new Error("Invalid member name for AttributeTypeAndValue class: ".concat(e))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,s.getParametersValue)(e,"names",{});return new o.Sequence({name:t.blockName||"",value:[new o.ObjectIdentifier({name:t.type||""}),new o.Any({name:t.value||""})]})}},{key:"blockName",value:function(){return"AttributeTypeAndValue"}}],(r=[{key:"fromSchema",value:function(t){(0,s.clearProps)(t,["type","typeValue"]);var r=o.compareSchema(t,t,e.schema({names:{type:"type",value:"typeValue"}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for AttributeTypeAndValue");this.type=r.result.type.valueBlock.toString(),this.value=r.result.typeValue}},{key:"toSchema",value:function(){return new o.Sequence({value:[new o.ObjectIdentifier({value:this.type}),this.value]})}},{key:"toJSON",value:function(){var e={type:this.type};return 0!==Object.keys(this.value).length?e.value=this.value.toJSON():e.value=this.value,e}},{key:"isEqual",value:function(t){var r=[o.Utf8String.blockName(),o.BmpString.blockName(),o.UniversalString.blockName(),o.NumericString.blockName(),o.PrintableString.blockName(),o.TeletexString.blockName(),o.VideotexString.blockName(),o.IA5String.blockName(),o.GraphicString.blockName(),o.VisibleString.blockName(),o.GeneralString.blockName(),o.CharacterString.blockName()];if(t.constructor.blockName()===e.blockName()){if(this.type!==t.type)return!1;var n,a=[!1,!1],i=this.value.constructor.blockName(),l=c(r);try{for(l.s();!(n=l.n()).done;){var f=n.value;i===f&&(a[0]=!0),t.value.constructor.blockName()===f&&(a[1]=!0)}}catch(e){l.e(e)}finally{l.f()}if(a[0]^a[1])return!1;if(a=a[0]&&a[1]){var h=(0,u.stringPrep)(this.value.valueBlock.value),m=(0,u.stringPrep)(t.value.valueBlock.value);if(0!==h.localeCompare(m))return!1}else if(!1===(0,s.isEqualBuffer)(this.value.valueBeforeDecode,t.value.valueBeforeDecode))return!1;return!0}return t instanceof ArrayBuffer&&(0,s.isEqualBuffer)(this.value.valueBeforeDecode,t)}}])&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=h},{"./common.js":444,asn1js:1,pvutils:447}],344:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=m(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),s=e("pvutils"),u=h(e("./ContentInfo.js")),l=h(e("./SafeContents.js")),c=h(e("./EnvelopedData.js")),f=h(e("./EncryptedData.js"));function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(m=function(e){return e?r:t})(e)}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,i=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw a}}return i}(e,t)||y(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=y(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}function y(e,t){if(e){if("string"==typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?v(e,t):void 0}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var g=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.safeContents=(0,s.getParametersValue)(t,"safeContents",e.defaultValues("safeContents")),"parsedValue"in t&&(this.parsedValue=(0,s.getParametersValue)(t,"parsedValue",e.defaultValues("parsedValue"))),"schema"in t&&this.fromSchema(t.schema)}var t,r,h;return t=e,h=[{key:"defaultValues",value:function(e){switch(e){case"safeContents":return[];case"parsedValue":return{};default:throw new Error("Invalid member name for AuthenticatedSafe class: ".concat(e))}}},{key:"compareWithDefault",value:function(e,t){switch(e){case"safeContents":return 0===t.length;case"parsedValue":return t instanceof Object&&0===Object.keys(t).length;default:throw new Error("Invalid member name for AuthenticatedSafe class: ".concat(e))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,s.getParametersValue)(e,"names",{});return new o.Sequence({name:t.blockName||"",value:[new o.Repeated({name:t.contentInfos||"",value:u.default.schema()})]})}}],(r=[{key:"fromSchema",value:function(t){(0,s.clearProps)(t,["contentInfos"]);var r=o.compareSchema(t,t,e.schema({names:{contentInfos:"contentInfos"}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for AuthenticatedSafe");this.safeContents=Array.from(r.result.contentInfos,(function(e){return new u.default({schema:e})}))}},{key:"toSchema",value:function(){return new o.Sequence({value:Array.from(this.safeContents,(function(e){return e.toSchema()}))})}},{key:"toJSON",value:function(){return{safeContents:Array.from(this.safeContents,(function(e){return e.toJSON()}))}}},{key:"parseInternalValues",value:function(e){var t=this;if(e instanceof Object==0)return Promise.reject('The "parameters" must has "Object" type');if("safeContents"in e==0)return Promise.reject('Absent mandatory parameter "safeContents"');if(e.safeContents instanceof Array==0)return Promise.reject('The "parameters.safeContents" must has "Array" type');if(e.safeContents.length!==this.safeContents.length)return Promise.reject('Length of "parameters.safeContents" must be equal to "this.safeContents.length"');var r=Promise.resolve();this.parsedValue={safeContents:[]};var n,a=d(this.safeContents.entries());try{for(a.s();!(n=a.n()).done;){var u=p(n.value,2),h=u[0],m=u[1];switch(m.contentType){case"1.2.840.113549.1.7.1":if(m.content instanceof o.OctetString==0)return Promise.reject('Wrong type of "this.safeContents[j].content"');var y=new ArrayBuffer(0);if(m.content.valueBlock.isConstructed){var v,g=d(m.content.valueBlock.value);try{for(g.s();!(v=g.n()).done;){var b=v.value;y=(0,s.utilConcatBuf)(y,b.valueBlock.valueHex)}}catch(e){g.e(e)}finally{g.f()}}else y=m.content.valueBlock.valueHex;var w=o.fromBER(y);if(-1===w.offset)return Promise.reject('Error during parsing of ASN.1 data inside "content.content"');this.parsedValue.safeContents.push({privacyMode:0,value:new l.default({schema:w.result})});break;case"1.2.840.113549.1.7.3":var k=function(){var n=new c.default({schema:m.content});if("recipientCertificate"in e.safeContents[h]==0)return{v:Promise.reject('Absent mandatory parameter "recipientCertificate" in "parameters.safeContents[j]"')};var a=e.safeContents[h].recipientCertificate;if("recipientKey"in e.safeContents[h]==0)return{v:Promise.reject('Absent mandatory parameter "recipientKey" in "parameters.safeContents[j]"')};var i=e.safeContents[h].recipientKey;r=(r=r.then((function(){return n.decrypt(0,{recipientCertificate:a,recipientPrivateKey:i})}))).then((function(e){var r=o.fromBER(e);return-1===r.offset?Promise.reject("Error during parsing of decrypted data"):(t.parsedValue.safeContents.push({privacyMode:2,value:new l.default({schema:r.result})}),Promise.resolve())}))}();if("object"===i(k))return k.v;break;case"1.2.840.113549.1.7.6":var S=function(){var n=new f.default({schema:m.content});if("password"in e.safeContents[h]==0)return{v:Promise.reject('Absent mandatory parameter "password" in "parameters.safeContents[j]"')};var a=e.safeContents[h].password;r=(r=r.then((function(){return n.decrypt({password:a})}),(function(e){return Promise.reject(e)}))).then((function(e){var r=o.fromBER(e);return-1===r.offset?Promise.reject("Error during parsing of decrypted data"):(t.parsedValue.safeContents.push({privacyMode:1,value:new l.default({schema:r.result})}),Promise.resolve())}),(function(e){return Promise.reject(e)}))}();if("object"===i(S))return S.v;break;default:throw new Error('Unknown "contentType" for AuthenticatedSafe: " '.concat(m.contentType))}}}catch(e){a.e(e)}finally{a.f()}return r}},{key:"makeInternalValues",value:function(e){var t=this;if("parsedValue"in this==0)return Promise.reject('Please run "parseValues" first or add "parsedValue" manually');if(this.parsedValue instanceof Object==0)return Promise.reject('The "this.parsedValue" must has "Object" type');if(this.parsedValue.safeContents instanceof Array==0)return Promise.reject('The "this.parsedValue.safeContents" must has "Array" type');if(e instanceof Object==0)return Promise.reject('The "parameters" must has "Object" type');if("safeContents"in e==0)return Promise.reject('Absent mandatory parameter "safeContents"');if(e.safeContents instanceof Array==0)return Promise.reject('The "parameters.safeContents" must has "Array" type');if(e.safeContents.length!==this.parsedValue.safeContents.length)return Promise.reject('Length of "parameters.safeContents" must be equal to "this.parsedValue.safeContents"');var r=Promise.resolve();this.safeContents=[];var n,a=d(this.parsedValue.safeContents.entries());try{for(a.s();!(n=a.n()).done;){var s=p(n.value,2),h=s[0],m=s[1];if("privacyMode"in m==0)return Promise.reject('The "privacyMode" is a mandatory parameter for "content"');if("value"in m==0)return Promise.reject('The "value" is a mandatory parameter for "content"');if(m.value instanceof l.default==0)return Promise.reject('The "content.value" must has "SafeContents" type');switch(m.privacyMode){case 0:!function(){var e=m.value.toSchema().toBER(!1);r=r.then((function(){t.safeContents.push(new u.default({contentType:"1.2.840.113549.1.7.1",content:new o.OctetString({valueHex:e})}))}))}();break;case 1:!function(){var n=new f.default,a=e.safeContents[h];a.contentToEncrypt=m.value.toSchema().toBER(!1),r=(r=r.then((function(){return n.encrypt(a)}),(function(e){return Promise.reject(e)}))).then((function(){t.safeContents.push(new u.default({contentType:"1.2.840.113549.1.7.6",content:n.toSchema()}))}),(function(e){return Promise.reject(e)}))}();break;case 2:var y=function(){var n=new c.default,a=m.value.toSchema().toBER(!1);if("encryptingCertificate"in e.safeContents[h]==0)return{v:Promise.reject('Absent mandatory parameter "encryptingCertificate" in "parameters.safeContents[i]"')};if("encryptionAlgorithm"in e.safeContents[h]==0)return{v:Promise.reject('Absent mandatory parameter "encryptionAlgorithm" in "parameters.safeContents[i]"')};switch(!0){case"aes-cbc"===e.safeContents[h].encryptionAlgorithm.name.toLowerCase():case"aes-gcm"===e.safeContents[h].encryptionAlgorithm.name.toLowerCase():break;default:return{v:Promise.reject('Incorrect parameter "encryptionAlgorithm" in "parameters.safeContents[i]": '.concat(e.safeContents[h].encryptionAlgorithm))}}switch(!0){case 128===e.safeContents[h].encryptionAlgorithm.length:case 192===e.safeContents[h].encryptionAlgorithm.length:case 256===e.safeContents[h].encryptionAlgorithm.length:break;default:return{v:Promise.reject('Incorrect parameter "encryptionAlgorithm.length" in "parameters.safeContents[i]": '.concat(e.safeContents[h].encryptionAlgorithm.length))}}var i=e.safeContents[h].encryptionAlgorithm;n.addRecipientByCertificate(e.safeContents[h].encryptingCertificate),r=(r=r.then((function(){return n.encrypt(i,a)}))).then((function(){t.safeContents.push(new u.default({contentType:"1.2.840.113549.1.7.3",content:n.toSchema()}))}))}();if("object"===i(y))return y.v;break;default:return Promise.reject('Incorrect value for "content.privacyMode": '.concat(m.privacyMode))}}}catch(e){a.e(e)}finally{a.f()}return r.then((function(){return t}),(function(e){return Promise.reject("Error during parsing: ".concat(e))}))}}])&&a(t.prototype,r),h&&a(t,h),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=g},{"./ContentInfo.js":360,"./EncryptedData.js":369,"./EnvelopedData.js":370,"./SafeContents.js":430,asn1js:1,pvutils:447}],345:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),u=e("pvutils"),l=(o=e("./GeneralName.js"))&&o.__esModule?o:{default:o};function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}var f=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),"keyIdentifier"in t&&(this.keyIdentifier=(0,u.getParametersValue)(t,"keyIdentifier",e.defaultValues("keyIdentifier"))),"authorityCertIssuer"in t&&(this.authorityCertIssuer=(0,u.getParametersValue)(t,"authorityCertIssuer",e.defaultValues("authorityCertIssuer"))),"authorityCertSerialNumber"in t&&(this.authorityCertSerialNumber=(0,u.getParametersValue)(t,"authorityCertSerialNumber",e.defaultValues("authorityCertSerialNumber"))),"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,i=[{key:"defaultValues",value:function(e){switch(e){case"keyIdentifier":return new s.OctetString;case"authorityCertIssuer":return[];case"authorityCertSerialNumber":return new s.Integer;default:throw new Error("Invalid member name for AuthorityKeyIdentifier class: ".concat(e))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,u.getParametersValue)(e,"names",{});return new s.Sequence({name:t.blockName||"",value:[new s.Primitive({name:t.keyIdentifier||"",optional:!0,idBlock:{tagClass:3,tagNumber:0}}),new s.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new s.Repeated({name:t.authorityCertIssuer||"",value:l.default.schema()})]}),new s.Primitive({name:t.authorityCertSerialNumber||"",optional:!0,idBlock:{tagClass:3,tagNumber:2}})]})}}],(r=[{key:"fromSchema",value:function(t){(0,u.clearProps)(t,["keyIdentifier","authorityCertIssuer","authorityCertSerialNumber"]);var r=s.compareSchema(t,t,e.schema({names:{keyIdentifier:"keyIdentifier",authorityCertIssuer:"authorityCertIssuer",authorityCertSerialNumber:"authorityCertSerialNumber"}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for AuthorityKeyIdentifier");"keyIdentifier"in r.result&&(this.keyIdentifier=new s.OctetString({valueHex:r.result.keyIdentifier.valueBlock.valueHex})),"authorityCertIssuer"in r.result&&(this.authorityCertIssuer=Array.from(r.result.authorityCertIssuer,(function(e){return new l.default({schema:e})}))),"authorityCertSerialNumber"in r.result&&(this.authorityCertSerialNumber=new s.Integer({valueHex:r.result.authorityCertSerialNumber.valueBlock.valueHex}))}},{key:"toSchema",value:function(){var e=[];return"keyIdentifier"in this&&e.push(new s.Primitive({idBlock:{tagClass:3,tagNumber:0},valueHex:this.keyIdentifier.valueBlock.valueHex})),"authorityCertIssuer"in this&&e.push(new s.Constructed({idBlock:{tagClass:3,tagNumber:1},value:Array.from(this.authorityCertIssuer,(function(e){return e.toSchema()}))})),"authorityCertSerialNumber"in this&&e.push(new s.Primitive({idBlock:{tagClass:3,tagNumber:2},valueHex:this.authorityCertSerialNumber.valueBlock.valueHex})),new s.Sequence({value:e})}},{key:"toJSON",value:function(){var e={};return"keyIdentifier"in this&&(e.keyIdentifier=this.keyIdentifier.toJSON()),"authorityCertIssuer"in this&&(e.authorityCertIssuer=Array.from(this.authorityCertIssuer,(function(e){return e.toJSON()}))),"authorityCertSerialNumber"in this&&(e.authorityCertSerialNumber=this.authorityCertSerialNumber.toJSON()),e}}])&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=f},{"./GeneralName.js":374,asn1js:1,pvutils:447}],346:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),s=e("pvutils");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}var l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.cA=(0,s.getParametersValue)(t,"cA",!1),"pathLenConstraint"in t&&(this.pathLenConstraint=(0,s.getParametersValue)(t,"pathLenConstraint",0)),"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,i=[{key:"defaultValues",value:function(e){if("cA"===e)return!1;throw new Error("Invalid member name for BasicConstraints class: ".concat(e))}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,s.getParametersValue)(e,"names",{});return new o.Sequence({name:t.blockName||"",value:[new o.Boolean({optional:!0,name:t.cA||""}),new o.Integer({optional:!0,name:t.pathLenConstraint||""})]})}}],(r=[{key:"fromSchema",value:function(t){(0,s.clearProps)(t,["cA","pathLenConstraint"]);var r=o.compareSchema(t,t,e.schema({names:{cA:"cA",pathLenConstraint:"pathLenConstraint"}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for BasicConstraints");"cA"in r.result&&(this.cA=r.result.cA.valueBlock.value),"pathLenConstraint"in r.result&&(r.result.pathLenConstraint.valueBlock.isHexOnly?this.pathLenConstraint=r.result.pathLenConstraint:this.pathLenConstraint=r.result.pathLenConstraint.valueBlock.valueDec)}},{key:"toSchema",value:function(){var t=[];return this.cA!==e.defaultValues("cA")&&t.push(new o.Boolean({value:this.cA})),"pathLenConstraint"in this&&(this.pathLenConstraint instanceof o.Integer?t.push(this.pathLenConstraint):t.push(new o.Integer({value:this.pathLenConstraint}))),new o.Sequence({value:t})}},{key:"toJSON",value:function(){var t={};return this.cA!==e.defaultValues("cA")&&(t.cA=this.cA),"pathLenConstraint"in this&&(this.pathLenConstraint instanceof o.Integer?t.pathLenConstraint=this.pathLenConstraint.toJSON():t.pathLenConstraint=this.pathLenConstraint),t}}])&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=l},{asn1js:1,pvutils:447}],347:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=y(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),s=e("pvutils"),u=e("./common.js"),l=d(e("./ResponseData.js")),c=d(e("./AlgorithmIdentifier.js")),f=d(e("./Certificate.js")),h=d(e("./CertID.js")),m=d(e("./RelativeDistinguishedNames.js")),p=d(e("./CertificateChainValidationEngine.js"));function d(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(y=function(e){return e?r:t})(e)}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,i=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw a}}return i}(e,t)||b(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=b(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}function b(e,t){if(e){if("string"==typeof e)return w(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?w(e,t):void 0}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var k=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.tbsResponseData=(0,s.getParametersValue)(t,"tbsResponseData",e.defaultValues("tbsResponseData")),this.signatureAlgorithm=(0,s.getParametersValue)(t,"signatureAlgorithm",e.defaultValues("signatureAlgorithm")),this.signature=(0,s.getParametersValue)(t,"signature",e.defaultValues("signature")),"certs"in t&&(this.certs=(0,s.getParametersValue)(t,"certs",e.defaultValues("certs"))),"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,r=[{key:"fromSchema",value:function(t){(0,s.clearProps)(t,["BasicOCSPResponse.tbsResponseData","BasicOCSPResponse.signatureAlgorithm","BasicOCSPResponse.signature","BasicOCSPResponse.certs"]);var r=o.compareSchema(t,t,e.schema());if(!1===r.verified)throw new Error("Object's schema was not verified against input data for BasicOCSPResponse");this.tbsResponseData=new l.default({schema:r.result["BasicOCSPResponse.tbsResponseData"]}),this.signatureAlgorithm=new c.default({schema:r.result["BasicOCSPResponse.signatureAlgorithm"]}),this.signature=r.result["BasicOCSPResponse.signature"],"BasicOCSPResponse.certs"in r.result&&(this.certs=Array.from(r.result["BasicOCSPResponse.certs"],(function(e){return new f.default({schema:e})})))}},{key:"toSchema",value:function(){var e=[];return e.push(this.tbsResponseData.toSchema()),e.push(this.signatureAlgorithm.toSchema()),e.push(this.signature),"certs"in this&&e.push(new o.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[new o.Sequence({value:Array.from(this.certs,(function(e){return e.toSchema()}))})]})),new o.Sequence({value:e})}},{key:"toJSON",value:function(){var e={tbsResponseData:this.tbsResponseData.toJSON(),signatureAlgorithm:this.signatureAlgorithm.toJSON(),signature:this.signature.toJSON()};return"certs"in this&&(e.certs=Array.from(this.certs,(function(e){return e.toJSON()}))),e}},{key:"getCertificateStatus",value:function(e,t){var r,n=this,a=Promise.resolve(),i={isForCertificate:!1,status:2},o={},s=[],l=[],c=g(this.tbsResponseData.responses);try{for(c.s();!(r=c.n()).done;){var f=r.value,m=(0,u.getAlgorithmByOID)(f.certID.hashAlgorithm.algorithmId);if("name"in m==0)return Promise.reject("Wrong CertID hashing algorithm: ".concat(f.certID.hashAlgorithm.algorithmId));if(m.name in o==0){o[m.name]=1;var p=new h.default;s.push(p),l.push(p.createForCertificate(e,{hashAlgorithm:m.name,issuerCertificate:t}))}}}catch(e){c.e(e)}finally{c.f()}return a=(a=a.then((function(){return Promise.all(l)}))).then((function(){var e,t=g(n.tbsResponseData.responses);try{for(t.s();!(e=t.n()).done;){var r,a=e.value,o=g(s);try{for(o.s();!(r=o.n()).done;){var u=r.value;if(a.certID.isEqual(u)){i.isForCertificate=!0;try{switch(a.certStatus.idBlock.isConstructed){case!0:1===a.certStatus.idBlock.tagNumber&&(i.status=1);break;case!1:switch(a.certStatus.idBlock.tagNumber){case 0:i.status=0;break;case 2:i.status=2}}}catch(e){}return i}}}catch(e){o.e(e)}finally{o.f()}}}catch(e){t.e(e)}finally{t.f()}return i}))}},{key:"sign",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"SHA-1";if(void 0===e)return Promise.reject("Need to provide a private key for signing");var n,a=Promise.resolve(),i=(0,u.getEngine)();return a=(a=(a=(a=(a=a.then((function(){return i.subtle.getSignatureParameters(e,r)}))).then((function(e){n=e.parameters,t.signatureAlgorithm=e.signatureAlgorithm}))).then((function(){t.tbsResponseData.tbs=t.tbsResponseData.toSchema(!0).toBER(!1)}))).then((function(){return i.subtle.signWithPrivateKey(t.tbsResponseData.tbs,e,n)}))).then((function(e){t.signature=new o.BitString({valueHex:e})}))}},{key:"verify",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=null,n=-1,a=Promise.resolve(),i=[],l=this,c=(0,u.getEngine)();if("certs"in this==0)return Promise.reject("No certificates attached to the BasicOCSPResponce");function f(e){if(!0===e.issuer.isEqual(r.issuer)&&!0===e.serialNumber.isEqual(r.serialNumber))return null;var t,n=!1,a=g(e.extensions);try{for(a.s();!(t=a.n()).done;){var i=t.value;"2.5.29.19"===i.extnID&&"cA"in i.parsedValue&&!0===i.parsedValue.cA&&(n=!0)}}catch(e){a.e(e)}finally{a.f()}return n?e:null}"trustedCerts"in t&&(i=t.trustedCerts);var h=(0,u.getCrypto)();if(void 0===h)return Promise.reject("Unable to create WebCrypto object");switch(!0){case this.tbsResponseData.responderID instanceof m.default:a=a.then((function(){var e,t=g(l.certs.entries());try{for(t.s();!(e=t.n()).done;){var r=v(e.value,2),a=r[0];if(r[1].subject.isEqual(l.tbsResponseData.responderID)){n=a;break}}}catch(e){t.e(e)}finally{t.f()}}));break;case this.tbsResponseData.responderID instanceof o.OctetString:a=a.then((function(){return Promise.all(Array.from(l.certs,(function(e){return h.digest({name:"sha-1"},new Uint8Array(e.subjectPublicKeyInfo.subjectPublicKey.valueBlock.valueHex))}))).then((function(e){var t,r=g(l.certs.entries());try{for(r.s();!(t=r.n()).done;){var a=v(t.value,1)[0];if((0,s.isEqualBuffer)(e[a],l.tbsResponseData.responderID.valueBlock.valueHex)){n=a;break}}}catch(e){r.e(e)}finally{r.f()}}))}));break;default:return Promise.reject("Wrong value for responderID")}return a=(a=a.then((function(){return-1===n?Promise.reject("Correct certificate was not found in OCSP response"):(r=e.certs[n],Promise.all(Array.from(l.certs,(function(e){return f(e)}))).then((function(e){var t=[];t.push(r);var n,a=g(e);try{for(a.s();!(n=a.n()).done;){var o=n.value;null!==o&&t.push(o)}}catch(e){a.e(e)}finally{a.f()}return new p.default({certs:t,trustedCerts:i}).verify().then((function(e){return!0===e.result?Promise.resolve():Promise.reject("Validation of signer's certificate failed")}),(function(e){return Promise.reject("Validation of signer's certificate failed with error: ".concat(e instanceof Object?e.resultMessage:e))}))}),(function(e){return Promise.reject("Error during checking certificates for CA flag: ".concat(e))})))}))).then((function(){return c.subtle.verifyWithPublicKey(e.tbsResponseData.tbs,e.signature,e.certs[n].subjectPublicKeyInfo,e.signatureAlgorithm)}))}}],i=[{key:"defaultValues",value:function(e){switch(e){case"tbsResponseData":return new l.default;case"signatureAlgorithm":return new c.default;case"signature":return new o.BitString;case"certs":return[];default:throw new Error("Invalid member name for BasicOCSPResponse class: ".concat(e))}}},{key:"compareWithDefault",value:function(t,r){switch(t){case"type":var n=l.default.compareWithDefault("tbs",r.tbs)&&l.default.compareWithDefault("responderID",r.responderID)&&l.default.compareWithDefault("producedAt",r.producedAt)&&l.default.compareWithDefault("responses",r.responses);return"responseExtensions"in r&&(n=n&&l.default.compareWithDefault("responseExtensions",r.responseExtensions)),n;case"signatureAlgorithm":return""===r.algorithmId&&"algorithmParams"in r==0;case"signature":return r.isEqual(e.defaultValues(t));case"certs":return 0===r.length;default:throw new Error("Invalid member name for BasicOCSPResponse class: ".concat(t))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,s.getParametersValue)(e,"names",{});return new o.Sequence({name:t.blockName||"BasicOCSPResponse",value:[l.default.schema(t.tbsResponseData||{names:{blockName:"BasicOCSPResponse.tbsResponseData"}}),c.default.schema(t.signatureAlgorithm||{names:{blockName:"BasicOCSPResponse.signatureAlgorithm"}}),new o.BitString({name:t.signature||"BasicOCSPResponse.signature"}),new o.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new o.Sequence({value:[new o.Repeated({name:"BasicOCSPResponse.certs",value:f.default.schema(t.certs||{})})]})]})]})}}],r&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=k},{"./AlgorithmIdentifier.js":338,"./CertID.js":352,"./Certificate.js":353,"./CertificateChainValidationEngine.js":354,"./RelativeDistinguishedNames.js":423,"./ResponseData.js":426,"./common.js":444,asn1js:1,pvutils:447}],348:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),s=e("pvutils");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}var l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.certificateIndex=(0,s.getParametersValue)(t,"certificateIndex",e.defaultValues("certificateIndex")),this.keyIndex=(0,s.getParametersValue)(t,"keyIndex",e.defaultValues("keyIndex")),"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,i=[{key:"defaultValues",value:function(e){switch(e){case"certificateIndex":case"keyIndex":return 0;default:throw new Error("Invalid member name for CAVersion class: ".concat(e))}}},{key:"schema",value:function(){return new o.Integer}}],(r=[{key:"fromSchema",value:function(e){if(e.constructor.blockName()!==o.Integer.blockName())throw new Error("Object's schema was not verified against input data for CAVersion");var t=e.valueBlock.valueHex.slice(0),r=new Uint8Array(t);switch(!0){case t.byteLength<4:var n=new ArrayBuffer(4);new Uint8Array(n).set(r,4-t.byteLength),t=n.slice(0);break;case t.byteLength>4:var a=new ArrayBuffer(4);new Uint8Array(a).set(r.slice(0,4)),t=a.slice(0)}var i=t.slice(0,2),s=new Uint8Array(i),u=s[0];s[0]=s[1],s[1]=u;var l=new Uint16Array(i);this.keyIndex=l[0];var c=t.slice(2),f=new Uint8Array(c);u=f[0],f[0]=f[1],f[1]=u;var h=new Uint16Array(c);this.certificateIndex=h[0]}},{key:"toSchema",value:function(){var e=new ArrayBuffer(2);new Uint16Array(e)[0]=this.certificateIndex;var t=new Uint8Array(e),r=t[0];t[0]=t[1],t[1]=r;var n=new ArrayBuffer(2);new Uint16Array(n)[0]=this.keyIndex;var a=new Uint8Array(n);return r=a[0],a[0]=a[1],a[1]=r,new o.Integer({valueHex:(0,s.utilConcatBuf)(n,e)})}},{key:"toJSON",value:function(){return{certificateIndex:this.certificateIndex,keyIndex:this.keyIndex}}}])&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=l},{asn1js:1,pvutils:447}],349:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),u=e("pvutils"),l=(o=e("./CertificateRevocationList.js"))&&o.__esModule?o:{default:o};function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}var f=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.crlId=(0,u.getParametersValue)(t,"crlId",e.defaultValues("crlId")),this.crlValue=(0,u.getParametersValue)(t,"crlValue",e.defaultValues("crlValue")),"parsedValue"in t&&(this.parsedValue=(0,u.getParametersValue)(t,"parsedValue",e.defaultValues("parsedValue"))),"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,i=[{key:"defaultValues",value:function(e){switch(e){case"crlId":return"";case"crlValue":return new s.Any;case"parsedValue":return{};default:throw new Error("Invalid member name for CRLBag class: ".concat(e))}}},{key:"compareWithDefault",value:function(e,t){switch(e){case"crlId":return""===t;case"crlValue":return t instanceof s.Any;case"parsedValue":return t instanceof Object&&0===Object.keys(t).length;default:throw new Error("Invalid member name for CRLBag class: ".concat(e))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,u.getParametersValue)(e,"names",{});return new s.Sequence({name:t.blockName||"",value:[new s.ObjectIdentifier({name:t.id||"id"}),new s.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[new s.Any({name:t.value||"value"})]})]})}}],(r=[{key:"fromSchema",value:function(t){(0,u.clearProps)(t,["crlId","crlValue"]);var r=s.compareSchema(t,t,e.schema({names:{id:"crlId",value:"crlValue"}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for CRLBag");if(this.crlId=r.result.crlId.valueBlock.toString(),this.crlValue=r.result.crlValue,"1.2.840.113549.1.9.23.1"!==this.crlId)throw new Error('Incorrect "crlId" value in CRLBag: '.concat(this.crlId));var n=s.fromBER(this.certValue.valueBlock.valueHex);this.parsedValue=new l.default({schema:n.result})}},{key:"toSchema",value:function(){return"parsedValue"in this&&(this.certId="1.2.840.113549.1.9.23.1",this.certValue=new s.OctetString({valueHex:this.parsedValue.toSchema().toBER(!1)})),new s.Sequence({value:[new s.ObjectIdentifier({value:this.crlId}),new s.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[this.crlValue.toSchema()]})]})}},{key:"toJSON",value:function(){return{crlId:this.crlId,crlValue:this.crlValue.toJSON()}}}])&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=f},{"./CertificateRevocationList.js":356,asn1js:1,pvutils:447}],350:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),u=e("pvutils"),l=(o=e("./DistributionPoint.js"))&&o.__esModule?o:{default:o};function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}var f=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.distributionPoints=(0,u.getParametersValue)(t,"distributionPoints",e.defaultValues("distributionPoints")),"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,i=[{key:"defaultValues",value:function(e){if("distributionPoints"===e)return[];throw new Error("Invalid member name for CRLDistributionPoints class: ".concat(e))}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,u.getParametersValue)(e,"names",{});return new s.Sequence({name:t.blockName||"",value:[new s.Repeated({name:t.distributionPoints||"",value:l.default.schema()})]})}}],(r=[{key:"fromSchema",value:function(t){(0,u.clearProps)(t,["distributionPoints"]);var r=s.compareSchema(t,t,e.schema({names:{distributionPoints:"distributionPoints"}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for CRLDistributionPoints");this.distributionPoints=Array.from(r.result.distributionPoints,(function(e){return new l.default({schema:e})}))}},{key:"toSchema",value:function(){return new s.Sequence({value:Array.from(this.distributionPoints,(function(e){return e.toSchema()}))})}},{key:"toJSON",value:function(){return{distributionPoints:Array.from(this.distributionPoints,(function(e){return e.toJSON()}))}}}])&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=f},{"./DistributionPoint.js":363,asn1js:1,pvutils:447}],351:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=f(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),s=e("pvutils"),u=c(e("./Certificate.js")),l=c(e("./AttributeCertificateV2.js"));function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(f=function(e){return e?r:t})(e)}var h=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.certId=(0,s.getParametersValue)(t,"certId",e.defaultValues("certId")),this.certValue=(0,s.getParametersValue)(t,"certValue",e.defaultValues("certValue")),"parsedValue"in t&&(this.parsedValue=(0,s.getParametersValue)(t,"parsedValue",e.defaultValues("parsedValue"))),"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,i=[{key:"defaultValues",value:function(e){switch(e){case"certId":return"";case"certValue":return new o.Any;case"parsedValue":return{};default:throw new Error("Invalid member name for CertBag class: ".concat(e))}}},{key:"compareWithDefault",value:function(e,t){switch(e){case"certId":return""===t;case"certValue":return t instanceof o.Any;case"parsedValue":return t instanceof Object&&0===Object.keys(t).length;default:throw new Error("Invalid member name for CertBag class: ".concat(e))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,s.getParametersValue)(e,"names",{});return new o.Sequence({name:t.blockName||"",value:[new o.ObjectIdentifier({name:t.id||"id"}),new o.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[new o.Any({name:t.value||"value"})]})]})}}],(r=[{key:"fromSchema",value:function(t){(0,s.clearProps)(t,["certId","certValue"]);var r=o.compareSchema(t,t,e.schema({names:{id:"certId",value:"certValue"}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for CertBag");switch(this.certId=r.result.certId.valueBlock.toString(),this.certValue=r.result.certValue,this.certId){case"1.2.840.113549.1.9.22.1":var n=o.fromBER(this.certValue.valueBlock.valueHex);try{this.parsedValue=new u.default({schema:n.result})}catch(e){this.parsedValue=new l.default({schema:n.result})}break;case"1.2.840.113549.1.9.22.3":var a=o.fromBER(this.certValue.valueBlock.valueHex);this.parsedValue=new l.default({schema:a.result});break;default:throw new Error('Incorrect "certId" value in CertBag: '.concat(this.certId))}}},{key:"toSchema",value:function(){return"parsedValue"in this&&("acinfo"in this.parsedValue?this.certId="1.2.840.113549.1.9.22.3":this.certId="1.2.840.113549.1.9.22.1",this.certValue=new o.OctetString({valueHex:this.parsedValue.toSchema().toBER(!1)})),new o.Sequence({value:[new o.ObjectIdentifier({value:this.certId}),new o.Constructed({idBlock:{tagClass:3,tagNumber:0},value:["toSchema"in this.certValue?this.certValue.toSchema():this.certValue]})]})}},{key:"toJSON",value:function(){return{certId:this.certId,certValue:this.certValue.toJSON()}}}])&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=h},{"./AttributeCertificateV2.js":342,"./Certificate.js":353,asn1js:1,pvutils:447}],352:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=f(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),u=e("pvutils"),l=e("./common.js"),c=(o=e("./AlgorithmIdentifier.js"))&&o.__esModule?o:{default:o};function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(f=function(e){return e?r:t})(e)}var h=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.hashAlgorithm=(0,u.getParametersValue)(t,"hashAlgorithm",e.defaultValues("hashAlgorithm")),this.issuerNameHash=(0,u.getParametersValue)(t,"issuerNameHash",e.defaultValues("issuerNameHash")),this.issuerKeyHash=(0,u.getParametersValue)(t,"issuerKeyHash",e.defaultValues("issuerKeyHash")),this.serialNumber=(0,u.getParametersValue)(t,"serialNumber",e.defaultValues("serialNumber")),"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,i=[{key:"defaultValues",value:function(e){switch(e){case"hashAlgorithm":return new c.default;case"issuerNameHash":case"issuerKeyHash":return new s.OctetString;case"serialNumber":return new s.Integer;default:throw new Error("Invalid member name for CertID class: ".concat(e))}}},{key:"compareWithDefault",value:function(t,r){switch(t){case"hashAlgorithm":return""===r.algorithmId&&"algorithmParams"in r==0;case"issuerNameHash":case"issuerKeyHash":case"serialNumber":return r.isEqual(e.defaultValues(t));default:throw new Error("Invalid member name for CertID class: ".concat(t))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,u.getParametersValue)(e,"names",{});return new s.Sequence({name:t.blockName||"",value:[c.default.schema(t.hashAlgorithmObject||{names:{blockName:t.hashAlgorithm||""}}),new s.OctetString({name:t.issuerNameHash||""}),new s.OctetString({name:t.issuerKeyHash||""}),new s.Integer({name:t.serialNumber||""})]})}}],(r=[{key:"fromSchema",value:function(t){(0,u.clearProps)(t,["hashAlgorithm","issuerNameHash","issuerKeyHash","serialNumber"]);var r=s.compareSchema(t,t,e.schema({names:{hashAlgorithm:"hashAlgorithm",issuerNameHash:"issuerNameHash",issuerKeyHash:"issuerKeyHash",serialNumber:"serialNumber"}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for CertID");this.hashAlgorithm=new c.default({schema:r.result.hashAlgorithm}),this.issuerNameHash=r.result.issuerNameHash,this.issuerKeyHash=r.result.issuerKeyHash,this.serialNumber=r.result.serialNumber}},{key:"toSchema",value:function(){return new s.Sequence({value:[this.hashAlgorithm.toSchema(),this.issuerNameHash,this.issuerKeyHash,this.serialNumber]})}},{key:"toJSON",value:function(){return{hashAlgorithm:this.hashAlgorithm.toJSON(),issuerNameHash:this.issuerNameHash.toJSON(),issuerKeyHash:this.issuerKeyHash.toJSON(),serialNumber:this.serialNumber.toJSON()}}},{key:"isEqual",value:function(e){return!this.hashAlgorithm.algorithmId!==e.hashAlgorithm.algorithmId&&!1!==(0,u.isEqualBuffer)(this.issuerNameHash.valueBlock.valueHex,e.issuerNameHash.valueBlock.valueHex)&&!1!==(0,u.isEqualBuffer)(this.issuerKeyHash.valueBlock.valueHex,e.issuerKeyHash.valueBlock.valueHex)&&!!this.serialNumber.isEqual(e.serialNumber)}},{key:"createForCertificate",value:function(e,t){var r,n=this,a=Promise.resolve(),i=(0,l.getCrypto)();if(void 0===i)return Promise.reject("Unable to create WebCrypto object");if("hashAlgorithm"in t==0)return Promise.reject('Parameter "hashAlgorithm" is mandatory for "OCSP_REQUEST.createForCertificate"');var o=(0,l.getOIDByAlgorithm)({name:t.hashAlgorithm});return""===o?Promise.reject('Incorrect "hashAlgorithm": '.concat(this.hashAlgorithm)):(this.hashAlgorithm=new c.default({algorithmId:o,algorithmParams:new s.Null}),"issuerCertificate"in t?(r=t.issuerCertificate,this.serialNumber=e.serialNumber,a=(a=a.then((function(){return i.digest({name:t.hashAlgorithm},r.subject.toSchema().toBER(!1))}),(function(e){return Promise.reject(e)}))).then((function(e){n.issuerNameHash=new s.OctetString({valueHex:e});var a=r.subjectPublicKeyInfo.subjectPublicKey.valueBlock.valueHex;return i.digest({name:t.hashAlgorithm},a)}),(function(e){return Promise.reject(e)})).then((function(e){n.issuerKeyHash=new s.OctetString({valueHex:e})}),(function(e){return Promise.reject(e)}))):Promise.reject('Parameter "issuerCertificate" is mandatory for "OCSP_REQUEST.createForCertificate"'))}}])&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=h},{"./AlgorithmIdentifier.js":338,"./common.js":444,asn1js:1,pvutils:447}],353:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=y(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),s=e("pvutils"),u=e("./common.js"),l=d(e("./AlgorithmIdentifier.js")),c=d(e("./RelativeDistinguishedNames.js")),f=d(e("./Time.js")),h=d(e("./PublicKeyInfo.js")),m=d(e("./Extension.js")),p=d(e("./Extensions.js"));function d(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(y=function(e){return e?r:t})(e)}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,s.getParametersValue)(e,"names",{});return new o.Sequence({name:t.blockName||"tbsCertificate",value:[new o.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new o.Integer({name:t.tbsCertificateVersion||"tbsCertificate.version"})]}),new o.Integer({name:t.tbsCertificateSerialNumber||"tbsCertificate.serialNumber"}),l.default.schema(t.signature||{names:{blockName:"tbsCertificate.signature"}}),c.default.schema(t.issuer||{names:{blockName:"tbsCertificate.issuer"}}),new o.Sequence({name:t.tbsCertificateValidity||"tbsCertificate.validity",value:[f.default.schema(t.notBefore||{names:{utcTimeName:"tbsCertificate.notBefore",generalTimeName:"tbsCertificate.notBefore"}}),f.default.schema(t.notAfter||{names:{utcTimeName:"tbsCertificate.notAfter",generalTimeName:"tbsCertificate.notAfter"}})]}),c.default.schema(t.subject||{names:{blockName:"tbsCertificate.subject"}}),h.default.schema(t.subjectPublicKeyInfo||{names:{blockName:"tbsCertificate.subjectPublicKeyInfo"}}),new o.Primitive({name:t.tbsCertificateIssuerUniqueID||"tbsCertificate.issuerUniqueID",optional:!0,idBlock:{tagClass:3,tagNumber:1}}),new o.Primitive({name:t.tbsCertificateSubjectUniqueID||"tbsCertificate.subjectUniqueID",optional:!0,idBlock:{tagClass:3,tagNumber:2}}),new o.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:3},value:[p.default.schema(t.extensions||{names:{blockName:"tbsCertificate.extensions"}})]})]})}var g=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.tbs=(0,s.getParametersValue)(t,"tbs",e.defaultValues("tbs")),this.version=(0,s.getParametersValue)(t,"version",e.defaultValues("version")),this.serialNumber=(0,s.getParametersValue)(t,"serialNumber",e.defaultValues("serialNumber")),this.signature=(0,s.getParametersValue)(t,"signature",e.defaultValues("signature")),this.issuer=(0,s.getParametersValue)(t,"issuer",e.defaultValues("issuer")),this.notBefore=(0,s.getParametersValue)(t,"notBefore",e.defaultValues("notBefore")),this.notAfter=(0,s.getParametersValue)(t,"notAfter",e.defaultValues("notAfter")),this.subject=(0,s.getParametersValue)(t,"subject",e.defaultValues("subject")),this.subjectPublicKeyInfo=(0,s.getParametersValue)(t,"subjectPublicKeyInfo",e.defaultValues("subjectPublicKeyInfo")),"issuerUniqueID"in t&&(this.issuerUniqueID=(0,s.getParametersValue)(t,"issuerUniqueID",e.defaultValues("issuerUniqueID"))),"subjectUniqueID"in t&&(this.subjectUniqueID=(0,s.getParametersValue)(t,"subjectUniqueID",e.defaultValues("subjectUniqueID"))),"extensions"in t&&(this.extensions=(0,s.getParametersValue)(t,"extensions",e.defaultValues("extensions"))),this.signatureAlgorithm=(0,s.getParametersValue)(t,"signatureAlgorithm",e.defaultValues("signatureAlgorithm")),this.signatureValue=(0,s.getParametersValue)(t,"signatureValue",e.defaultValues("signatureValue")),"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,r=[{key:"fromSchema",value:function(t){(0,s.clearProps)(t,["tbsCertificate","tbsCertificate.extensions","tbsCertificate.version","tbsCertificate.serialNumber","tbsCertificate.signature","tbsCertificate.issuer","tbsCertificate.notBefore","tbsCertificate.notAfter","tbsCertificate.subject","tbsCertificate.subjectPublicKeyInfo","tbsCertificate.issuerUniqueID","tbsCertificate.subjectUniqueID","signatureAlgorithm","signatureValue"]);var r=o.compareSchema(t,t,e.schema({names:{tbsCertificate:{names:{extensions:{names:{extensions:"tbsCertificate.extensions"}}}}}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for Certificate");this.tbs=r.result.tbsCertificate.valueBeforeDecode,"tbsCertificate.version"in r.result&&(this.version=r.result["tbsCertificate.version"].valueBlock.valueDec),this.serialNumber=r.result["tbsCertificate.serialNumber"],this.signature=new l.default({schema:r.result["tbsCertificate.signature"]}),this.issuer=new c.default({schema:r.result["tbsCertificate.issuer"]}),this.notBefore=new f.default({schema:r.result["tbsCertificate.notBefore"]}),this.notAfter=new f.default({schema:r.result["tbsCertificate.notAfter"]}),this.subject=new c.default({schema:r.result["tbsCertificate.subject"]}),this.subjectPublicKeyInfo=new h.default({schema:r.result["tbsCertificate.subjectPublicKeyInfo"]}),"tbsCertificate.issuerUniqueID"in r.result&&(this.issuerUniqueID=r.result["tbsCertificate.issuerUniqueID"].valueBlock.valueHex),"tbsCertificate.subjectUniqueID"in r.result&&(this.subjectUniqueID=r.result["tbsCertificate.subjectUniqueID"].valueBlock.valueHex),"tbsCertificate.extensions"in r.result&&(this.extensions=Array.from(r.result["tbsCertificate.extensions"],(function(e){return new m.default({schema:e})}))),this.signatureAlgorithm=new l.default({schema:r.result.signatureAlgorithm}),this.signatureValue=r.result.signatureValue}},{key:"encodeTBS",value:function(){var t=[];return"version"in this&&this.version!==e.defaultValues("version")&&t.push(new o.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new o.Integer({value:this.version})]})),t.push(this.serialNumber),t.push(this.signature.toSchema()),t.push(this.issuer.toSchema()),t.push(new o.Sequence({value:[this.notBefore.toSchema(),this.notAfter.toSchema()]})),t.push(this.subject.toSchema()),t.push(this.subjectPublicKeyInfo.toSchema()),"issuerUniqueID"in this&&t.push(new o.Primitive({optional:!0,idBlock:{tagClass:3,tagNumber:1},valueHex:this.issuerUniqueID})),"subjectUniqueID"in this&&t.push(new o.Primitive({optional:!0,idBlock:{tagClass:3,tagNumber:2},valueHex:this.subjectUniqueID})),"extensions"in this&&t.push(new o.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:3},value:[new o.Sequence({value:Array.from(this.extensions,(function(e){return e.toSchema()}))})]})),new o.Sequence({value:t})}},{key:"toSchema",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r={};if(!1===t){if(0===this.tbs.length)return e.schema().value[0];r=o.fromBER(this.tbs).result}else r=this.encodeTBS();return new o.Sequence({value:[r,this.signatureAlgorithm.toSchema(),this.signatureValue]})}},{key:"toJSON",value:function(){var t={tbs:(0,s.bufferToHexCodes)(this.tbs,0,this.tbs.byteLength),serialNumber:this.serialNumber.toJSON(),signature:this.signature.toJSON(),issuer:this.issuer.toJSON(),notBefore:this.notBefore.toJSON(),notAfter:this.notAfter.toJSON(),subject:this.subject.toJSON(),subjectPublicKeyInfo:this.subjectPublicKeyInfo.toJSON(),signatureAlgorithm:this.signatureAlgorithm.toJSON(),signatureValue:this.signatureValue.toJSON()};return"version"in this&&this.version!==e.defaultValues("version")&&(t.version=this.version),"issuerUniqueID"in this&&(t.issuerUniqueID=(0,s.bufferToHexCodes)(this.issuerUniqueID,0,this.issuerUniqueID.byteLength)),"subjectUniqueID"in this&&(t.subjectUniqueID=(0,s.bufferToHexCodes)(this.subjectUniqueID,0,this.subjectUniqueID.byteLength)),"extensions"in this&&(t.extensions=Array.from(this.extensions,(function(e){return e.toJSON()}))),t}},{key:"getPublicKey",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return(0,u.getEngine)().subtle.getPublicKey(this.subjectPublicKeyInfo,this.signatureAlgorithm,e)}},{key:"getKeyHash",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"SHA-1",t=(0,u.getCrypto)();return void 0===t?Promise.reject("Unable to create WebCrypto object"):t.digest({name:e},new Uint8Array(this.subjectPublicKeyInfo.subjectPublicKey.valueBlock.valueHex))}},{key:"sign",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"SHA-1";if(void 0===e)return Promise.reject("Need to provide a private key for signing");var n,a=Promise.resolve(),i=(0,u.getEngine)();return a=(a=(a=(a=(a=a.then((function(){return i.subtle.getSignatureParameters(e,r)}))).then((function(e){n=e.parameters,t.signature=e.signatureAlgorithm,t.signatureAlgorithm=e.signatureAlgorithm}))).then((function(){t.tbs=t.encodeTBS().toBER(!1)}))).then((function(){return i.subtle.signWithPrivateKey(t.tbs,e,n)}))).then((function(e){t.signatureValue=new o.BitString({valueHex:e})}))}},{key:"verify",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t={};return null!==e?t=e.subjectPublicKeyInfo:this.issuer.isEqual(this.subject)&&(t=this.subjectPublicKeyInfo),t instanceof h.default==0?Promise.reject("Please provide issuer certificate as a parameter"):(0,u.getEngine)().subtle.verifyWithPublicKey(this.tbs,this.signatureValue,t,this.signatureAlgorithm)}}],i=[{key:"defaultValues",value:function(e){switch(e){case"tbs":case"issuerUniqueID":case"subjectUniqueID":return new ArrayBuffer(0);case"version":return 0;case"serialNumber":return new o.Integer;case"signature":case"signatureAlgorithm":return new l.default;case"issuer":case"subject":return new c.default;case"notBefore":case"notAfter":return new f.default;case"subjectPublicKeyInfo":return new h.default;case"extensions":return[];case"signatureValue":return new o.BitString;default:throw new Error("Invalid member name for Certificate class: ".concat(e))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,s.getParametersValue)(e,"names",{});return new o.Sequence({name:t.blockName||"",value:[v(t.tbsCertificate),l.default.schema(t.signatureAlgorithm||{names:{blockName:"signatureAlgorithm"}}),new o.BitString({name:t.signatureValue||"signatureValue"})]})}}],r&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=g},{"./AlgorithmIdentifier.js":338,"./Extension.js":372,"./Extensions.js":373,"./PublicKeyInfo.js":412,"./RelativeDistinguishedNames.js":423,"./Time.js":441,"./common.js":444,asn1js:1,pvutils:447}],354:[function(e,t,r){"use strict";function n(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var s=e("pvutils"),u=e("./common.js");function l(e,t,r,n,a,i,o){try{var s=e[i](o),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,a)}function c(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function o(e){l(i,n,a,o,s,"next",e)}function s(e){l(i,n,a,o,s,"throw",e)}o(void 0)}))}}function f(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var m=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,e),this.trustedCerts=(0,s.getParametersValue)(t,"trustedCerts",this.defaultValues("trustedCerts")),this.certs=(0,s.getParametersValue)(t,"certs",this.defaultValues("certs")),this.crls=(0,s.getParametersValue)(t,"crls",this.defaultValues("crls")),this.ocsps=(0,s.getParametersValue)(t,"ocsps",this.defaultValues("ocsps")),this.checkDate=(0,s.getParametersValue)(t,"checkDate",this.defaultValues("checkDate")),this.findOrigin=(0,s.getParametersValue)(t,"findOrigin",this.defaultValues("findOrigin")),this.findIssuer=(0,s.getParametersValue)(t,"findIssuer",this.defaultValues("findIssuer"))}var t,r,a;return t=e,r=[{key:"defaultFindIssuer",value:function(e,t){return c(regeneratorRuntime.mark((function r(){var n,a,i,o,u,l,c,h,m,p,d,y,v,g,b;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(h=function(t){if(null!==a&&"extensions"in t){var r,u=!1,l=f(t.extensions);try{for(l.s();!(r=l.n()).done;){var c=r.value;if("2.5.29.14"===c.extnID){u=!0,(0,s.isEqualBuffer)(c.parsedValue.valueBlock.valueHex,a.valueBlock.valueHex)&&n.push(t);break}}}catch(e){l.e(e)}finally{l.f()}if(u)return}var h=!1;null!==o&&(h=t.serialNumber.isEqual(o)),null!==i?t.subject.isEqual(i)&&h&&n.push(t):e.issuer.isEqual(t.subject)&&n.push(t)},n=[],a=null,i=null,o=null,!e.subject.isEqual(e.issuer)){r.next=16;break}return r.prev=6,r.next=9,e.verify();case 9:if(!0!==r.sent){r.next=12;break}return r.abrupt("return",[e]);case 12:r.next=16;break;case 14:r.prev=14,r.t0=r.catch(6);case 16:if(!("extensions"in e)){r.next=35;break}u=f(e.extensions),r.prev=18,u.s();case 20:if((l=u.n()).done){r.next=27;break}if("2.5.29.35"!==(c=l.value).extnID){r.next=25;break}return"keyIdentifier"in c.parsedValue?a=c.parsedValue.keyIdentifier:("authorityCertIssuer"in c.parsedValue&&(i=c.parsedValue.authorityCertIssuer),"authorityCertSerialNumber"in c.parsedValue&&(o=c.parsedValue.authorityCertSerialNumber)),r.abrupt("break",27);case 25:r.next=20;break;case 27:r.next=32;break;case 29:r.prev=29,r.t1=r.catch(18),u.e(r.t1);case 32:return r.prev=32,u.f(),r.finish(32);case 35:m=f(t.trustedCerts);try{for(m.s();!(p=m.n()).done;)d=p.value,h(d)}catch(e){m.e(e)}finally{m.f()}y=f(t.certs);try{for(y.s();!(v=y.n()).done;)g=v.value,h(g)}catch(e){y.e(e)}finally{y.f()}b=0;case 40:if(!(b<n.length)){r.next=54;break}return r.prev=41,r.next=44,e.verify(n[b]);case 44:!1===r.sent&&n.splice(b,1),r.next=51;break;case 48:r.prev=48,r.t2=r.catch(41),n.splice(b,1);case 51:b++,r.next=40;break;case 54:return r.abrupt("return",n);case 55:case"end":return r.stop()}}),r,null,[[6,14],[18,29,32,35],[41,48]])})))()}},{key:"defaultValues",value:function(t){switch(t){case"trustedCerts":case"certs":case"crls":case"ocsps":return[];case"checkDate":return new Date;case"findOrigin":return e.defaultFindOrigin;case"findIssuer":return this.defaultFindIssuer;default:throw new Error("Invalid member name for CertificateChainValidationEngine class: ".concat(t))}}},{key:"sort",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this;return c(regeneratorRuntime.mark((function r(){var a,i,o,l,h,m,p,d,y,v,g,b,w,k,S,j,P,_,A,O,C,I,x,B,E;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:b=function(){return b=c(regeneratorRuntime.mark((function t(r,n){var a,o,s,u,l,c,m,d,v,g,b,w;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=0;case 1:if(!(a<r.length)){t.next=7;break}if(!(r[a].notBefore.value>n||r[a].notAfter.value<n)){t.next=4;break}return t.abrupt("return",{result:!1,resultCode:8,resultMessage:"The certificate is either not yet valid or expired"});case 4:a++,t.next=1;break;case 7:if(!(r.length<2)){t.next=9;break}return t.abrupt("return",{result:!1,resultCode:9,resultMessage:"Too short certificate path"});case 9:o=r.length-2;case 10:if(!(o>=0)){t.next=17;break}if(!1!==r[o].issuer.isEqual(r[o].subject)){t.next=14;break}if(!1!==r[o].issuer.isEqual(r[o+1].subject)){t.next=14;break}return t.abrupt("return",{result:!1,resultCode:10,resultMessage:"Incorrect name chaining"});case 14:o--,t.next=10;break;case 17:if(0===i.crls.length&&0===i.ocsps.length){t.next=87;break}s=0;case 19:if(!(s<r.length-1)){t.next=87;break}if(u=2,l={status:0,statusMessage:""},0===i.ocsps.length){t.next=32;break}return t.next=25,p(r[s],r[s+1]);case 25:u=t.sent,t.t0=u,t.next=0===t.t0?29:1===t.t0?30:2===t.t0?31:32;break;case 29:return t.abrupt("continue",84);case 30:return t.abrupt("return",{result:!1,resultCode:12,resultMessage:"One of certificates was revoked via OCSP response"});case 31:return t.abrupt("break",32);case 32:if(0===i.crls.length){t.next=56;break}return t.next=35,h(r[s]);case 35:if(0!==(l=t.sent).status){t.next=52;break}c=0;case 38:if(!(c<l.result.length)){t.next=50;break}if(!l.result[c].crl.isCertificateRevoked(r[s])){t.next=42;break}return t.abrupt("return",{result:!1,resultCode:12,resultMessage:"One of certificates had been revoked"});case 42:return t.next=44,y(l.result[c].certificate,!0);case 44:if(!1!==t.sent.result){t.next=47;break}return t.abrupt("return",{result:!1,resultCode:13,resultMessage:"CRL issuer certificate is not a CA certificate or does not have crlSign flag"});case 47:c++,t.next=38;break;case 50:t.next=54;break;case 52:if(!1!==e){t.next=54;break}throw{result:!1,resultCode:11,resultMessage:"No revocation values found for one of certificates: ".concat(l.statusMessage)};case 54:t.next=58;break;case 56:if(2!==u){t.next=58;break}return t.abrupt("return",{result:!1,resultCode:11,resultMessage:"No revocation values found for one of certificates"});case 58:if(2!==u||2!==l.status||!e){t.next=84;break}if(m=r[s+1],d=!1,!("extensions"in m)){t.next=82;break}v=f(m.extensions),t.prev=63,v.s();case 65:if((g=v.n()).done){t.next=74;break}b=g.value,t.t1=b.extnID,t.next="2.5.29.31"===t.t1||"2.5.29.46"===t.t1||"1.3.6.1.5.5.7.1.1"===t.t1?70:72;break;case 70:return d=!0,t.abrupt("break",72);case 72:t.next=65;break;case 74:t.next=79;break;case 76:t.prev=76,t.t2=t.catch(63),v.e(t.t2);case 79:return t.prev=79,v.f(),t.finish(79);case 82:if(!d){t.next=84;break}throw{result:!1,resultCode:11,resultMessage:"No revocation values found for one of certificates: ".concat(l.statusMessage)};case 84:s++,t.next=19;break;case 87:w=1;case 88:if(!(w<r.length)){t.next=97;break}return t.next=91,y(r[w]);case 91:if(!1!==t.sent.result){t.next=94;break}return t.abrupt("return",{result:!1,resultCode:14,resultMessage:"One of intermediate certificates is not a CA certificate"});case 94:w++,t.next=88;break;case 97:return t.abrupt("return",{result:!0});case 98:case"end":return t.stop()}}),t,null,[[63,76,79,82]])}))),b.apply(this,arguments)},g=function(e,t){return b.apply(this,arguments)},v=function(){return v=c(regeneratorRuntime.mark((function e(t){var r,n,a,i,o,s,u,l=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=l.length>1&&void 0!==l[1]&&l[1],n=!1,a=!1,i=!1,o=!1,!("extensions"in t)){e.next=21;break}s=0;case 7:if(!(s<t.extensions.length)){e.next=15;break}if(!0!==t.extensions[s].critical||"parsedValue"in t.extensions[s]!=0){e.next=10;break}return e.abrupt("return",{result:!1,resultCode:6,resultMessage:"Unable to parse critical certificate extension: ".concat(t.extensions[s].extnID)});case 10:"2.5.29.15"===t.extensions[s].extnID&&(i=!0,4==(4&(u=new Uint8Array(t.extensions[s].parsedValue.valueBlock.valueHex))[0])&&(a=!0),2==(2&u[0])&&(o=!0)),"2.5.29.19"===t.extensions[s].extnID&&"cA"in t.extensions[s].parsedValue&&!0===t.extensions[s].parsedValue.cA&&(n=!0);case 12:s++,e.next=7;break;case 15:if(!0!==a||!1!==n){e.next=17;break}return e.abrupt("return",{result:!1,resultCode:3,resultMessage:'Unable to build certificate chain - using "keyCertSign" flag set without BasicConstaints'});case 17:if(!0!==i||!0!==n||!1!==a){e.next=19;break}return e.abrupt("return",{result:!1,resultCode:4,resultMessage:'Unable to build certificate chain - "keyCertSign" flag was not set'});case 19:if(!0!==n||!0!==i||!r||!1!==o){e.next=21;break}return e.abrupt("return",{result:!1,resultCode:5,resultMessage:'Unable to build certificate chain - intermediate certificate must have "cRLSign" key usage flag'});case 21:if(!1!==n){e.next=23;break}return e.abrupt("return",{result:!1,resultCode:7,resultMessage:"Unable to build certificate chain - more than one possible end-user certificate"});case 23:return e.abrupt("return",{result:!0,resultCode:0,resultMessage:""});case 24:case"end":return e.stop()}}),e)}))),v.apply(this,arguments)},y=function(e){return v.apply(this,arguments)},d=function(){return d=c(regeneratorRuntime.mark((function e(t,r){var n,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("name"in(n=(0,u.getAlgorithmByOID)(t.signatureAlgorithm.algorithmId))!=0){e.next=3;break}return e.abrupt("return",1);case 3:if("hash"in n!=0){e.next=5;break}return e.abrupt("return",1);case 5:a=0;case 6:if(!(a<i.ocsps.length)){e.next=17;break}return e.next=9,i.ocsps[a].getCertificateStatus(t,r);case 9:if(!(o=e.sent).isForCertificate){e.next=14;break}if(0!==o.status){e.next=13;break}return e.abrupt("return",0);case 13:return e.abrupt("return",1);case 14:a++,e.next=6;break;case 17:return e.abrupt("return",2);case 18:case"end":return e.stop()}}),e)}))),d.apply(this,arguments)},p=function(e,t){return d.apply(this,arguments)},m=function(){return m=c(regeneratorRuntime.mark((function e(t){var r,o,s,u,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=[],s=[],(r=[]).push.apply(r,n(a.filter((function(e){return t.issuer.isEqual(e.subject)})))),0!==r.length){e.next=6;break}return e.abrupt("return",{status:1,statusMessage:"No certificate's issuers"});case 6:if(o.push.apply(o,n(i.crls.filter((function(e){return e.issuer.isEqual(t.issuer)})))),0!==o.length){e.next=9;break}return e.abrupt("return",{status:2,statusMessage:"No CRLs for specific certificate issuer"});case 9:u=0;case 10:if(!(u<o.length)){e.next=32;break}if(!(o[u].nextUpdate.value<i.checkDate)){e.next=13;break}return e.abrupt("continue",29);case 13:l=0;case 14:if(!(l<r.length)){e.next=29;break}return e.prev=15,e.next=18,o[u].verify({issuerCertificate:r[l]});case 18:if(!e.sent){e.next=22;break}return s.push({crl:o[u],certificate:r[l]}),e.abrupt("break",29);case 22:e.next=26;break;case 24:e.prev=24,e.t0=e.catch(15);case 26:l++,e.next=14;break;case 29:u++,e.next=10;break;case 32:if(!s.length){e.next=34;break}return e.abrupt("return",{status:0,statusMessage:"",result:s});case 34:return e.abrupt("return",{status:3,statusMessage:"No valid CRLs found"});case 35:case"end":return e.stop()}}),e,null,[[15,24]])}))),m.apply(this,arguments)},h=function(e){return m.apply(this,arguments)},l=function(){return l=c(regeneratorRuntime.mark((function e(t){var r,n,a,u,l,c,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(e){for(var t=!0,r=0;r<e.length;r++){for(var n=0;n<e.length;n++)if(n!==r&&e[r]===e[n]){t=!1;break}if(!t)break}return t},r=[],e.next=4,i.findIssuer(t,i);case 4:if(0!==(a=e.sent).length){e.next=7;break}throw new Error("No valid certificate paths found");case 7:u=0;case 8:if(!(u<a.length)){e.next=19;break}if(!(0,s.isEqualBuffer)(a[u].tbs,t.tbs)){e.next=12;break}return r.push([a[u]]),e.abrupt("continue",16);case 12:return e.next=14,o(a[u]);case 14:for(l=e.sent,c=0;c<l.length;c++)(f=l[c].slice()).splice(0,0,a[u]),n(f)?r.push(f):r.push(l[c]);case 16:u++,e.next=8;break;case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),l.apply(this,arguments)},o=function(e){return l.apply(this,arguments)},i=t,(a=[]).push.apply(a,n(i.trustedCerts)),a.push.apply(a,n(i.certs)),w=0;case 15:if(!(w<a.length)){r.next=30;break}k=0;case 17:if(!(k<a.length)){r.next=27;break}if(w!==k){r.next=20;break}return r.abrupt("continue",24);case 20:if(!(0,s.isEqualBuffer)(a[w].tbs,a[k].tbs)){r.next=24;break}return a.splice(k,1),w=0,r.abrupt("break",27);case 24:k++,r.next=17;break;case 27:w++,r.next=15;break;case 30:return j=[a[a.length-1]],r.next=33,o(a[a.length-1]);case 33:if(0!==(S=r.sent).length){r.next=36;break}return r.abrupt("return",{result:!1,resultCode:60,resultMessage:"Unable to find certificate path"});case 36:P=0;case 37:if(!(P<S.length)){r.next=59;break}_=!1,A=0;case 40:if(!(A<S[P].length)){r.next=55;break}O=S[P][A],C=0;case 43:if(!(C<i.trustedCerts.length)){r.next=50;break}if(!(0,s.isEqualBuffer)(O.tbs,i.trustedCerts[C].tbs)){r.next=47;break}return _=!0,r.abrupt("break",50);case 47:C++,r.next=43;break;case 50:if(!_){r.next=52;break}return r.abrupt("break",55);case 52:A++,r.next=40;break;case 55:_||(S.splice(P,1),P=0);case 56:P++,r.next=37;break;case 59:if(0!==S.length){r.next=61;break}throw{result:!1,resultCode:97,resultMessage:"No valid certificate paths found"};case 61:for(I=S[0].length,x=0,B=0;B<S.length;B++)S[B].length<I&&(I=S[B].length,x=B);for(E=0;E<S[x].length;E++)j.push(S[x][E]);return r.next=67,g(j,i.checkDate);case 67:if(!1!==(S=r.sent).result){r.next=70;break}throw S;case 70:return r.abrupt("return",j);case 71:case"end":return r.stop()}}),r)})))()}},{key:"verify",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this;return c(regeneratorRuntime.mark((function r(){var n,a,i,o,s,l,c,f,h,m,p,d,y,v,g,b,w,k,S,j,P,_,A,O,C,I,x,B,E,N,V,D,R,M,T,K,L,U,q,H,W,J,F,G,z,Q,$,Y,Z,X,ee,te,re,ne,ae,ie,oe,se,ue,le,ce,fe,he,me,pe,de,ye,ve,ge,be,we,ke,Se,je,Pe,_e,Ae,Oe,Ce,Ie,xe,Be,Ee,Ne,Ve;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(s=function(e,t){if(0===e.typesAndValues.length||0===t.typesAndValues.length)return!0;if(e.typesAndValues.length<t.typesAndValues.length)return!1;for(var r=!0,n=0,a=0;a<t.typesAndValues.length;a++){for(var i=!1,o=n;o<e.typesAndValues.length;o++)if(i=e.typesAndValues[o].isEqual(t.typesAndValues[a]),e.typesAndValues[o].type===t.typesAndValues[a].type&&(r=r&&i),!0===i){if(0===n||n===o){n=o+1;break}return!1}if(!1===i)return!1}return 0!==n&&r},o=function(e,t){var r=new Uint8Array(e.valueBlock.valueHex),n=new Uint8Array(t.valueBlock.valueHex);if(4===r.length&&8===n.length){for(var a=0;a<4;a++)if((r[a]^n[a])&n[a+4])return!1;return!0}if(16===r.length&&32===n.length){for(var i=0;i<16;i++)if((r[i]^n[i])&n[i+16])return!1;return!0}return!1},i=function(e,t){var r=(0,u.stringPrep)(e),a=(0,u.stringPrep)(t),i=r.split("/");if(a.split("/").length>1)return!1;if(i.length>1)for(var o=0;o<i.length;o++)if(i[o].length>0&&":"!==i[o].charAt(i[o].length-1)){r=i[o].split(":")[0];break}if(n(r,a)){var s=r.split("."),l=a.split(".");return 0===l[0].length||s.length===l.length}return!1},a=function(e,t){var r=(0,u.stringPrep)(e),a=(0,u.stringPrep)(t),i=r.split("@"),o=a.split("@");if(0===i.length||0===o.length||i.length<o.length)return!1;if(1===o.length){if(n(i[1],o[0])){var s=i[1].split("."),l=o[0].split(".");return 0===l[0].length||s.length===l.length}return!1}return 0===r.localeCompare(a)},n=function(e,t){var r=(0,u.stringPrep)(e),n=(0,u.stringPrep)(t),a=r.split("."),i=n.split("."),o=a.length,s=i.length;if(0===o||0===s||o<s)return!1;for(var l=0;l<o;l++)if(0===a[l].length)return!1;for(var c=0;c<s;c++)if(0===i[c].length){if(0===c){if(1===s)return!1;continue}return!1}for(var f=0;f<s;f++)if(0!==i[s-1-f].length&&0!==a[o-1-f].localeCompare(i[s-1-f]))return!1;return!0},r.prev=5,0!==t.certs.length){r.next=8;break}throw"Empty certificate array";case 8:return l=!1,"passedWhenNotRevValues"in e&&(l=e.passedWhenNotRevValues),(c=[]).push("2.5.29.32.0"),f=!1,h=!1,m=!1,p=[],d=[],y=[],"initialPolicySet"in e&&(c=e.initialPolicySet),"initialExplicitPolicy"in e&&(f=e.initialExplicitPolicy),"initialPolicyMappingInhibit"in e&&(h=e.initialPolicyMappingInhibit),"initialInhibitPolicy"in e&&(m=e.initialInhibitPolicy),"initialPermittedSubtreesSet"in e&&(p=e.initialPermittedSubtreesSet),"initialExcludedSubtreesSet"in e&&(d=e.initialExcludedSubtreesSet),"initialRequiredNameForms"in e&&(y=e.initialRequiredNameForms),v=f,g=h,b=m,(w=new Array(3))[0]=!1,w[1]=!1,w[2]=!1,k=0,S=0,j=0,P=p,_=d,A=y,r.next=41,t.sort(l);case 41:for(t.certs=r.sent,(O=[]).push("2.5.29.32.0"),C=[],I=new Array(t.certs.length-1),x=0;x<t.certs.length-1;x++)I[x]=!0;C.push(I),B=new Array(t.certs.length-1),E=new Array(t.certs.length-1),N=v?t.certs.length-1:-1,V=t.certs.length-2;case 52:if(!(V>=0)){r.next=107;break}if(!("extensions"in t.certs[V])){r.next=104;break}D=0;case 55:if(!(D<t.certs[V].extensions.length)){r.next=90;break}if("2.5.29.32"!==t.certs[V].extensions[D].extnID){r.next=81;break}E[V]=t.certs[V].extensions[D].parsedValue,R=0;case 59:if(!(R<O.length)){r.next=66;break}if("2.5.29.32.0"!==O[R]){r.next=63;break}return delete C[R][V],r.abrupt("break",66);case 63:R++,r.next=59;break;case 66:M=0;case 67:if(!(M<t.certs[V].extensions[D].parsedValue.certificatePolicies.length)){r.next=81;break}T=-1,K=0;case 70:if(!(K<O.length)){r.next=77;break}if(t.certs[V].extensions[D].parsedValue.certificatePolicies[M].policyIdentifier!==O[K]){r.next=74;break}return T=K,r.abrupt("break",77);case 74:K++,r.next=70;break;case 77:-1===T?(O.push(t.certs[V].extensions[D].parsedValue.certificatePolicies[M].policyIdentifier),(L=new Array(t.certs.length-1))[V]=!0,C.push(L)):C[T][V]=!0;case 78:M++,r.next=67;break;case 81:if("2.5.29.33"!==t.certs[V].extensions[D].extnID){r.next=85;break}if(!g){r.next=84;break}return r.abrupt("return",{result:!1,resultCode:98,resultMessage:"Policy mapping prohibited"});case 84:B[V]=t.certs[V].extensions[D].parsedValue;case 85:"2.5.29.36"===t.certs[V].extensions[D].extnID&&!1===v&&(0===t.certs[V].extensions[D].parsedValue.requireExplicitPolicy?(v=!0,N=V):!1===w[0]?(w[0]=!0,k=t.certs[V].extensions[D].parsedValue.requireExplicitPolicy):k=k>t.certs[V].extensions[D].parsedValue.requireExplicitPolicy?t.certs[V].extensions[D].parsedValue.requireExplicitPolicy:k,0===t.certs[V].extensions[D].parsedValue.inhibitPolicyMapping?g=!0:!1===w[1]?(w[1]=!0,S=t.certs[V].extensions[D].parsedValue.inhibitPolicyMapping+1):S=S>t.certs[V].extensions[D].parsedValue.inhibitPolicyMapping+1?t.certs[V].extensions[D].parsedValue.inhibitPolicyMapping+1:S),"2.5.29.54"===t.certs[V].extensions[D].extnID&&!1===b&&(0===t.certs[V].extensions[D].parsedValue.valueBlock.valueDec?b=!0:!1===w[2]?(w[2]=!0,j=t.certs[V].extensions[D].parsedValue.valueBlock.valueDec):j=j>t.certs[V].extensions[D].parsedValue.valueBlock.valueDec?t.certs[V].extensions[D].parsedValue.valueBlock.valueDec:j);case 87:D++,r.next=55;break;case 90:if(!0!==b){r.next=101;break}U=-1,q=0;case 93:if(!(q<O.length)){r.next=100;break}if("2.5.29.32.0"!==O[q]){r.next=97;break}return U=q,r.abrupt("break",100);case 97:q++,r.next=93;break;case 100:-1!==U&&delete C[0][V];case 101:!1===v&&!0===w[0]&&0==--k&&(v=!0,N=V,w[0]=!1),!1===g&&!0===w[1]&&0==--S&&(g=!0,w[1]=!1),!1===b&&!0===w[2]&&0==--j&&(b=!0,w[2]=!1);case 104:V--,r.next=52;break;case 107:H=0;case 108:if(!(H<t.certs.length-1)){r.next=125;break}if(!(H<t.certs.length-2&&void 0!==B[H+1])){r.next=122;break}W=0;case 111:if(!(W<B[H+1].mappings.length)){r.next=122;break}if("2.5.29.32.0"!==B[H+1].mappings[W].issuerDomainPolicy&&"2.5.29.32.0"!==B[H+1].mappings[W].subjectDomainPolicy){r.next=114;break}return r.abrupt("return",{result:!1,resultCode:99,resultMessage:'The "anyPolicy" should not be a part of policy mapping scheme'});case 114:for(J=-1,F=-1,G=0;G<O.length;G++)O[G]===B[H+1].mappings[W].issuerDomainPolicy&&(J=G),O[G]===B[H+1].mappings[W].subjectDomainPolicy&&(F=G);for(void 0!==C[J][H]&&delete C[J][H],z=0;z<E[H].certificatePolicies.length;z++)if(B[H+1].mappings[W].subjectDomainPolicy===E[H].certificatePolicies[z].policyIdentifier&&-1!==J&&-1!==F)for(Q=0;Q<=H;Q++)void 0!==C[F][Q]&&(C[J][Q]=!0,delete C[F][Q]);case 119:W++,r.next=111;break;case 122:H++,r.next=108;break;case 125:for($=0;$<O.length;$++)if("2.5.29.32.0"===O[$])for(Y=0;Y<N;Y++)delete C[$][Y];Z=[],X=0;case 128:if(!(X<C.length)){r.next=156;break}ee=!0,te=0;case 131:if(!(te<t.certs.length-1)){r.next=152;break}if(re=!1,!(te<N&&"2.5.29.32.0"===O[X]&&O.length>1)){r.next=136;break}return ee=!1,r.abrupt("break",152);case 136:if(void 0!==C[X][te]){r.next=149;break}if(!(te>=N)){r.next=146;break}ne=0;case 139:if(!(ne<O.length)){r.next=146;break}if("2.5.29.32.0"!==O[ne]){r.next=143;break}return!0===C[ne][te]&&(re=!0),r.abrupt("break",146);case 143:ne++,r.next=139;break;case 146:if(re){r.next=149;break}return ee=!1,r.abrupt("break",152);case 149:te++,r.next=131;break;case 152:!0===ee&&Z.push(O[X]);case 153:X++,r.next=128;break;case 156:if(ae=[],1!==c.length||"2.5.29.32.0"!==c[0]||!1!==v){r.next=161;break}ae=c,r.next=178;break;case 161:if(1!==Z.length||"2.5.29.32.0"!==Z[0]){r.next=165;break}ae=c,r.next=178;break;case 165:ie=0;case 166:if(!(ie<Z.length)){r.next=178;break}oe=0;case 168:if(!(oe<c.length)){r.next=175;break}if(c[oe]!==Z[ie]&&"2.5.29.32.0"!==c[oe]){r.next=172;break}return ae.push(Z[ie]),r.abrupt("break",175);case 172:oe++,r.next=168;break;case 175:ie++,r.next=166;break;case 178:if(se={result:ae.length>0,resultCode:0,resultMessage:ae.length>0?"":'Zero "userConstrPolicies" array, no intersections with "authConstrPolicies"',authConstrPolicies:Z,userConstrPolicies:ae,explicitPolicyIndicator:v,policyMappings:B,certificatePath:t.certs},0!==ae.length){r.next=181;break}return r.abrupt("return",se);case 181:if(!1!==se.result){r.next=183;break}return r.abrupt("return",se);case 183:ue=t.certs.length-2;case 185:if(!(ue>=0)){r.next=307;break}if(le=[],ce=[],fe=[],"extensions"in t.certs[ue])for(he=0;he<t.certs[ue].extensions.length;he++)"2.5.29.30"===t.certs[ue].extensions[he].extnID&&("permittedSubtrees"in t.certs[ue].extensions[he].parsedValue&&(ce=ce.concat(t.certs[ue].extensions[he].parsedValue.permittedSubtrees)),"excludedSubtrees"in t.certs[ue].extensions[he].parsedValue&&(fe=fe.concat(t.certs[ue].extensions[he].parsedValue.excludedSubtrees))),"2.5.29.17"===t.certs[ue].extensions[he].extnID&&(le=le.concat(t.certs[ue].extensions[he].parsedValue.altNames));me=A.length<=0,pe=0;case 192:if(!(pe<A.length)){r.next=213;break}r.t0=A[pe].base.type,r.next=4===r.t0?196:210;break;case 196:if(A[pe].base.value.typesAndValues.length===t.certs[ue].subject.typesAndValues.length){r.next=198;break}return r.abrupt("continue",210);case 198:me=!0,de=0;case 200:if(!(de<t.certs[ue].subject.typesAndValues.length)){r.next=207;break}if(t.certs[ue].subject.typesAndValues[de].type===A[pe].base.value.typesAndValues[de].type){r.next=204;break}return me=!1,r.abrupt("break",207);case 204:de++,r.next=200;break;case 207:if(!0!==me){r.next=209;break}return r.abrupt("break",210);case 209:return r.abrupt("break",210);case 210:pe++,r.next=192;break;case 213:if(!1!==me){r.next=218;break}throw se.result=!1,se.resultCode=21,se.resultMessage="No neccessary name form found",se;case 218:(ye=[])[0]=[],ye[1]=[],ye[2]=[],ye[3]=[],ye[4]=[],ve=0;case 225:if(!(ve<P.length)){r.next=242;break}r.t1=P[ve].base.type,r.next=1===r.t1?229:2===r.t1?231:4===r.t1?233:6===r.t1?235:7===r.t1?237:239;break;case 229:return ye[0].push(P[ve]),r.abrupt("break",239);case 231:return ye[1].push(P[ve]),r.abrupt("break",239);case 233:return ye[2].push(P[ve]),r.abrupt("break",239);case 235:return ye[3].push(P[ve]),r.abrupt("break",239);case 237:return ye[4].push(P[ve]),r.abrupt("break",239);case 239:ve++,r.next=225;break;case 242:ge=0;case 243:if(!(ge<5)){r.next=276;break}be=!1,we=!1,ke=ye[ge],Se=0;case 248:if(!(Se<ke.length)){r.next=268;break}r.t2=ge,r.next=0===r.t2?252:1===r.t2?254:2===r.t2?256:3===r.t2?259:4===r.t2?261:263;break;case 252:if(le.length>0)for(je=0;je<le.length;je++)1===le[je].type&&(we=!0,be=be||a(le[je].value,ke[Se].base.value));else for(Pe=0;Pe<t.certs[ue].subject.typesAndValues.length;Pe++)"1.2.840.113549.1.9.1"!==t.certs[ue].subject.typesAndValues[Pe].type&&"0.9.2342.19200300.100.1.3"!==t.certs[ue].subject.typesAndValues[Pe].type||(we=!0,be=be||a(t.certs[ue].subject.typesAndValues[Pe].value.valueBlock.value,ke[Se].base.value));return r.abrupt("break",263);case 254:if(le.length>0)for(_e=0;_e<le.length;_e++)2===le[_e].type&&(we=!0,be=be||n(le[_e].value,ke[Se].base.value));return r.abrupt("break",263);case 256:return we=!0,be=s(t.certs[ue].subject,ke[Se].base.value),r.abrupt("break",263);case 259:if(le.length>0)for(Ae=0;Ae<le.length;Ae++)6===le[Ae].type&&(we=!0,be=be||i(le[Ae].value,ke[Se].base.value));return r.abrupt("break",263);case 261:if(le.length>0)for(Oe=0;Oe<le.length;Oe++)7===le[Oe].type&&(we=!0,be=be||o(le[Oe].value,ke[Se].base.value));return r.abrupt("break",263);case 263:if(!be){r.next=265;break}return r.abrupt("break",268);case 265:Se++,r.next=248;break;case 268:if(!(!1===be&&ke.length>0&&we)){r.next=273;break}throw se.result=!1,se.resultCode=41,se.resultMessage='Failed to meet "permitted sub-trees" name constraint',se;case 273:ge++,r.next=243;break;case 276:Ce=!1,Ie=0;case 278:if(!(Ie<_.length)){r.next=297;break}r.t3=_[Ie].base.type,r.next=1===r.t3?282:2===r.t3?284:4===r.t3?286:6===r.t3?288:7===r.t3?290:292;break;case 282:if(le.length>=0)for(xe=0;xe<le.length;xe++)1===le[xe].type&&(Ce=Ce||a(le[xe].value,_[Ie].base.value));else for(Be=0;Be<t.certs[ue].subject.typesAndValues.length;Be++)"1.2.840.113549.1.9.1"!==t.certs[ue].subject.typesAndValues[Be].type&&"0.9.2342.19200300.100.1.3"!==t.certs[ue].subject.typesAndValues[Be].type||(Ce=Ce||a(t.certs[ue].subject.typesAndValues[Be].value.valueBlock.value,_[Ie].base.value));return r.abrupt("break",292);case 284:if(le.length>0)for(Ee=0;Ee<le.length;Ee++)2===le[Ee].type&&(Ce=Ce||n(le[Ee].value,_[Ie].base.value));return r.abrupt("break",292);case 286:return Ce=Ce||s(t.certs[ue].subject,_[Ie].base.value),r.abrupt("break",292);case 288:if(le.length>0)for(Ne=0;Ne<le.length;Ne++)6===le[Ne].type&&(Ce=Ce||i(le[Ne].value,_[Ie].base.value));return r.abrupt("break",292);case 290:if(le.length>0)for(Ve=0;Ve<le.length;Ve++)7===le[Ve].type&&(Ce=Ce||o(le[Ve].value,_[Ie].base.value));return r.abrupt("break",292);case 292:if(!Ce){r.next=294;break}return r.abrupt("break",297);case 294:Ie++,r.next=278;break;case 297:if(!0!==Ce){r.next=302;break}throw se.result=!1,se.resultCode=42,se.resultMessage='Failed to meet "excluded sub-trees" name constraint',se;case 302:P=P.concat(ce),_=_.concat(fe);case 304:ue--,r.next=185;break;case 307:return r.abrupt("return",se);case 310:if(r.prev=310,r.t4=r.catch(5),!(r.t4 instanceof Object)){r.next=317;break}if(!("resultMessage"in r.t4)){r.next=315;break}return r.abrupt("return",r.t4);case 315:if(!("message"in r.t4)){r.next=317;break}return r.abrupt("return",{result:!1,resultCode:-1,resultMessage:r.t4.message});case 317:return r.abrupt("return",{result:!1,resultCode:-1,resultMessage:r.t4});case 318:case"end":return r.stop()}}),r,null,[[5,310]])})))()}}],a=[{key:"defaultFindOrigin",value:function(e,t){0===e.tbs.byteLength&&(e.tbs=e.encodeTBS());var r,n=f(t.certs);try{for(n.s();!(r=n.n()).done;){var a=r.value;if(0===a.tbs.byteLength&&(a.tbs=a.encodeTBS()),(0,s.isEqualBuffer)(e.tbs,a.tbs))return"Intermediate Certificates"}}catch(e){n.e(e)}finally{n.f()}var i,o=f(t.trustedCerts);try{for(o.s();!(i=o.n()).done;){var u=i.value;if(0===u.tbs.byteLength&&(u.tbs=u.encodeTBS()),(0,s.isEqualBuffer)(e.tbs,u.tbs))return"Trusted Certificates"}}catch(e){o.e(e)}finally{o.f()}return"Unknown"}}],r&&o(t.prototype,r),a&&o(t,a),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=m},{"./common.js":444,pvutils:447}],355:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),u=e("pvutils"),l=(o=e("./PolicyInformation.js"))&&o.__esModule?o:{default:o};function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}var f=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.certificatePolicies=(0,u.getParametersValue)(t,"certificatePolicies",e.defaultValues("certificatePolicies")),"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,i=[{key:"defaultValues",value:function(e){if("certificatePolicies"===e)return[];throw new Error("Invalid member name for CertificatePolicies class: ".concat(e))}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,u.getParametersValue)(e,"names",{});return new s.Sequence({name:t.blockName||"",value:[new s.Repeated({name:t.certificatePolicies||"",value:l.default.schema()})]})}}],(r=[{key:"fromSchema",value:function(t){(0,u.clearProps)(t,["certificatePolicies"]);var r=s.compareSchema(t,t,e.schema({names:{certificatePolicies:"certificatePolicies"}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for CertificatePolicies");this.certificatePolicies=Array.from(r.result.certificatePolicies,(function(e){return new l.default({schema:e})}))}},{key:"toSchema",value:function(){return new s.Sequence({value:Array.from(this.certificatePolicies,(function(e){return e.toSchema()}))})}},{key:"toJSON",value:function(){return{certificatePolicies:Array.from(this.certificatePolicies,(function(e){return e.toJSON()}))}}}])&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=f},{"./PolicyInformation.js":406,asn1js:1,pvutils:447}],356:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=d(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),s=e("pvutils"),u=e("./common.js"),l=p(e("./AlgorithmIdentifier.js")),c=p(e("./RelativeDistinguishedNames.js")),f=p(e("./Time.js")),h=p(e("./RevokedCertificate.js")),m=p(e("./Extensions.js"));function p(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(d=function(e){return e?r:t})(e)}function y(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,s.getParametersValue)(e,"names",{});return new o.Sequence({name:t.blockName||"tbsCertList",value:[new o.Integer({optional:!0,name:t.tbsCertListVersion||"tbsCertList.version",value:2}),l.default.schema(t.signature||{names:{blockName:"tbsCertList.signature"}}),c.default.schema(t.issuer||{names:{blockName:"tbsCertList.issuer"}}),f.default.schema(t.tbsCertListThisUpdate||{names:{utcTimeName:"tbsCertList.thisUpdate",generalTimeName:"tbsCertList.thisUpdate"}}),f.default.schema(t.tbsCertListNextUpdate||{names:{utcTimeName:"tbsCertList.nextUpdate",generalTimeName:"tbsCertList.nextUpdate"}},!0),new o.Sequence({optional:!0,value:[new o.Repeated({name:t.tbsCertListRevokedCertificates||"tbsCertList.revokedCertificates",value:new o.Sequence({value:[new o.Integer,f.default.schema(),m.default.schema({},!0)]})})]}),new o.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[m.default.schema(t.crlExtensions||{names:{blockName:"tbsCertList.extensions"}})]})]})}var b=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.tbs=(0,s.getParametersValue)(t,"tbs",e.defaultValues("tbs")),this.version=(0,s.getParametersValue)(t,"version",e.defaultValues("version")),this.signature=(0,s.getParametersValue)(t,"signature",e.defaultValues("signature")),this.issuer=(0,s.getParametersValue)(t,"issuer",e.defaultValues("issuer")),this.thisUpdate=(0,s.getParametersValue)(t,"thisUpdate",e.defaultValues("thisUpdate")),"nextUpdate"in t&&(this.nextUpdate=(0,s.getParametersValue)(t,"nextUpdate",e.defaultValues("nextUpdate"))),"revokedCertificates"in t&&(this.revokedCertificates=(0,s.getParametersValue)(t,"revokedCertificates",e.defaultValues("revokedCertificates"))),"crlExtensions"in t&&(this.crlExtensions=(0,s.getParametersValue)(t,"crlExtensions",e.defaultValues("crlExtensions"))),this.signatureAlgorithm=(0,s.getParametersValue)(t,"signatureAlgorithm",e.defaultValues("signatureAlgorithm")),this.signatureValue=(0,s.getParametersValue)(t,"signatureValue",e.defaultValues("signatureValue")),"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,r=[{key:"fromSchema",value:function(t){(0,s.clearProps)(t,["tbsCertList","tbsCertList.version","tbsCertList.signature","tbsCertList.issuer","tbsCertList.thisUpdate","tbsCertList.nextUpdate","tbsCertList.revokedCertificates","tbsCertList.extensions","signatureAlgorithm","signatureValue"]);var r=o.compareSchema(t,t,e.schema());if(!1===r.verified)throw new Error("Object's schema was not verified against input data for CertificateRevocationList");this.tbs=r.result.tbsCertList.valueBeforeDecode,"tbsCertList.version"in r.result&&(this.version=r.result["tbsCertList.version"].valueBlock.valueDec),this.signature=new l.default({schema:r.result["tbsCertList.signature"]}),this.issuer=new c.default({schema:r.result["tbsCertList.issuer"]}),this.thisUpdate=new f.default({schema:r.result["tbsCertList.thisUpdate"]}),"tbsCertList.nextUpdate"in r.result&&(this.nextUpdate=new f.default({schema:r.result["tbsCertList.nextUpdate"]})),"tbsCertList.revokedCertificates"in r.result&&(this.revokedCertificates=Array.from(r.result["tbsCertList.revokedCertificates"],(function(e){return new h.default({schema:e})}))),"tbsCertList.extensions"in r.result&&(this.crlExtensions=new m.default({schema:r.result["tbsCertList.extensions"]})),this.signatureAlgorithm=new l.default({schema:r.result.signatureAlgorithm}),this.signatureValue=r.result.signatureValue}},{key:"encodeTBS",value:function(){var t=[];return this.version!==e.defaultValues("version")&&t.push(new o.Integer({value:this.version})),t.push(this.signature.toSchema()),t.push(this.issuer.toSchema()),t.push(this.thisUpdate.toSchema()),"nextUpdate"in this&&t.push(this.nextUpdate.toSchema()),"revokedCertificates"in this&&t.push(new o.Sequence({value:Array.from(this.revokedCertificates,(function(e){return e.toSchema()}))})),"crlExtensions"in this&&t.push(new o.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[this.crlExtensions.toSchema()]})),new o.Sequence({value:t})}},{key:"toSchema",value:function(){var t,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!1===r){if(0===this.tbs.length)return e.schema();t=o.fromBER(this.tbs).result}else t=this.encodeTBS();return new o.Sequence({value:[t,this.signatureAlgorithm.toSchema(),this.signatureValue]})}},{key:"toJSON",value:function(){var t={tbs:(0,s.bufferToHexCodes)(this.tbs,0,this.tbs.byteLength),signature:this.signature.toJSON(),issuer:this.issuer.toJSON(),thisUpdate:this.thisUpdate.toJSON(),signatureAlgorithm:this.signatureAlgorithm.toJSON(),signatureValue:this.signatureValue.toJSON()};return this.version!==e.defaultValues("version")&&(t.version=this.version),"nextUpdate"in this&&(t.nextUpdate=this.nextUpdate.toJSON()),"revokedCertificates"in this&&(t.revokedCertificates=Array.from(this.revokedCertificates,(function(e){return e.toJSON()}))),"crlExtensions"in this&&(t.crlExtensions=this.crlExtensions.toJSON()),t}},{key:"isCertificateRevoked",value:function(e){if(!1===this.issuer.isEqual(e.issuer))return!1;if("revokedCertificates"in this==0)return!1;var t,r=y(this.revokedCertificates);try{for(r.s();!(t=r.n()).done;)if(t.value.userCertificate.isEqual(e.serialNumber))return!0}catch(e){r.e(e)}finally{r.f()}return!1}},{key:"sign",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"SHA-1";if(void 0===e)return Promise.reject("Need to provide a private key for signing");var n,a=Promise.resolve(),i=(0,u.getEngine)();return a=(a=(a=(a=(a=a.then((function(){return i.subtle.getSignatureParameters(e,r)}))).then((function(e){n=e.parameters,t.signature=e.signatureAlgorithm,t.signatureAlgorithm=e.signatureAlgorithm}))).then((function(){t.tbs=t.encodeTBS().toBER(!1)}))).then((function(){return i.subtle.signWithPrivateKey(t.tbs,e,n)}))).then((function(e){t.signatureValue=new o.BitString({valueHex:e})}))}},{key:"verify",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=Promise.resolve(),n=-1,a=(0,u.getEngine)();if("issuerCertificate"in t&&(n=t.issuerCertificate.subjectPublicKeyInfo,!1===this.issuer.isEqual(t.issuerCertificate.subject)))return Promise.resolve(!1);if("publicKeyInfo"in t&&(n=t.publicKeyInfo),"subjectPublicKey"in n==0)return Promise.reject("Issuer's certificate must be provided as an input parameter");if("crlExtensions"in this){var i,o=y(this.crlExtensions.extensions);try{for(o.s();!(i=o.n()).done;){var s=i.value;if(s.critical&&"parsedValue"in s==0)return Promise.resolve(!1)}}catch(e){o.e(e)}finally{o.f()}}return r=r.then((function(){return a.subtle.verifyWithPublicKey(e.tbs,e.signatureValue,n,e.signatureAlgorithm)}))}}],i=[{key:"defaultValues",value:function(e){switch(e){case"tbs":return new ArrayBuffer(0);case"version":return 1;case"signature":case"signatureAlgorithm":return new l.default;case"issuer":return new c.default;case"thisUpdate":case"nextUpdate":return new f.default;case"revokedCertificates":return[];case"crlExtensions":return new m.default;case"signatureValue":return new o.BitString;default:throw new Error("Invalid member name for CertificateRevocationList class: ".concat(e))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,s.getParametersValue)(e,"names",{});return new o.Sequence({name:t.blockName||"CertificateList",value:[g(e),l.default.schema(t.signatureAlgorithm||{names:{blockName:"signatureAlgorithm"}}),new o.BitString({name:t.signatureValue||"signatureValue"})]})}}],r&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=b},{"./AlgorithmIdentifier.js":338,"./Extensions.js":373,"./RelativeDistinguishedNames.js":423,"./RevokedCertificate.js":428,"./Time.js":441,"./common.js":444,asn1js:1,pvutils:447}],357:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=m(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),s=e("pvutils"),u=h(e("./Certificate.js")),l=h(e("./AttributeCertificateV1.js")),c=h(e("./AttributeCertificateV2.js")),f=h(e("./OtherCertificateFormat.js"));function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(m=function(e){return e?r:t})(e)}var p=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.certificates=(0,s.getParametersValue)(t,"certificates",e.defaultValues("certificates")),"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,i=[{key:"defaultValues",value:function(e){if("certificates"===e)return[];throw new Error("Invalid member name for Attribute class: ".concat(e))}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,s.getParametersValue)(e,"names",{});return new o.Set({name:t.blockName||"",value:[new o.Repeated({name:t.certificates||"certificates",value:new o.Choice({value:[u.default.schema(),new o.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[new o.Any]}),new o.Constructed({idBlock:{tagClass:3,tagNumber:1},value:l.default.schema().valueBlock.value}),new o.Constructed({idBlock:{tagClass:3,tagNumber:2},value:c.default.schema().valueBlock.value}),new o.Constructed({idBlock:{tagClass:3,tagNumber:3},value:f.default.schema().valueBlock.value})]})})]})}}],(r=[{key:"fromSchema",value:function(t){(0,s.clearProps)(t,["certificates"]);var r=o.compareSchema(t,t,e.schema());if(!1===r.verified)throw new Error("Object's schema was not verified against input data for CertificateSet");this.certificates=Array.from(r.result.certificates||[],(function(e){var t=e.idBlock.tagNumber;if(1===e.idBlock.tagClass)return new u.default({schema:e});var r=new o.Sequence({value:e.valueBlock.value});switch(t){case 1:return new l.default({schema:r});case 2:return new c.default({schema:r});case 3:return new f.default({schema:r})}return e}))}},{key:"toSchema",value:function(){return new o.Set({value:Array.from(this.certificates,(function(e){switch(!0){case e instanceof u.default:return e.toSchema();case e instanceof l.default:return new o.Constructed({idBlock:{tagClass:3,tagNumber:1},value:e.toSchema().valueBlock.value});case e instanceof c.default:return new o.Constructed({idBlock:{tagClass:3,tagNumber:2},value:e.toSchema().valueBlock.value});case e instanceof f.default:return new o.Constructed({idBlock:{tagClass:3,tagNumber:3},value:e.toSchema().valueBlock.value})}return e}))})}},{key:"toJSON",value:function(){return{certificates:Array.from(this.certificates,(function(e){return e.toJSON()}))}}}])&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=p},{"./AttributeCertificateV1.js":341,"./AttributeCertificateV2.js":342,"./Certificate.js":353,"./OtherCertificateFormat.js":394,asn1js:1,pvutils:447}],358:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),s=e("pvutils");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}var l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.templateID=(0,s.getParametersValue)(t,"templateID",e.defaultValues("templateID")),"templateMajorVersion"in t&&(this.templateMajorVersion=(0,s.getParametersValue)(t,"templateMajorVersion",e.defaultValues("templateMajorVersion"))),"templateMinorVersion"in t&&(this.templateMinorVersion=(0,s.getParametersValue)(t,"templateMinorVersion",e.defaultValues("templateMinorVersion"))),"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,i=[{key:"defaultValues",value:function(e){switch(e){case"templateID":return"";case"templateMajorVersion":case"templateMinorVersion":return 0;default:throw new Error("Invalid member name for CertificateTemplate class: ".concat(e))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,s.getParametersValue)(e,"names",{});return new o.Sequence({name:t.blockName||"",value:[new o.ObjectIdentifier({name:t.templateID||""}),new o.Integer({name:t.templateMajorVersion||"",optional:!0}),new o.Integer({name:t.templateMinorVersion||"",optional:!0})]})}}],(r=[{key:"fromSchema",value:function(t){(0,s.clearProps)(t,["templateID","templateMajorVersion","templateMinorVersion"]);var r=o.compareSchema(t,t,e.schema({names:{templateID:"templateID",templateMajorVersion:"templateMajorVersion",templateMinorVersion:"templateMinorVersion"}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for CertificateTemplate");this.templateID=r.result.templateID.valueBlock.toString(),"templateMajorVersion"in r.result&&(this.templateMajorVersion=r.result.templateMajorVersion.valueBlock.valueDec),"templateMinorVersion"in r.result&&(this.templateMinorVersion=r.result.templateMinorVersion.valueBlock.valueDec)}},{key:"toSchema",value:function(){var e=[];return e.push(new o.ObjectIdentifier({value:this.templateID})),"templateMajorVersion"in this&&e.push(new o.Integer({value:this.templateMajorVersion})),"templateMinorVersion"in this&&e.push(new o.Integer({value:this.templateMinorVersion})),new o.Sequence({value:e})}},{key:"toJSON",value:function(){var e={extnID:this.templateID};return"templateMajorVersion"in this&&(e.templateMajorVersion=this.templateMajorVersion),"templateMinorVersion"in this&&(e.templateMinorVersion=this.templateMinorVersion),e}}])&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=l},{asn1js:1,pvutils:447}],359:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=p(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),s=e("pvutils"),u=e("./common.js"),l=m(e("./PublicKeyInfo.js")),c=m(e("./RelativeDistinguishedNames.js")),f=m(e("./AlgorithmIdentifier.js")),h=m(e("./Attribute.js"));function m(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(p=function(e){return e?r:t})(e)}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,s.getParametersValue)(e,"names",{});return new o.Sequence({name:t.CertificationRequestInfo||"CertificationRequestInfo",value:[new o.Integer({name:t.CertificationRequestInfoVersion||"CertificationRequestInfo.version"}),c.default.schema(t.subject||{names:{blockName:"CertificationRequestInfo.subject"}}),l.default.schema({names:{blockName:"CertificationRequestInfo.subjectPublicKeyInfo"}}),new o.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new o.Repeated({optional:!0,name:t.CertificationRequestInfoAttributes||"CertificationRequestInfo.attributes",value:h.default.schema(t.attributes||{})})]})]})}var y=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.tbs=(0,s.getParametersValue)(t,"tbs",e.defaultValues("tbs")),this.version=(0,s.getParametersValue)(t,"version",e.defaultValues("version")),this.subject=(0,s.getParametersValue)(t,"subject",e.defaultValues("subject")),this.subjectPublicKeyInfo=(0,s.getParametersValue)(t,"subjectPublicKeyInfo",e.defaultValues("subjectPublicKeyInfo")),"attributes"in t&&(this.attributes=(0,s.getParametersValue)(t,"attributes",e.defaultValues("attributes"))),this.signatureAlgorithm=(0,s.getParametersValue)(t,"signatureAlgorithm",e.defaultValues("signatureAlgorithm")),this.signatureValue=(0,s.getParametersValue)(t,"signatureValue",e.defaultValues("signatureValue")),"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,r=[{key:"fromSchema",value:function(t){(0,s.clearProps)(t,["CertificationRequestInfo","CertificationRequestInfo.version","CertificationRequestInfo.subject","CertificationRequestInfo.subjectPublicKeyInfo","CertificationRequestInfo.attributes","signatureAlgorithm","signatureValue"]);var r=o.compareSchema(t,t,e.schema());if(!1===r.verified)throw new Error("Object's schema was not verified against input data for CertificationRequest");this.tbs=r.result.CertificationRequestInfo.valueBeforeDecode,this.version=r.result["CertificationRequestInfo.version"].valueBlock.valueDec,this.subject=new c.default({schema:r.result["CertificationRequestInfo.subject"]}),this.subjectPublicKeyInfo=new l.default({schema:r.result["CertificationRequestInfo.subjectPublicKeyInfo"]}),"CertificationRequestInfo.attributes"in r.result&&(this.attributes=Array.from(r.result["CertificationRequestInfo.attributes"],(function(e){return new h.default({schema:e})}))),this.signatureAlgorithm=new f.default({schema:r.result.signatureAlgorithm}),this.signatureValue=r.result.signatureValue}},{key:"encodeTBS",value:function(){var e=[new o.Integer({value:this.version}),this.subject.toSchema(),this.subjectPublicKeyInfo.toSchema()];return"attributes"in this&&e.push(new o.Constructed({idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.attributes,(function(e){return e.toSchema()}))})),new o.Sequence({value:e})}},{key:"toSchema",value:function(){var t,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!1===r){if(0===this.tbs.byteLength)return e.schema();t=o.fromBER(this.tbs).result}else t=this.encodeTBS();return new o.Sequence({value:[t,this.signatureAlgorithm.toSchema(),this.signatureValue]})}},{key:"toJSON",value:function(){var e={tbs:(0,s.bufferToHexCodes)(this.tbs,0,this.tbs.byteLength),version:this.version,subject:this.subject.toJSON(),subjectPublicKeyInfo:this.subjectPublicKeyInfo.toJSON(),signatureAlgorithm:this.signatureAlgorithm.toJSON(),signatureValue:this.signatureValue.toJSON()};return"attributes"in this&&(e.attributes=Array.from(this.attributes,(function(e){return e.toJSON()}))),e}},{key:"sign",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"SHA-1";if(void 0===e)return Promise.reject("Need to provide a private key for signing");var n,a=Promise.resolve(),i=(0,u.getEngine)();return a=(a=(a=(a=(a=a.then((function(){return i.subtle.getSignatureParameters(e,r)}))).then((function(e){n=e.parameters,t.signatureAlgorithm=e.signatureAlgorithm}))).then((function(){t.tbs=t.encodeTBS().toBER(!1)}))).then((function(){return i.subtle.signWithPrivateKey(t.tbs,e,n)}))).then((function(e){t.signatureValue=new o.BitString({valueHex:e})}))}},{key:"verify",value:function(){return(0,u.getEngine)().subtle.verifyWithPublicKey(this.tbs,this.signatureValue,this.subjectPublicKeyInfo,this.signatureAlgorithm)}},{key:"getPublicKey",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return(0,u.getEngine)().getPublicKey(this.subjectPublicKeyInfo,this.signatureAlgorithm,e)}}],i=[{key:"defaultValues",value:function(e){switch(e){case"tbs":return new ArrayBuffer(0);case"version":return 0;case"subject":return new c.default;case"subjectPublicKeyInfo":return new l.default;case"attributes":return[];case"signatureAlgorithm":return new f.default;case"signatureValue":return new o.BitString;default:throw new Error("Invalid member name for CertificationRequest class: ".concat(e))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,s.getParametersValue)(e,"names",{});return new o.Sequence({value:[d(t.certificationRequestInfo||{}),new o.Sequence({name:t.signatureAlgorithm||"signatureAlgorithm",value:[new o.ObjectIdentifier,new o.Any({optional:!0})]}),new o.BitString({name:t.signatureValue||"signatureValue"})]})}}],r&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=y},{"./AlgorithmIdentifier.js":338,"./Attribute.js":340,"./PublicKeyInfo.js":412,"./RelativeDistinguishedNames.js":423,"./common.js":444,asn1js:1,pvutils:447}],360:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),s=e("pvutils");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}var l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.contentType=(0,s.getParametersValue)(t,"contentType",e.defaultValues("contentType")),this.content=(0,s.getParametersValue)(t,"content",e.defaultValues("content")),"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,i=[{key:"defaultValues",value:function(e){switch(e){case"contentType":return"";case"content":return new o.Any;default:throw new Error("Invalid member name for ContentInfo class: ".concat(e))}}},{key:"compareWithDefault",value:function(e,t){switch(e){case"contentType":return""===t;case"content":return t instanceof o.Any;default:throw new Error("Invalid member name for ContentInfo class: ".concat(e))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,s.getParametersValue)(e,"names",{});return"optional"in t==0&&(t.optional=!1),new o.Sequence({name:t.blockName||"ContentInfo",optional:t.optional,value:[new o.ObjectIdentifier({name:t.contentType||"contentType"}),new o.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[new o.Any({name:t.content||"content"})]})]})}}],(r=[{key:"fromSchema",value:function(t){(0,s.clearProps)(t,["contentType","content"]);var r=o.compareSchema(t,t,e.schema());if(!1===r.verified)throw new Error("Object's schema was not verified against input data for ContentInfo");this.contentType=r.result.contentType.valueBlock.toString(),this.content=r.result.content}},{key:"toSchema",value:function(){return new o.Sequence({value:[new o.ObjectIdentifier({value:this.contentType}),new o.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[this.content]})]})}},{key:"toJSON",value:function(){var e={contentType:this.contentType};return this.content instanceof o.Any||(e.content=this.content.toJSON()),e}}])&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=l},{asn1js:1,pvutils:447}],361:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==s(e)&&"function"!=typeof e)return{default:e};var r=b(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),l=e("pvutils"),c=e("./common.js"),f=g(e("./PublicKeyInfo.js")),h=g(e("./PrivateKeyInfo.js")),m=g(e("./AlgorithmIdentifier.js")),p=g(e("./EncryptedContentInfo.js")),d=g(e("./RSASSAPSSParams.js")),y=g(e("./PBKDF2Params.js")),v=g(e("./PBES2Params.js"));function g(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(b=function(e){return e?r:t})(e)}function w(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function S(e,t,r,n,a,o){var s,u,l=[];switch(t.toUpperCase()){case"SHA-1":s=20,u=64;break;case"SHA-256":s=32,u=64;break;case"SHA-384":s=48,u=128;break;case"SHA-512":s=64,u=128;break;default:throw new Error("Unsupported hashing algorithm")}for(var c=new Uint8Array(n),f=new ArrayBuffer(2*n.byteLength+2),h=new Uint8Array(f),m=0;m<c.length;m++)h[2*m]=0,h[2*m+1]=c[m];h[h.length-2]=0,h[h.length-1]=0,n=f.slice(0);for(var p=new ArrayBuffer(u),d=new Uint8Array(p),y=0;y<p.byteLength;y++)d[y]=3;for(var v=a.byteLength,g=u*Math.ceil(v/u),b=new ArrayBuffer(g),w=new Uint8Array(b),k=new Uint8Array(a),S=0;S<g;S++)w[S]=k[S%v];for(var j=n.byteLength,P=u*Math.ceil(j/u),_=new ArrayBuffer(P),A=new Uint8Array(_),O=new Uint8Array(n),C=0;C<P;C++)A[C]=O[C%j];var I=b.byteLength+_.byteLength,x=new ArrayBuffer(I),B=new Uint8Array(x);B.set(w),B.set(A,w.length);for(var E=Math.ceil((r>>3)/s),N=Promise.resolve(x),V=0;V<=E;V++){N=N.then((function(e){var t=new ArrayBuffer(p.byteLength+e.byteLength),r=new Uint8Array(t);return r.set(d),r.set(B,d.length),t}));for(var D=0;D<o;D++)N=N.then((function(r){return e.digest({name:t},new Uint8Array(r))}));N=N.then((function(e){for(var t=new ArrayBuffer(u),r=new Uint8Array(t),n=0;n<t.byteLength;n++)r[n]=e[n%e.length];for(var a=Math.ceil(v/u)+Math.ceil(j/u),o=[],s=0,c=u,f=0;f<a;f++){var h=Array.from(new Uint8Array(x.slice(s,s+c)));(s+=u)+u>x.byteLength&&(c=x.byteLength-s);for(var m=511,p=t.byteLength-1;p>=0;p--)m>>=8,m+=r[p]+h[p],h[p]=255&m;o.push.apply(o,h)}return x=new ArrayBuffer(o.length),(B=new Uint8Array(x)).set(o),l.push.apply(l,i(new Uint8Array(e))),x}))}return N=N.then((function(){var e=new ArrayBuffer(r>>3);return new Uint8Array(e).set(new Uint8Array(l).slice(0,r>>3)),e}))}var j=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.crypto=(0,l.getParametersValue)(t,"crypto",{}),this.subtle=(0,l.getParametersValue)(t,"subtle",{}),this.name=(0,l.getParametersValue)(t,"name","")}var t,r,i;return t=e,r=[{key:"importKey",value:function(e,t,r,n,a){var i=this,o={};switch(t instanceof Uint8Array&&(t=t.buffer),e.toLowerCase()){case"raw":return this.subtle.importKey("raw",t,r,n,a);case"spki":var s=u.fromBER(t);if(-1===s.offset)return Promise.reject("Incorrect keyData");var c=new f.default;try{c.fromSchema(s.result)}catch(e){return Promise.reject("Incorrect keyData")}switch(r.name.toUpperCase()){case"RSA-PSS":switch(r.hash.name.toUpperCase()){case"SHA-1":o.alg="PS1";break;case"SHA-256":o.alg="PS256";break;case"SHA-384":o.alg="PS384";break;case"SHA-512":o.alg="PS512";break;default:return Promise.reject("Incorrect hash algorithm: ".concat(r.hash.name.toUpperCase()))}case"RSASSA-PKCS1-V1_5":if(a=["verify"],o.kty="RSA",o.ext=n,o.key_ops=a,"1.2.840.113549.1.1.1"!==c.algorithm.algorithmId)return Promise.reject("Incorrect public key algorithm: ".concat(c.algorithm.algorithmId));if("alg"in o==0)switch(r.hash.name.toUpperCase()){case"SHA-1":o.alg="RS1";break;case"SHA-256":o.alg="RS256";break;case"SHA-384":o.alg="RS384";break;case"SHA-512":o.alg="RS512";break;default:return Promise.reject("Incorrect hash algorithm: ".concat(r.hash.name.toUpperCase()))}for(var m=c.toJSON(),p=0,d=Object.keys(m);p<d.length;p++){var y=d[p];o[y]=m[y]}break;case"ECDSA":a=["verify"];case"ECDH":if(o={kty:"EC",ext:n,key_ops:a},"1.2.840.10045.2.1"!==c.algorithm.algorithmId)return Promise.reject("Incorrect public key algorithm: ".concat(c.algorithm.algorithmId));for(var v=c.toJSON(),g=0,b=Object.keys(v);g<b.length;g++){var w=b[g];o[w]=v[w]}break;case"RSA-OAEP":if(o.kty="RSA",o.ext=n,o.key_ops=a,"safari"===this.name.toLowerCase())o.alg="RSA-OAEP";else switch(r.hash.name.toUpperCase()){case"SHA-1":o.alg="RSA-OAEP";break;case"SHA-256":o.alg="RSA-OAEP-256";break;case"SHA-384":o.alg="RSA-OAEP-384";break;case"SHA-512":o.alg="RSA-OAEP-512";break;default:return Promise.reject("Incorrect hash algorithm: ".concat(r.hash.name.toUpperCase()))}for(var k=c.toJSON(),S=0,j=Object.keys(k);S<j.length;S++){var P=j[S];o[P]=k[P]}break;case"RSAES-PKCS1-V1_5":o.kty="RSA",o.ext=n,o.key_ops=a,o.alg="PS1";for(var _=c.toJSON(),A=0,O=Object.keys(_);A<O.length;A++){var C=O[A];o[C]=_[C]}break;default:return Promise.reject("Incorrect algorithm name: ".concat(r.name.toUpperCase()))}break;case"pkcs8":var I=new h.default,x=u.fromBER(t);if(-1===x.offset)return Promise.reject("Incorrect keyData");try{I.fromSchema(x.result)}catch(e){return Promise.reject("Incorrect keyData")}if("parsedKey"in I==0)return Promise.reject("Incorrect keyData");switch(r.name.toUpperCase()){case"RSA-PSS":switch(r.hash.name.toUpperCase()){case"SHA-1":o.alg="PS1";break;case"SHA-256":o.alg="PS256";break;case"SHA-384":o.alg="PS384";break;case"SHA-512":o.alg="PS512";break;default:return Promise.reject("Incorrect hash algorithm: ".concat(r.hash.name.toUpperCase()))}case"RSASSA-PKCS1-V1_5":if(a=["sign"],o.kty="RSA",o.ext=n,o.key_ops=a,"1.2.840.113549.1.1.1"!==I.privateKeyAlgorithm.algorithmId)return Promise.reject("Incorrect private key algorithm: ".concat(I.privateKeyAlgorithm.algorithmId));if("alg"in o==0)switch(r.hash.name.toUpperCase()){case"SHA-1":o.alg="RS1";break;case"SHA-256":o.alg="RS256";break;case"SHA-384":o.alg="RS384";break;case"SHA-512":o.alg="RS512";break;default:return Promise.reject("Incorrect hash algorithm: ".concat(r.hash.name.toUpperCase()))}for(var B=I.toJSON(),E=0,N=Object.keys(B);E<N.length;E++){var V=N[E];o[V]=B[V]}break;case"ECDSA":a=["sign"];case"ECDH":if(o={kty:"EC",ext:n,key_ops:a},"1.2.840.10045.2.1"!==I.privateKeyAlgorithm.algorithmId)return Promise.reject("Incorrect algorithm: ".concat(I.privateKeyAlgorithm.algorithmId));for(var D=I.toJSON(),R=0,M=Object.keys(D);R<M.length;R++){var T=M[R];o[T]=D[T]}break;case"RSA-OAEP":if(o.kty="RSA",o.ext=n,o.key_ops=a,"safari"===this.name.toLowerCase())o.alg="RSA-OAEP";else switch(r.hash.name.toUpperCase()){case"SHA-1":o.alg="RSA-OAEP";break;case"SHA-256":o.alg="RSA-OAEP-256";break;case"SHA-384":o.alg="RSA-OAEP-384";break;case"SHA-512":o.alg="RSA-OAEP-512";break;default:return Promise.reject("Incorrect hash algorithm: ".concat(r.hash.name.toUpperCase()))}for(var K=I.toJSON(),L=0,U=Object.keys(K);L<U.length;L++){var q=U[L];o[q]=K[q]}break;case"RSAES-PKCS1-V1_5":a=["decrypt"],o.kty="RSA",o.ext=n,o.key_ops=a,o.alg="PS1";for(var H=I.toJSON(),W=0,J=Object.keys(H);W<J.length;W++){var F=J[W];o[F]=H[F]}break;default:return Promise.reject("Incorrect algorithm name: ".concat(r.name.toUpperCase()))}break;case"jwk":o=t;break;default:return Promise.reject("Incorrect format: ".concat(e))}return"safari"===this.name.toLowerCase()?Promise.resolve().then((function(){return i.subtle.importKey("jwk",(0,l.stringToArrayBuffer)(JSON.stringify(o)),r,n,a)})).then((function(e){return e}),(function(){return i.subtle.importKey("jwk",o,r,n,a)})):this.subtle.importKey("jwk",o,r,n,a)}},{key:"exportKey",value:function(e,t){var r=this.subtle.exportKey("jwk",t);switch("safari"===this.name.toLowerCase()&&(r=r.then((function(e){return e instanceof ArrayBuffer?JSON.parse((0,l.arrayBufferToString)(e)):e}))),e.toLowerCase()){case"raw":return this.subtle.exportKey("raw",t);case"spki":r=r.then((function(e){var t=new f.default;try{t.fromJSON(e)}catch(e){return Promise.reject("Incorrect key data")}return t.toSchema().toBER(!1)}));break;case"pkcs8":r=r.then((function(e){var t=new h.default;try{t.fromJSON(e)}catch(e){return Promise.reject("Incorrect key data")}return t.toSchema().toBER(!1)}));break;case"jwk":break;default:return Promise.reject("Incorrect format: ".concat(e))}return r}},{key:"convert",value:function(e,t,r,n,a,i){var o=this;switch(e.toLowerCase()){case"raw":switch(t.toLowerCase()){case"raw":return Promise.resolve(r);case"spki":return Promise.resolve().then((function(){return o.importKey("raw",r,n,a,i)})).then((function(e){return o.exportKey("spki",e)}));case"pkcs8":return Promise.resolve().then((function(){return o.importKey("raw",r,n,a,i)})).then((function(e){return o.exportKey("pkcs8",e)}));case"jwk":return Promise.resolve().then((function(){return o.importKey("raw",r,n,a,i)})).then((function(e){return o.exportKey("jwk",e)}));default:return Promise.reject("Incorrect outputFormat: ".concat(t))}case"spki":switch(t.toLowerCase()){case"raw":return Promise.resolve().then((function(){return o.importKey("spki",r,n,a,i)})).then((function(e){return o.exportKey("raw",e)}));case"spki":return Promise.resolve(r);case"pkcs8":return Promise.reject("Impossible to convert between SPKI/PKCS8");case"jwk":return Promise.resolve().then((function(){return o.importKey("spki",r,n,a,i)})).then((function(e){return o.exportKey("jwk",e)}));default:return Promise.reject("Incorrect outputFormat: ".concat(t))}case"pkcs8":switch(t.toLowerCase()){case"raw":return Promise.resolve().then((function(){return o.importKey("pkcs8",r,n,a,i)})).then((function(e){return o.exportKey("raw",e)}));case"spki":return Promise.reject("Impossible to convert between SPKI/PKCS8");case"pkcs8":return Promise.resolve(r);case"jwk":return Promise.resolve().then((function(){return o.importKey("pkcs8",r,n,a,i)})).then((function(e){return o.exportKey("jwk",e)}));default:return Promise.reject("Incorrect outputFormat: ".concat(t))}case"jwk":switch(t.toLowerCase()){case"raw":return Promise.resolve().then((function(){return o.importKey("jwk",r,n,a,i)})).then((function(e){return o.exportKey("raw",e)}));case"spki":return Promise.resolve().then((function(){return o.importKey("jwk",r,n,a,i)})).then((function(e){return o.exportKey("spki",e)}));case"pkcs8":return Promise.resolve().then((function(){return o.importKey("jwk",r,n,a,i)})).then((function(e){return o.exportKey("pkcs8",e)}));case"jwk":return Promise.resolve(r);default:return Promise.reject("Incorrect outputFormat: ".concat(t))}default:return Promise.reject("Incorrect inputFormat: ".concat(e))}}},{key:"encrypt",value:function(){var e;return(e=this.subtle).encrypt.apply(e,arguments)}},{key:"decrypt",value:function(){var e;return(e=this.subtle).decrypt.apply(e,arguments)}},{key:"sign",value:function(){var e;return(e=this.subtle).sign.apply(e,arguments)}},{key:"verify",value:function(){var e;return(e=this.subtle).verify.apply(e,arguments)}},{key:"digest",value:function(){var e;return(e=this.subtle).digest.apply(e,arguments)}},{key:"generateKey",value:function(){var e;return(e=this.subtle).generateKey.apply(e,arguments)}},{key:"deriveKey",value:function(){var e;return(e=this.subtle).deriveKey.apply(e,arguments)}},{key:"deriveBits",value:function(){var e;return(e=this.subtle).deriveBits.apply(e,arguments)}},{key:"wrapKey",value:function(){var e;return(e=this.subtle).wrapKey.apply(e,arguments)}},{key:"unwrapKey",value:function(){var e;return(e=this.subtle).unwrapKey.apply(e,arguments)}},{key:"getRandomValues",value:function(e){if("getRandomValues"in this.crypto==0)throw new Error("No support for getRandomValues");return this.crypto.getRandomValues(e)}},{key:"getAlgorithmByOID",value:function(e){switch(e){case"1.2.840.113549.1.1.1":return{name:"RSAES-PKCS1-v1_5"};case"1.2.840.113549.1.1.5":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-1"}};case"1.2.840.113549.1.1.11":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"1.2.840.113549.1.1.12":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-384"}};case"1.2.840.113549.1.1.13":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-512"}};case"1.2.840.113549.1.1.10":return{name:"RSA-PSS"};case"1.2.840.113549.1.1.7":return{name:"RSA-OAEP"};case"1.2.840.10045.2.1":case"1.2.840.10045.4.1":return{name:"ECDSA",hash:{name:"SHA-1"}};case"1.2.840.10045.4.3.2":return{name:"ECDSA",hash:{name:"SHA-256"}};case"1.2.840.10045.4.3.3":return{name:"ECDSA",hash:{name:"SHA-384"}};case"1.2.840.10045.4.3.4":return{name:"ECDSA",hash:{name:"SHA-512"}};case"1.3.133.16.840.63.0.2":return{name:"ECDH",kdf:"SHA-1"};case"1.3.132.1.11.1":return{name:"ECDH",kdf:"SHA-256"};case"1.3.132.1.11.2":return{name:"ECDH",kdf:"SHA-384"};case"1.3.132.1.11.3":return{name:"ECDH",kdf:"SHA-512"};case"2.16.840.1.101.3.4.1.2":return{name:"AES-CBC",length:128};case"2.16.840.1.101.3.4.1.22":return{name:"AES-CBC",length:192};case"2.16.840.1.101.3.4.1.42":return{name:"AES-CBC",length:256};case"2.16.840.1.101.3.4.1.6":return{name:"AES-GCM",length:128};case"2.16.840.1.101.3.4.1.26":return{name:"AES-GCM",length:192};case"2.16.840.1.101.3.4.1.46":return{name:"AES-GCM",length:256};case"2.16.840.1.101.3.4.1.4":return{name:"AES-CFB",length:128};case"2.16.840.1.101.3.4.1.24":return{name:"AES-CFB",length:192};case"2.16.840.1.101.3.4.1.44":return{name:"AES-CFB",length:256};case"2.16.840.1.101.3.4.1.5":return{name:"AES-KW",length:128};case"2.16.840.1.101.3.4.1.25":return{name:"AES-KW",length:192};case"2.16.840.1.101.3.4.1.45":return{name:"AES-KW",length:256};case"1.2.840.113549.2.7":return{name:"HMAC",hash:{name:"SHA-1"}};case"1.2.840.113549.2.9":return{name:"HMAC",hash:{name:"SHA-256"}};case"1.2.840.113549.2.10":return{name:"HMAC",hash:{name:"SHA-384"}};case"1.2.840.113549.2.11":return{name:"HMAC",hash:{name:"SHA-512"}};case"1.2.840.113549.1.9.16.3.5":return{name:"DH"};case"1.3.14.3.2.26":return{name:"SHA-1"};case"2.16.840.1.101.3.4.2.1":return{name:"SHA-256"};case"2.16.840.1.101.3.4.2.2":return{name:"SHA-384"};case"2.16.840.1.101.3.4.2.3":return{name:"SHA-512"};case"1.2.840.113549.1.5.12":return{name:"PBKDF2"};case"1.2.840.10045.3.1.7":return{name:"P-256"};case"1.3.132.0.34":return{name:"P-384"};case"1.3.132.0.35":return{name:"P-521"}}return{}}},{key:"getOIDByAlgorithm",value:function(e){var t="";switch(e.name.toUpperCase()){case"RSAES-PKCS1-V1_5":t="1.2.840.113549.1.1.1";break;case"RSASSA-PKCS1-V1_5":switch(e.hash.name.toUpperCase()){case"SHA-1":t="1.2.840.113549.1.1.5";break;case"SHA-256":t="1.2.840.113549.1.1.11";break;case"SHA-384":t="1.2.840.113549.1.1.12";break;case"SHA-512":t="1.2.840.113549.1.1.13"}break;case"RSA-PSS":t="1.2.840.113549.1.1.10";break;case"RSA-OAEP":t="1.2.840.113549.1.1.7";break;case"ECDSA":switch(e.hash.name.toUpperCase()){case"SHA-1":t="1.2.840.10045.4.1";break;case"SHA-256":t="1.2.840.10045.4.3.2";break;case"SHA-384":t="1.2.840.10045.4.3.3";break;case"SHA-512":t="1.2.840.10045.4.3.4"}break;case"ECDH":switch(e.kdf.toUpperCase()){case"SHA-1":t="1.3.133.16.840.63.0.2";break;case"SHA-256":t="1.3.132.1.11.1";break;case"SHA-384":t="1.3.132.1.11.2";break;case"SHA-512":t="1.3.132.1.11.3"}break;case"AES-CTR":case"AES-CMAC":case"CONCAT":case"HKDF":break;case"AES-CBC":switch(e.length){case 128:t="2.16.840.1.101.3.4.1.2";break;case 192:t="2.16.840.1.101.3.4.1.22";break;case 256:t="2.16.840.1.101.3.4.1.42"}break;case"AES-GCM":switch(e.length){case 128:t="2.16.840.1.101.3.4.1.6";break;case 192:t="2.16.840.1.101.3.4.1.26";break;case 256:t="2.16.840.1.101.3.4.1.46"}break;case"AES-CFB":switch(e.length){case 128:t="2.16.840.1.101.3.4.1.4";break;case 192:t="2.16.840.1.101.3.4.1.24";break;case 256:t="2.16.840.1.101.3.4.1.44"}break;case"AES-KW":switch(e.length){case 128:t="2.16.840.1.101.3.4.1.5";break;case 192:t="2.16.840.1.101.3.4.1.25";break;case 256:t="2.16.840.1.101.3.4.1.45"}break;case"HMAC":switch(e.hash.name.toUpperCase()){case"SHA-1":t="1.2.840.113549.2.7";break;case"SHA-256":t="1.2.840.113549.2.9";break;case"SHA-384":t="1.2.840.113549.2.10";break;case"SHA-512":t="1.2.840.113549.2.11"}break;case"DH":t="1.2.840.113549.1.9.16.3.5";break;case"SHA-1":t="1.3.14.3.2.26";break;case"SHA-256":t="2.16.840.1.101.3.4.2.1";break;case"SHA-384":t="2.16.840.1.101.3.4.2.2";break;case"SHA-512":t="2.16.840.1.101.3.4.2.3";break;case"PBKDF2":t="1.2.840.113549.1.5.12";break;case"P-256":t="1.2.840.10045.3.1.7";break;case"P-384":t="1.3.132.0.34";break;case"P-521":t="1.3.132.0.35"}return t}},{key:"getAlgorithmParameters",value:function(e,t){var r={algorithm:{},usages:[]};switch(e.toUpperCase()){case"RSAES-PKCS1-V1_5":case"RSASSA-PKCS1-V1_5":switch(t.toLowerCase()){case"generatekey":r={algorithm:{name:"RSASSA-PKCS1-v1_5",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},usages:["sign","verify"]};break;case"verify":case"sign":case"importkey":r={algorithm:{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},usages:["verify"]};break;default:return{algorithm:{name:"RSASSA-PKCS1-v1_5"},usages:[]}}break;case"RSA-PSS":switch(t.toLowerCase()){case"sign":case"verify":r={algorithm:{name:"RSA-PSS",hash:{name:"SHA-1"},saltLength:20},usages:["sign","verify"]};break;case"generatekey":r={algorithm:{name:"RSA-PSS",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-1"}},usages:["sign","verify"]};break;case"importkey":r={algorithm:{name:"RSA-PSS",hash:{name:"SHA-1"}},usages:["verify"]};break;default:return{algorithm:{name:"RSA-PSS"},usages:[]}}break;case"RSA-OAEP":switch(t.toLowerCase()){case"encrypt":case"decrypt":r={algorithm:{name:"RSA-OAEP"},usages:["encrypt","decrypt"]};break;case"generatekey":r={algorithm:{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case"importkey":r={algorithm:{name:"RSA-OAEP",hash:{name:"SHA-256"}},usages:["encrypt"]};break;default:return{algorithm:{name:"RSA-OAEP"},usages:[]}}break;case"ECDSA":switch(t.toLowerCase()){case"generatekey":r={algorithm:{name:"ECDSA",namedCurve:"P-256"},usages:["sign","verify"]};break;case"importkey":r={algorithm:{name:"ECDSA",namedCurve:"P-256"},usages:["verify"]};break;case"verify":case"sign":r={algorithm:{name:"ECDSA",hash:{name:"SHA-256"}},usages:["sign"]};break;default:return{algorithm:{name:"ECDSA"},usages:[]}}break;case"ECDH":switch(t.toLowerCase()){case"exportkey":case"importkey":case"generatekey":r={algorithm:{name:"ECDH",namedCurve:"P-256"},usages:["deriveKey","deriveBits"]};break;case"derivekey":case"derivebits":r={algorithm:{name:"ECDH",namedCurve:"P-256",public:[]},usages:["encrypt","decrypt"]};break;default:return{algorithm:{name:"ECDH"},usages:[]}}break;case"AES-CTR":switch(t.toLowerCase()){case"importkey":case"exportkey":case"generatekey":r={algorithm:{name:"AES-CTR",length:256},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case"decrypt":case"encrypt":r={algorithm:{name:"AES-CTR",counter:new Uint8Array(16),length:10},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-CTR"},usages:[]}}break;case"AES-CBC":switch(t.toLowerCase()){case"importkey":case"exportkey":case"generatekey":r={algorithm:{name:"AES-CBC",length:256},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case"decrypt":case"encrypt":r={algorithm:{name:"AES-CBC",iv:this.getRandomValues(new Uint8Array(16))},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-CBC"},usages:[]}}break;case"AES-GCM":switch(t.toLowerCase()){case"importkey":case"exportkey":case"generatekey":r={algorithm:{name:"AES-GCM",length:256},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case"decrypt":case"encrypt":r={algorithm:{name:"AES-GCM",iv:this.getRandomValues(new Uint8Array(16))},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-GCM"},usages:[]}}break;case"AES-KW":switch(t.toLowerCase()){case"importkey":case"exportkey":case"generatekey":case"wrapkey":case"unwrapkey":r={algorithm:{name:"AES-KW",length:256},usages:["wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-KW"},usages:[]}}break;case"HMAC":switch(t.toLowerCase()){case"sign":case"verify":r={algorithm:{name:"HMAC"},usages:["sign","verify"]};break;case"importkey":case"exportkey":case"generatekey":r={algorithm:{name:"HMAC",length:32,hash:{name:"SHA-256"}},usages:["sign","verify"]};break;default:return{algorithm:{name:"HMAC"},usages:[]}}break;case"HKDF":if("derivekey"!==t.toLowerCase())return{algorithm:{name:"HKDF"},usages:[]};r={algorithm:{name:"HKDF",hash:"SHA-256",salt:new Uint8Array([]),info:new Uint8Array([])},usages:["encrypt","decrypt"]};break;case"PBKDF2":if("derivekey"!==t.toLowerCase())return{algorithm:{name:"PBKDF2"},usages:[]};r={algorithm:{name:"PBKDF2",hash:{name:"SHA-256"},salt:new Uint8Array([]),iterations:1e4},usages:["encrypt","decrypt"]}}return r}},{key:"getHashAlgorithm",value:function(e){var t="";switch(e.algorithmId){case"1.2.840.10045.4.1":case"1.2.840.113549.1.1.5":t="SHA-1";break;case"1.2.840.10045.4.3.2":case"1.2.840.113549.1.1.11":t="SHA-256";break;case"1.2.840.10045.4.3.3":case"1.2.840.113549.1.1.12":t="SHA-384";break;case"1.2.840.10045.4.3.4":case"1.2.840.113549.1.1.13":t="SHA-512";break;case"1.2.840.113549.1.1.10":try{var r=new d.default({schema:e.algorithmParams});if("hashAlgorithm"in r){var n=this.getAlgorithmByOID(r.hashAlgorithm.algorithmId);if("name"in n==0)return"";t=n.name}else t="SHA-1"}catch(e){}}return t}},{key:"encryptEncryptedContentInfo",value:function(e){var t=this;if(e instanceof Object==0)return Promise.reject('Parameters must have type "Object"');if("password"in e==0)return Promise.reject('Absent mandatory parameter "password"');if("contentEncryptionAlgorithm"in e==0)return Promise.reject('Absent mandatory parameter "contentEncryptionAlgorithm"');if("hmacHashAlgorithm"in e==0)return Promise.reject('Absent mandatory parameter "hmacHashAlgorithm"');if("iterationCount"in e==0)return Promise.reject('Absent mandatory parameter "iterationCount"');if("contentToEncrypt"in e==0)return Promise.reject('Absent mandatory parameter "contentToEncrypt"');if("contentType"in e==0)return Promise.reject('Absent mandatory parameter "contentType"');var r=this.getOIDByAlgorithm(e.contentEncryptionAlgorithm);if(""===r)return Promise.reject('Wrong "contentEncryptionAlgorithm" value');var n=this.getOIDByAlgorithm({name:"PBKDF2"});if(""===n)return Promise.reject("Can not find OID for PBKDF2");var a=this.getOIDByAlgorithm({name:"HMAC",hash:{name:e.hmacHashAlgorithm}});if(""===a)return Promise.reject('Incorrect value for "hmacHashAlgorithm": '.concat(e.hmacHashAlgorithm));var i=Promise.resolve(),o=new ArrayBuffer(16),s=new Uint8Array(o);this.getRandomValues(s);var l=new ArrayBuffer(64),c=new Uint8Array(l);this.getRandomValues(c);var f=new Uint8Array(e.contentToEncrypt),h=new y.default({salt:new u.OctetString({valueHex:l}),iterationCount:e.iterationCount,prf:new m.default({algorithmId:a,algorithmParams:new u.Null})});return i=(i=(i=(i=i.then((function(){var r=new Uint8Array(e.password);return t.importKey("raw",r,"PBKDF2",!1,["deriveKey"])}),(function(e){return Promise.reject(e)}))).then((function(r){return t.deriveKey({name:"PBKDF2",hash:{name:e.hmacHashAlgorithm},salt:c,iterations:e.iterationCount},r,e.contentEncryptionAlgorithm,!1,["encrypt"])}),(function(e){return Promise.reject(e)}))).then((function(r){return t.encrypt({name:e.contentEncryptionAlgorithm.name,iv:s},r,f)}),(function(e){return Promise.reject(e)}))).then((function(t){var a=new v.default({keyDerivationFunc:new m.default({algorithmId:n,algorithmParams:h.toSchema()}),encryptionScheme:new m.default({algorithmId:r,algorithmParams:new u.OctetString({valueHex:o})})});return new p.default({contentType:e.contentType,contentEncryptionAlgorithm:new m.default({algorithmId:"1.2.840.113549.1.5.13",algorithmParams:a.toSchema()}),encryptedContent:new u.OctetString({valueHex:t})})}),(function(e){return Promise.reject(e)}))}},{key:"decryptEncryptedContentInfo",value:function(e){var t=this;if(e instanceof Object==0)return Promise.reject('Parameters must have type "Object"');if("password"in e==0)return Promise.reject('Absent mandatory parameter "password"');if("encryptedContentInfo"in e==0)return Promise.reject('Absent mandatory parameter "encryptedContentInfo"');if("1.2.840.113549.1.5.13"!==e.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId)return Promise.reject('Unknown "contentEncryptionAlgorithm": '.concat(e.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId));var r,n,a=Promise.resolve();try{r=new v.default({schema:e.encryptedContentInfo.contentEncryptionAlgorithm.algorithmParams})}catch(e){return Promise.reject('Incorrectly encoded "pbes2Parameters"')}try{n=new y.default({schema:r.keyDerivationFunc.algorithmParams})}catch(e){return Promise.reject('Incorrectly encoded "pbkdf2Params"')}var i=this.getAlgorithmByOID(r.encryptionScheme.algorithmId);if("name"in i==0)return Promise.reject('Incorrect OID for "contentEncryptionAlgorithm": '.concat(r.encryptionScheme.algorithmId));var o=r.encryptionScheme.algorithmParams.valueBlock.valueHex,s=new Uint8Array(o),u=n.salt.valueBlock.valueHex,c=new Uint8Array(u),f=n.iterationCount,h="SHA-1";if("prf"in n){var m=this.getAlgorithmByOID(n.prf.algorithmId);if("name"in m==0)return Promise.reject("Incorrect OID for HMAC hash algorithm");h=m.hash.name}return a=(a=(a=a.then((function(){return t.importKey("raw",e.password,"PBKDF2",!1,["deriveKey"])}),(function(e){return Promise.reject(e)}))).then((function(e){return t.deriveKey({name:"PBKDF2",hash:{name:h},salt:c,iterations:f},e,i,!1,["decrypt"])}),(function(e){return Promise.reject(e)}))).then((function(r){var n=new ArrayBuffer(0);if(!1===e.encryptedContentInfo.encryptedContent.idBlock.isConstructed)n=e.encryptedContentInfo.encryptedContent.valueBlock.valueHex;else{var a,o=w(e.encryptedContentInfo.encryptedContent.valueBlock.value);try{for(o.s();!(a=o.n()).done;){var u=a.value;n=(0,l.utilConcatBuf)(n,u.valueBlock.valueHex)}}catch(e){o.e(e)}finally{o.f()}}return t.decrypt({name:i.name,iv:s},r,n)}),(function(e){return Promise.reject(e)}))}},{key:"stampDataWithPassword",value:function(e){var t,r=this;if(e instanceof Object==0)return Promise.reject('Parameters must have type "Object"');if("password"in e==0)return Promise.reject('Absent mandatory parameter "password"');if("hashAlgorithm"in e==0)return Promise.reject('Absent mandatory parameter "hashAlgorithm"');if("salt"in e==0)return Promise.reject('Absent mandatory parameter "iterationCount"');if("iterationCount"in e==0)return Promise.reject('Absent mandatory parameter "salt"');if("contentToStamp"in e==0)return Promise.reject('Absent mandatory parameter "contentToStamp"');switch(e.hashAlgorithm.toLowerCase()){case"sha-1":t=160;break;case"sha-256":t=256;break;case"sha-384":t=384;break;case"sha-512":t=512;break;default:return Promise.reject('Incorrect "parameters.hashAlgorithm" parameter: '.concat(e.hashAlgorithm))}var n=Promise.resolve(),a={name:"HMAC",length:t,hash:{name:e.hashAlgorithm}};return n=(n=(n=n.then((function(){return S(r,e.hashAlgorithm,t,e.password,e.salt,e.iterationCount)}))).then((function(e){return r.importKey("raw",new Uint8Array(e),a,!1,["sign"])}))).then((function(t){return r.sign(a,t,new Uint8Array(e.contentToStamp))}),(function(e){return Promise.reject(e)}))}},{key:"verifyDataStampedWithPassword",value:function(e){var t,r=this;if(e instanceof Object==0)return Promise.reject('Parameters must have type "Object"');if("password"in e==0)return Promise.reject('Absent mandatory parameter "password"');if("hashAlgorithm"in e==0)return Promise.reject('Absent mandatory parameter "hashAlgorithm"');if("salt"in e==0)return Promise.reject('Absent mandatory parameter "iterationCount"');if("iterationCount"in e==0)return Promise.reject('Absent mandatory parameter "salt"');if("contentToVerify"in e==0)return Promise.reject('Absent mandatory parameter "contentToVerify"');if("signatureToVerify"in e==0)return Promise.reject('Absent mandatory parameter "signatureToVerify"');switch(e.hashAlgorithm.toLowerCase()){case"sha-1":t=160;break;case"sha-256":t=256;break;case"sha-384":t=384;break;case"sha-512":t=512;break;default:return Promise.reject('Incorrect "parameters.hashAlgorithm" parameter: '.concat(e.hashAlgorithm))}var n=Promise.resolve(),a={name:"HMAC",length:t,hash:{name:e.hashAlgorithm}};return n=(n=(n=n.then((function(){return S(r,e.hashAlgorithm,t,e.password,e.salt,e.iterationCount)}))).then((function(e){return r.importKey("raw",new Uint8Array(e),a,!1,["verify"])}))).then((function(t){return r.verify(a,t,new Uint8Array(e.signatureToVerify),new Uint8Array(e.contentToVerify))}),(function(e){return Promise.reject(e)}))}},{key:"getSignatureParameters",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"SHA-1",r=this.getOIDByAlgorithm({name:t});if(""===r)return Promise.reject("Unsupported hash algorithm: ".concat(t));var n=new m.default,a=this.getAlgorithmParameters(e.algorithm.name,"sign");switch(a.algorithm.hash.name=t,e.algorithm.name.toUpperCase()){case"RSASSA-PKCS1-V1_5":case"ECDSA":n.algorithmId=this.getOIDByAlgorithm(a.algorithm);break;case"RSA-PSS":switch(t.toUpperCase()){case"SHA-256":a.algorithm.saltLength=32;break;case"SHA-384":a.algorithm.saltLength=48;break;case"SHA-512":a.algorithm.saltLength=64}var i={};if("SHA-1"!==t.toUpperCase()){var o=this.getOIDByAlgorithm({name:t});if(""===o)return Promise.reject("Unsupported hash algorithm: ".concat(t));i.hashAlgorithm=new m.default({algorithmId:o,algorithmParams:new u.Null}),i.maskGenAlgorithm=new m.default({algorithmId:"1.2.840.113549.1.1.8",algorithmParams:i.hashAlgorithm.toSchema()})}20!==a.algorithm.saltLength&&(i.saltLength=a.algorithm.saltLength);var s=new d.default(i);n.algorithmId="1.2.840.113549.1.1.10",n.algorithmParams=s.toSchema();break;default:return Promise.reject("Unsupported signature algorithm: ".concat(e.algorithm.name))}return Promise.resolve().then((function(){return{signatureAlgorithm:n,parameters:a}}))}},{key:"signWithPrivateKey",value:function(e,t,r){return this.sign(r.algorithm,t,new Uint8Array(e)).then((function(e){return"ECDSA"===r.algorithm.name&&(e=(0,c.createCMSECDSASignature)(e)),e}),(function(e){return Promise.reject("Signing error: ".concat(e))}))}},{key:"fillPublicKeyParameters",value:function(e,t){var r,n={},a=this.getHashAlgorithm(t);if(""===a)return Promise.reject("Unsupported signature algorithm: ".concat(t.algorithmId));r="1.2.840.113549.1.1.10"===t.algorithmId?t.algorithmId:e.algorithm.algorithmId;var i=this.getAlgorithmByOID(r);if("name"in i==="")return Promise.reject("Unsupported public key algorithm: ".concat(t.algorithmId));if(n.algorithm=this.getAlgorithmParameters(i.name,"importkey"),"hash"in n.algorithm.algorithm&&(n.algorithm.algorithm.hash.name=a),"ECDSA"===i.name){var o=!1;if("algorithmParams"in e.algorithm==1&&"idBlock"in e.algorithm.algorithmParams&&1===e.algorithm.algorithmParams.idBlock.tagClass&&6===e.algorithm.algorithmParams.idBlock.tagNumber&&(o=!0),!1===o)return Promise.reject("Incorrect type for ECDSA public key parameters");var s=this.getAlgorithmByOID(e.algorithm.algorithmParams.valueBlock.toString());if("name"in s==0)return Promise.reject("Unsupported named curve algorithm: ".concat(e.algorithm.algorithmParams.valueBlock.toString()));n.algorithm.algorithm.namedCurve=s.name}return n}},{key:"getPublicKey",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;null===r&&(r=this.fillPublicKeyParameters(e,t));var n=e.toSchema(),a=n.toBER(!1),i=new Uint8Array(a);return this.importKey("spki",i,r.algorithm.algorithm,!0,r.algorithm.usages)}},{key:"verifyWithPublicKey",value:function(e,t,r,n){var a=this,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=Promise.resolve();if(null===i){if(""===(i=this.getHashAlgorithm(n)))return Promise.reject("Unsupported signature algorithm: ".concat(n.algorithmId));o=o.then((function(){return a.getPublicKey(r,n)}))}else{var s,l={};s="1.2.840.113549.1.1.10"===n.algorithmId?n.algorithmId:r.algorithm.algorithmId;var f=this.getAlgorithmByOID(s);if("name"in f==="")return Promise.reject("Unsupported public key algorithm: ".concat(n.algorithmId));if(l.algorithm=this.getAlgorithmParameters(f.name,"importkey"),"hash"in l.algorithm.algorithm&&(l.algorithm.algorithm.hash.name=i),"ECDSA"===f.name){var h=!1;if("algorithmParams"in r.algorithm==1&&"idBlock"in r.algorithm.algorithmParams&&1===r.algorithm.algorithmParams.idBlock.tagClass&&6===r.algorithm.algorithmParams.idBlock.tagNumber&&(h=!0),!1===h)return Promise.reject("Incorrect type for ECDSA public key parameters");var m=this.getAlgorithmByOID(r.algorithm.algorithmParams.valueBlock.toString());if("name"in m==0)return Promise.reject("Unsupported named curve algorithm: ".concat(r.algorithm.algorithmParams.valueBlock.toString()));l.algorithm.algorithm.namedCurve=m.name}o=o.then((function(){return a.getPublicKey(r,null,l)}))}return o=o.then((function(r){var o=a.getAlgorithmParameters(r.algorithm.name,"verify");"hash"in o.algorithm&&(o.algorithm.hash.name=i);var s=t.valueBlock.valueHex;if("ECDSA"===r.algorithm.name){var l=u.fromBER(s);s=(0,c.createECDSASignatureFromCMS)(l.result)}if("RSA-PSS"===r.algorithm.name){var f;try{f=new d.default({schema:n.algorithmParams})}catch(e){return Promise.reject(e)}o.algorithm.saltLength="saltLength"in f?f.saltLength:20;var h="SHA-1";if("hashAlgorithm"in f){var m=a.getAlgorithmByOID(f.hashAlgorithm.algorithmId);if("name"in m==0)return Promise.reject("Unrecognized hash algorithm: ".concat(f.hashAlgorithm.algorithmId));h=m.name}o.algorithm.hash.name=h}return a.verify(o.algorithm,r,new Uint8Array(s),new Uint8Array(e))}))}}],r&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=j},{"./AlgorithmIdentifier.js":338,"./EncryptedContentInfo.js":368,"./PBES2Params.js":399,"./PBKDF2Params.js":400,"./PrivateKeyInfo.js":410,"./PublicKeyInfo.js":412,"./RSASSAPSSParams.js":417,"./common.js":444,asn1js:1,pvutils:447}],362:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),u=e("pvutils"),l=(o=e("./AlgorithmIdentifier.js"))&&o.__esModule?o:{default:o};function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}var f=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.digestAlgorithm=(0,u.getParametersValue)(t,"digestAlgorithm",e.defaultValues("digestAlgorithm")),this.digest=(0,u.getParametersValue)(t,"digest",e.defaultValues("digest")),"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,i=[{key:"defaultValues",value:function(e){switch(e){case"digestAlgorithm":return new l.default;case"digest":return new s.OctetString;default:throw new Error("Invalid member name for DigestInfo class: ".concat(e))}}},{key:"compareWithDefault",value:function(t,r){switch(t){case"digestAlgorithm":return l.default.compareWithDefault("algorithmId",r.algorithmId)&&"algorithmParams"in r==0;case"digest":return r.isEqual(e.defaultValues(t));default:throw new Error("Invalid member name for DigestInfo class: ".concat(t))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,u.getParametersValue)(e,"names",{});return new s.Sequence({name:t.blockName||"",value:[l.default.schema(t.digestAlgorithm||{names:{blockName:"digestAlgorithm"}}),new s.OctetString({name:t.digest||"digest"})]})}}],(r=[{key:"fromSchema",value:function(t){(0,u.clearProps)(t,["digestAlgorithm","digest"]);var r=s.compareSchema(t,t,e.schema({names:{digestAlgorithm:{names:{blockName:"digestAlgorithm"}},digest:"digest"}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for DigestInfo");this.digestAlgorithm=new l.default({schema:r.result.digestAlgorithm}),this.digest=r.result.digest}},{key:"toSchema",value:function(){return new s.Sequence({value:[this.digestAlgorithm.toSchema(),this.digest]})}},{key:"toJSON",value:function(){return{digestAlgorithm:this.digestAlgorithm.toJSON(),digest:this.digest.toJSON()}}}])&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=f},{"./AlgorithmIdentifier.js":338,asn1js:1,pvutils:447}],363:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=f(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),s=e("pvutils"),u=c(e("./GeneralName.js")),l=c(e("./RelativeDistinguishedNames.js"));function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(f=function(e){return e?r:t})(e)}var h=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),"distributionPoint"in t&&(this.distributionPoint=(0,s.getParametersValue)(t,"distributionPoint",e.defaultValues("distributionPoint"))),"reasons"in t&&(this.reasons=(0,s.getParametersValue)(t,"reasons",e.defaultValues("reasons"))),"cRLIssuer"in t&&(this.cRLIssuer=(0,s.getParametersValue)(t,"cRLIssuer",e.defaultValues("cRLIssuer"))),"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,i=[{key:"defaultValues",value:function(e){switch(e){case"distributionPoint":case"cRLIssuer":return[];case"reasons":return new o.BitString;default:throw new Error("Invalid member name for DistributionPoint class: ".concat(e))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,s.getParametersValue)(e,"names",{});return new o.Sequence({name:t.blockName||"",value:[new o.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new o.Choice({value:[new o.Constructed({name:t.distributionPoint||"",optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new o.Repeated({name:t.distributionPointNames||"",value:u.default.schema()})]}),new o.Constructed({name:t.distributionPoint||"",optional:!0,idBlock:{tagClass:3,tagNumber:1},value:l.default.schema().valueBlock.value})]})]}),new o.Primitive({name:t.reasons||"",optional:!0,idBlock:{tagClass:3,tagNumber:1}}),new o.Constructed({name:t.cRLIssuer||"",optional:!0,idBlock:{tagClass:3,tagNumber:2},value:[new o.Repeated({name:t.cRLIssuerNames||"",value:u.default.schema()})]})]})}}],(r=[{key:"fromSchema",value:function(t){(0,s.clearProps)(t,["distributionPoint","distributionPointNames","reasons","cRLIssuer","cRLIssuerNames"]);var r=o.compareSchema(t,t,e.schema({names:{distributionPoint:"distributionPoint",distributionPointNames:"distributionPointNames",reasons:"reasons",cRLIssuer:"cRLIssuer",cRLIssuerNames:"cRLIssuerNames"}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for DistributionPoint");"distributionPoint"in r.result&&(0===r.result.distributionPoint.idBlock.tagNumber&&(this.distributionPoint=Array.from(r.result.distributionPointNames,(function(e){return new u.default({schema:e})}))),1===r.result.distributionPoint.idBlock.tagNumber&&(this.distributionPoint=new l.default({schema:new o.Sequence({value:r.result.distributionPoint.valueBlock.value})}))),"reasons"in r.result&&(this.reasons=new o.BitString({valueHex:r.result.reasons.valueBlock.valueHex})),"cRLIssuer"in r.result&&(this.cRLIssuer=Array.from(r.result.cRLIssuerNames,(function(e){return new u.default({schema:e})})))}},{key:"toSchema",value:function(){var e,t=[];return"distributionPoint"in this&&(e=this.distributionPoint instanceof Array?new o.Constructed({idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.distributionPoint,(function(e){return e.toSchema()}))}):new o.Constructed({idBlock:{tagClass:3,tagNumber:1},value:[this.distributionPoint.toSchema()]}),t.push(new o.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[e]}))),"reasons"in this&&t.push(new o.Primitive({idBlock:{tagClass:3,tagNumber:1},valueHex:this.reasons.valueBlock.valueHex})),"cRLIssuer"in this&&t.push(new o.Constructed({idBlock:{tagClass:3,tagNumber:2},value:Array.from(this.cRLIssuer,(function(e){return e.toSchema()}))})),new o.Sequence({value:t})}},{key:"toJSON",value:function(){var e={};return"distributionPoint"in this&&(this.distributionPoint instanceof Array?e.distributionPoint=Array.from(this.distributionPoint,(function(e){return e.toJSON()})):e.distributionPoint=this.distributionPoint.toJSON()),"reasons"in this&&(e.reasons=this.reasons.toJSON()),"cRLIssuer"in this&&(e.cRLIssuer=Array.from(this.cRLIssuer,(function(e){return e.toJSON()}))),e}}])&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=h},{"./GeneralName.js":374,"./RelativeDistinguishedNames.js":423,asn1js:1,pvutils:447}],364:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),u=e("pvutils"),l=(o=e("./AlgorithmIdentifier.js"))&&o.__esModule?o:{default:o};function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}var f=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.keyInfo=(0,u.getParametersValue)(t,"keyInfo",e.defaultValues("keyInfo")),"entityUInfo"in t&&(this.entityUInfo=(0,u.getParametersValue)(t,"entityUInfo",e.defaultValues("entityUInfo"))),this.suppPubInfo=(0,u.getParametersValue)(t,"suppPubInfo",e.defaultValues("suppPubInfo")),"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,i=[{key:"defaultValues",value:function(e){switch(e){case"keyInfo":return new l.default;case"entityUInfo":case"suppPubInfo":return new s.OctetString;default:throw new Error("Invalid member name for ECCCMSSharedInfo class: ".concat(e))}}},{key:"compareWithDefault",value:function(t,r){switch(t){case"keyInfo":case"entityUInfo":case"suppPubInfo":return r.isEqual(e.defaultValues(t));default:throw new Error("Invalid member name for ECCCMSSharedInfo class: ".concat(t))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,u.getParametersValue)(e,"names",{});return new s.Sequence({name:t.blockName||"",value:[l.default.schema(t.keyInfo||{}),new s.Constructed({name:t.entityUInfo||"",idBlock:{tagClass:3,tagNumber:0},optional:!0,value:[new s.OctetString]}),new s.Constructed({name:t.suppPubInfo||"",idBlock:{tagClass:3,tagNumber:2},value:[new s.OctetString]})]})}}],(r=[{key:"fromSchema",value:function(t){(0,u.clearProps)(t,["keyInfo","entityUInfo","suppPubInfo"]);var r=s.compareSchema(t,t,e.schema({names:{keyInfo:{names:{blockName:"keyInfo"}},entityUInfo:"entityUInfo",suppPubInfo:"suppPubInfo"}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for ECCCMSSharedInfo");this.keyInfo=new l.default({schema:r.result.keyInfo}),"entityUInfo"in r.result&&(this.entityUInfo=r.result.entityUInfo.valueBlock.value[0]),this.suppPubInfo=r.result.suppPubInfo.valueBlock.value[0]}},{key:"toSchema",value:function(){var e=[];return e.push(this.keyInfo.toSchema()),"entityUInfo"in this&&e.push(new s.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[this.entityUInfo]})),e.push(new s.Constructed({idBlock:{tagClass:3,tagNumber:2},value:[this.suppPubInfo]})),new s.Sequence({value:e})}},{key:"toJSON",value:function(){var e={keyInfo:this.keyInfo.toJSON()};return"entityUInfo"in this&&(e.entityUInfo=this.entityUInfo.toJSON()),e.suppPubInfo=this.suppPubInfo.toJSON(),e}}])&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=f},{"./AlgorithmIdentifier.js":338,asn1js:1,pvutils:447}],365:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),u=e("pvutils"),l=(o=e("./ECPublicKey.js"))&&o.__esModule?o:{default:o};function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}var f=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.version=(0,u.getParametersValue)(t,"version",e.defaultValues("version")),this.privateKey=(0,u.getParametersValue)(t,"privateKey",e.defaultValues("privateKey")),"namedCurve"in t&&(this.namedCurve=(0,u.getParametersValue)(t,"namedCurve",e.defaultValues("namedCurve"))),"publicKey"in t&&(this.publicKey=(0,u.getParametersValue)(t,"publicKey",e.defaultValues("publicKey"))),"schema"in t&&this.fromSchema(t.schema),"json"in t&&this.fromJSON(t.json)}var t,r,i;return t=e,i=[{key:"defaultValues",value:function(e){switch(e){case"version":return 1;case"privateKey":return new s.OctetString;case"namedCurve":return"";case"publicKey":return new l.default;default:throw new Error("Invalid member name for ECCPrivateKey class: ".concat(e))}}},{key:"compareWithDefault",value:function(t,r){switch(t){case"version":return r===e.defaultValues(t);case"privateKey":return r.isEqual(e.defaultValues(t));case"namedCurve":return""===r;case"publicKey":return l.default.compareWithDefault("namedCurve",r.namedCurve)&&l.default.compareWithDefault("x",r.x)&&l.default.compareWithDefault("y",r.y);default:throw new Error("Invalid member name for ECCPrivateKey class: ".concat(t))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,u.getParametersValue)(e,"names",{});return new s.Sequence({name:t.blockName||"",value:[new s.Integer({name:t.version||""}),new s.OctetString({name:t.privateKey||""}),new s.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new s.ObjectIdentifier({name:t.namedCurve||""})]}),new s.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new s.BitString({name:t.publicKey||""})]})]})}}],(r=[{key:"fromSchema",value:function(t){(0,u.clearProps)(t,["version","privateKey","namedCurve","publicKey"]);var r=s.compareSchema(t,t,e.schema({names:{version:"version",privateKey:"privateKey",namedCurve:"namedCurve",publicKey:"publicKey"}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for ECPrivateKey");if(this.version=r.result.version.valueBlock.valueDec,this.privateKey=r.result.privateKey,"namedCurve"in r.result&&(this.namedCurve=r.result.namedCurve.valueBlock.toString()),"publicKey"in r.result){var n={schema:r.result.publicKey.valueBlock.valueHex};"namedCurve"in this&&(n.namedCurve=this.namedCurve),this.publicKey=new l.default(n)}}},{key:"toSchema",value:function(){var e=[new s.Integer({value:this.version}),this.privateKey];return"namedCurve"in this&&e.push(new s.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[new s.ObjectIdentifier({value:this.namedCurve})]})),"publicKey"in this&&e.push(new s.Constructed({idBlock:{tagClass:3,tagNumber:1},value:[new s.BitString({valueHex:this.publicKey.toSchema().toBER(!1)})]})),new s.Sequence({value:e})}},{key:"toJSON",value:function(){if("namedCurve"in this==0||e.compareWithDefault("namedCurve",this.namedCurve))throw new Error('Not enough information for making JSON: absent "namedCurve" value');var t="";switch(this.namedCurve){case"1.2.840.10045.3.1.7":t="P-256";break;case"1.3.132.0.34":t="P-384";break;case"1.3.132.0.35":t="P-521"}var r={crv:t,d:(0,u.toBase64)((0,u.arrayBufferToString)(this.privateKey.valueBlock.valueHex),!0,!0,!1)};if("publicKey"in this){var n=this.publicKey.toJSON();r.x=n.x,r.y=n.y}return r}},{key:"fromJSON",value:function(e){var t=0;if(!("crv"in e))throw new Error('Absent mandatory parameter "crv"');switch(e.crv.toUpperCase()){case"P-256":this.namedCurve="1.2.840.10045.3.1.7",t=32;break;case"P-384":this.namedCurve="1.3.132.0.34",t=48;break;case"P-521":this.namedCurve="1.3.132.0.35",t=66}if(!("d"in e))throw new Error('Absent mandatory parameter "d"');var r=(0,u.stringToArrayBuffer)((0,u.fromBase64)(e.d,!0));if(r.byteLength<t){var n=new ArrayBuffer(t),a=new Uint8Array(n),i=new Uint8Array(r);a.set(i,1),this.privateKey=new s.OctetString({valueHex:n})}else this.privateKey=new s.OctetString({valueHex:r.slice(0,t)});"x"in e&&"y"in e&&(this.publicKey=new l.default({json:e}))}}])&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=f},{"./ECPublicKey.js":366,asn1js:1,pvutils:447}],366:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),s=e("pvutils");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}var l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.x=(0,s.getParametersValue)(t,"x",e.defaultValues("x")),this.y=(0,s.getParametersValue)(t,"y",e.defaultValues("y")),this.namedCurve=(0,s.getParametersValue)(t,"namedCurve",e.defaultValues("namedCurve")),"schema"in t&&this.fromSchema(t.schema),"json"in t&&this.fromJSON(t.json)}var t,r,i;return t=e,i=[{key:"defaultValues",value:function(e){switch(e){case"x":case"y":return new ArrayBuffer(0);case"namedCurve":return"";default:throw new Error("Invalid member name for ECCPublicKey class: ".concat(e))}}},{key:"compareWithDefault",value:function(t,r){switch(t){case"x":case"y":return(0,s.isEqualBuffer)(r,e.defaultValues(t));case"namedCurve":return""===r;default:throw new Error("Invalid member name for ECCPublicKey class: ".concat(t))}}},{key:"schema",value:function(){return new o.RawData}}],(r=[{key:"fromSchema",value:function(e){if(e instanceof ArrayBuffer==0)throw new Error("Object's schema was not verified against input data for ECPublicKey");var t;if(4!==new Uint8Array(e)[0])throw new Error("Object's schema was not verified against input data for ECPublicKey");switch(this.namedCurve){case"1.2.840.10045.3.1.7":t=32;break;case"1.3.132.0.34":t=48;break;case"1.3.132.0.35":t=66;break;default:throw new Error("Incorrect curve OID: ".concat(this.namedCurve))}if(e.byteLength!==2*t+1)throw new Error("Object's schema was not verified against input data for ECPublicKey");this.x=e.slice(1,t+1),this.y=e.slice(1+t,2*t+1)}},{key:"toSchema",value:function(){return new o.RawData({data:(0,s.utilConcatBuf)(new Uint8Array([4]).buffer,this.x,this.y)})}},{key:"toJSON",value:function(){var e="";switch(this.namedCurve){case"1.2.840.10045.3.1.7":e="P-256";break;case"1.3.132.0.34":e="P-384";break;case"1.3.132.0.35":e="P-521"}return{crv:e,x:(0,s.toBase64)((0,s.arrayBufferToString)(this.x),!0,!0,!1),y:(0,s.toBase64)((0,s.arrayBufferToString)(this.y),!0,!0,!1)}}},{key:"fromJSON",value:function(e){var t=0;if(!("crv"in e))throw new Error('Absent mandatory parameter "crv"');switch(e.crv.toUpperCase()){case"P-256":this.namedCurve="1.2.840.10045.3.1.7",t=32;break;case"P-384":this.namedCurve="1.3.132.0.34",t=48;break;case"P-521":this.namedCurve="1.3.132.0.35",t=66}if(!("x"in e))throw new Error('Absent mandatory parameter "x"');var r=(0,s.stringToArrayBuffer)((0,s.fromBase64)(e.x,!0));if(r.byteLength<t){this.x=new ArrayBuffer(t);var n=new Uint8Array(this.x),a=new Uint8Array(r);n.set(a,1)}else this.x=r.slice(0,t);if(!("y"in e))throw new Error('Absent mandatory parameter "y"');var i=(0,s.stringToArrayBuffer)((0,s.fromBase64)(e.y,!0));if(i.byteLength<t){this.y=new ArrayBuffer(t);var o=new Uint8Array(this.y),u=new Uint8Array(i);o.set(u,1)}else this.y=i.slice(0,t)}}])&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=l},{asn1js:1,pvutils:447}],367:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),s=e("pvutils");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}var l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(n(this,e),this.eContentType=(0,s.getParametersValue)(t,"eContentType",e.defaultValues("eContentType")),"eContent"in t&&(this.eContent=(0,s.getParametersValue)(t,"eContent",e.defaultValues("eContent")),1===this.eContent.idBlock.tagClass&&4===this.eContent.idBlock.tagNumber&&!1===this.eContent.idBlock.isConstructed)){for(var r=new o.OctetString({idBlock:{isConstructed:!0},isConstructed:!0}),a=0,i=this.eContent.valueBlock.valueHex.byteLength;i>0;){for(var u=new Uint8Array(this.eContent.valueBlock.valueHex,a,a+65536>this.eContent.valueBlock.valueHex.byteLength?this.eContent.valueBlock.valueHex.byteLength-a:65536),l=new ArrayBuffer(u.length),c=new Uint8Array(l),f=0;f<c.length;f++)c[f]=u[f];r.valueBlock.value.push(new o.OctetString({valueHex:l})),i-=u.length,a+=u.length}this.eContent=r}"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,i=[{key:"defaultValues",value:function(e){switch(e){case"eContentType":return"";case"eContent":return new o.OctetString;default:throw new Error("Invalid member name for EncapsulatedContentInfo class: ".concat(e))}}},{key:"compareWithDefault",value:function(t,r){switch(t){case"eContentType":return""===r;case"eContent":return 1===r.idBlock.tagClass&&4===r.idBlock.tagNumber&&r.isEqual(e.defaultValues("eContent"));default:throw new Error("Invalid member name for EncapsulatedContentInfo class: ".concat(t))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,s.getParametersValue)(e,"names",{});return new o.Sequence({name:t.blockName||"",value:[new o.ObjectIdentifier({name:t.eContentType||""}),new o.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new o.Any({name:t.eContent||""})]})]})}}],(r=[{key:"fromSchema",value:function(t){(0,s.clearProps)(t,["eContentType","eContent"]);var r=o.compareSchema(t,t,e.schema({names:{eContentType:"eContentType",eContent:"eContent"}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for EncapsulatedContentInfo");this.eContentType=r.result.eContentType.valueBlock.toString(),"eContent"in r.result&&(this.eContent=r.result.eContent)}},{key:"toSchema",value:function(){var t=[];return t.push(new o.ObjectIdentifier({value:this.eContentType})),"eContent"in this&&!1===e.compareWithDefault("eContent",this.eContent)&&t.push(new o.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[this.eContent]})),new o.Sequence({value:t})}},{key:"toJSON",value:function(){var t={eContentType:this.eContentType};return"eContent"in this&&!1===e.compareWithDefault("eContent",this.eContent)&&(t.eContent=this.eContent.toJSON()),t}}])&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=l},{asn1js:1,pvutils:447}],368:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),u=e("pvutils"),l=(o=e("./AlgorithmIdentifier.js"))&&o.__esModule?o:{default:o};function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}var f=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(n(this,e),this.contentType=(0,u.getParametersValue)(t,"contentType",e.defaultValues("contentType")),this.contentEncryptionAlgorithm=(0,u.getParametersValue)(t,"contentEncryptionAlgorithm",e.defaultValues("contentEncryptionAlgorithm")),"encryptedContent"in t&&(this.encryptedContent=t.encryptedContent,1===this.encryptedContent.idBlock.tagClass&&4===this.encryptedContent.idBlock.tagNumber&&!1===this.encryptedContent.idBlock.isConstructed)){for(var r=new s.OctetString({idBlock:{isConstructed:!0},isConstructed:!0}),a=0,i=this.encryptedContent.valueBlock.valueHex.byteLength;i>0;){for(var o=new Uint8Array(this.encryptedContent.valueBlock.valueHex,a,a+1024>this.encryptedContent.valueBlock.valueHex.byteLength?this.encryptedContent.valueBlock.valueHex.byteLength-a:1024),l=new ArrayBuffer(o.length),c=new Uint8Array(l),f=0;f<c.length;f++)c[f]=o[f];r.valueBlock.value.push(new s.OctetString({valueHex:l})),i-=o.length,a+=o.length}this.encryptedContent=r}"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,i=[{key:"defaultValues",value:function(e){switch(e){case"contentType":return"";case"contentEncryptionAlgorithm":return new l.default;case"encryptedContent":return new s.OctetString;default:throw new Error("Invalid member name for EncryptedContentInfo class: ".concat(e))}}},{key:"compareWithDefault",value:function(t,r){switch(t){case"contentType":return""===r;case"contentEncryptionAlgorithm":return""===r.algorithmId&&"algorithmParams"in r==0;case"encryptedContent":return r.isEqual(e.defaultValues(t));default:throw new Error("Invalid member name for EncryptedContentInfo class: ".concat(t))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,u.getParametersValue)(e,"names",{});return new s.Sequence({name:t.blockName||"",value:[new s.ObjectIdentifier({name:t.contentType||""}),l.default.schema(t.contentEncryptionAlgorithm||{}),new s.Choice({value:[new s.Constructed({name:t.encryptedContent||"",idBlock:{tagClass:3,tagNumber:0},value:[new s.Repeated({value:new s.OctetString})]}),new s.Primitive({name:t.encryptedContent||"",idBlock:{tagClass:3,tagNumber:0}})]})]})}}],(r=[{key:"fromSchema",value:function(t){(0,u.clearProps)(t,["contentType","contentEncryptionAlgorithm","encryptedContent"]);var r=s.compareSchema(t,t,e.schema({names:{contentType:"contentType",contentEncryptionAlgorithm:{names:{blockName:"contentEncryptionAlgorithm"}},encryptedContent:"encryptedContent"}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for EncryptedContentInfo");this.contentType=r.result.contentType.valueBlock.toString(),this.contentEncryptionAlgorithm=new l.default({schema:r.result.contentEncryptionAlgorithm}),"encryptedContent"in r.result&&(this.encryptedContent=r.result.encryptedContent,this.encryptedContent.idBlock.tagClass=1,this.encryptedContent.idBlock.tagNumber=4)}},{key:"toSchema",value:function(){var e={isIndefiniteForm:!1},t=[];if(t.push(new s.ObjectIdentifier({value:this.contentType})),t.push(this.contentEncryptionAlgorithm.toSchema()),"encryptedContent"in this){e.isIndefiniteForm=this.encryptedContent.idBlock.isConstructed;var r=this.encryptedContent;r.idBlock.tagClass=3,r.idBlock.tagNumber=0,r.lenBlock.isIndefiniteForm=this.encryptedContent.idBlock.isConstructed,t.push(r)}return new s.Sequence({lenBlock:e,value:t})}},{key:"toJSON",value:function(){var e={contentType:this.contentType,contentEncryptionAlgorithm:this.contentEncryptionAlgorithm.toJSON()};return"encryptedContent"in this&&(e.encryptedContent=this.encryptedContent.toJSON()),e}}])&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=f},{"./AlgorithmIdentifier.js":338,asn1js:1,pvutils:447}],369:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=h(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),s=e("pvutils"),u=e("./common.js"),l=f(e("./EncryptedContentInfo.js")),c=f(e("./Attribute.js"));function f(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(h=function(e){return e?r:t})(e)}var m=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.version=(0,s.getParametersValue)(t,"version",e.defaultValues("version")),this.encryptedContentInfo=(0,s.getParametersValue)(t,"encryptedContentInfo",e.defaultValues("encryptedContentInfo")),"unprotectedAttrs"in t&&(this.unprotectedAttrs=(0,s.getParametersValue)(t,"unprotectedAttrs",e.defaultValues("unprotectedAttrs"))),"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,i=[{key:"defaultValues",value:function(e){switch(e){case"version":return 0;case"encryptedContentInfo":return new l.default;case"unprotectedAttrs":return[];default:throw new Error("Invalid member name for EncryptedData class: ".concat(e))}}},{key:"compareWithDefault",value:function(e,t){switch(e){case"version":return 0===t;case"encryptedContentInfo":return l.default.compareWithDefault("contentType",t.contentType)&&l.default.compareWithDefault("contentEncryptionAlgorithm",t.contentEncryptionAlgorithm)&&l.default.compareWithDefault("encryptedContent",t.encryptedContent);case"unprotectedAttrs":return 0===t.length;default:throw new Error("Invalid member name for EncryptedData class: ".concat(e))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,s.getParametersValue)(e,"names",{});return new o.Sequence({name:t.blockName||"",value:[new o.Integer({name:t.version||""}),l.default.schema(t.encryptedContentInfo||{}),new o.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new o.Repeated({name:t.unprotectedAttrs||"",value:c.default.schema()})]})]})}}],(r=[{key:"fromSchema",value:function(t){(0,s.clearProps)(t,["version","encryptedContentInfo","unprotectedAttrs"]);var r=o.compareSchema(t,t,e.schema({names:{version:"version",encryptedContentInfo:{names:{blockName:"encryptedContentInfo"}},unprotectedAttrs:"unprotectedAttrs"}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for EncryptedData");this.version=r.result.version.valueBlock.valueDec,this.encryptedContentInfo=new l.default({schema:r.result.encryptedContentInfo}),"unprotectedAttrs"in r.result&&(this.unprotectedAttrs=Array.from(r.result.unprotectedAttrs,(function(e){return new c.default({schema:e})})))}},{key:"toSchema",value:function(){var e=[];return e.push(new o.Integer({value:this.version})),e.push(this.encryptedContentInfo.toSchema()),"unprotectedAttrs"in this&&e.push(new o.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:Array.from(this.unprotectedAttrs,(function(e){return e.toSchema()}))})),new o.Sequence({value:e})}},{key:"toJSON",value:function(){var e={version:this.version,encryptedContentInfo:this.encryptedContentInfo.toJSON()};return"unprotectedAttrs"in this&&(e.unprotectedAttrs=Array.from(this.unprotectedAttrs,(function(e){return e.toJSON()}))),e}},{key:"encrypt",value:function(e){var t=this;if(e instanceof Object==0)return Promise.reject('Parameters must have type "Object"');var r=(0,u.getEngine)();return void 0===r?Promise.reject("Unable to initialize cryptographic engine"):(e.contentType="1.2.840.113549.1.7.1","encryptEncryptedContentInfo"in r.subtle?r.subtle.encryptEncryptedContentInfo(e).then((function(e){t.encryptedContentInfo=e})):Promise.reject('No support for "encryptEncryptedContentInfo" in current crypto engine '.concat(r.name)))}},{key:"decrypt",value:function(e){if(e instanceof Object==0)return Promise.reject('Parameters must have type "Object"');var t=(0,u.getEngine)();return void 0===t?Promise.reject("Unable to initialize cryptographic engine"):(e.encryptedContentInfo=this.encryptedContentInfo,"decryptEncryptedContentInfo"in t.subtle?t.subtle.decryptEncryptedContentInfo(e):Promise.reject('No support for "decryptEncryptedContentInfo" in current crypto engine '.concat(t.name)))}}])&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=m},{"./Attribute.js":340,"./EncryptedContentInfo.js":368,"./common.js":444,asn1js:1,pvutils:447}],370:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=x(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),s=e("pvutils"),u=e("./common.js"),l=I(e("./OriginatorInfo.js")),c=I(e("./RecipientInfo.js")),f=I(e("./EncryptedContentInfo.js")),h=I(e("./Attribute.js")),m=I(e("./AlgorithmIdentifier.js")),p=I(e("./RSAESOAEPParams.js")),d=I(e("./KeyTransRecipientInfo.js")),y=I(e("./IssuerAndSerialNumber.js")),v=I(e("./RecipientKeyIdentifier.js")),g=I(e("./RecipientEncryptedKey.js")),b=I(e("./KeyAgreeRecipientIdentifier.js")),w=I(e("./KeyAgreeRecipientInfo.js")),k=I(e("./RecipientEncryptedKeys.js")),S=I(e("./KEKRecipientInfo.js")),j=I(e("./KEKIdentifier.js")),P=I(e("./PBKDF2Params.js")),_=I(e("./PasswordRecipientinfo.js")),A=I(e("./ECCCMSSharedInfo.js")),O=I(e("./OriginatorIdentifierOrKey.js")),C=I(e("./OriginatorPublicKey.js"));function I(e){return e&&e.__esModule?e:{default:e}}function x(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(x=function(e){return e?r:t})(e)}function B(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function N(e,t,r,n,a,i,o){try{var s=e[i](o),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,a)}function V(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function o(e){N(i,n,a,o,s,"next",e)}function s(e){N(i,n,a,o,s,"throw",e)}o(void 0)}))}}var D={kdfAlgorithm:"SHA-512",kekEncryptionLength:256},R={"P-256":256,"P-384":384,"P-521":528},M=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.version=(0,s.getParametersValue)(t,"version",e.defaultValues("version")),"originatorInfo"in t&&(this.originatorInfo=(0,s.getParametersValue)(t,"originatorInfo",e.defaultValues("originatorInfo"))),this.recipientInfos=(0,s.getParametersValue)(t,"recipientInfos",e.defaultValues("recipientInfos")),this.encryptedContentInfo=(0,s.getParametersValue)(t,"encryptedContentInfo",e.defaultValues("encryptedContentInfo")),"unprotectedAttrs"in t&&(this.unprotectedAttrs=(0,s.getParametersValue)(t,"unprotectedAttrs",e.defaultValues("unprotectedAttrs"))),"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,r=[{key:"fromSchema",value:function(t){(0,s.clearProps)(t,["version","originatorInfo","recipientInfos","encryptedContentInfo","unprotectedAttrs"]);var r=o.compareSchema(t,t,e.schema({names:{version:"version",originatorInfo:"originatorInfo",recipientInfos:"recipientInfos",encryptedContentInfo:{names:{blockName:"encryptedContentInfo"}},unprotectedAttrs:"unprotectedAttrs"}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for EnvelopedData");this.version=r.result.version.valueBlock.valueDec,"originatorInfo"in r.result&&(this.originatorInfo=new l.default({schema:new o.Sequence({value:r.result.originatorInfo.valueBlock.value})})),this.recipientInfos=Array.from(r.result.recipientInfos,(function(e){return new c.default({schema:e})})),this.encryptedContentInfo=new f.default({schema:r.result.encryptedContentInfo}),"unprotectedAttrs"in r.result&&(this.unprotectedAttrs=Array.from(r.result.unprotectedAttrs,(function(e){return new h.default({schema:e})})))}},{key:"toSchema",value:function(){var e=[];return e.push(new o.Integer({value:this.version})),"originatorInfo"in this&&e.push(new o.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:this.originatorInfo.toSchema().valueBlock.value})),e.push(new o.Set({value:Array.from(this.recipientInfos,(function(e){return e.toSchema()}))})),e.push(this.encryptedContentInfo.toSchema()),"unprotectedAttrs"in this&&e.push(new o.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:Array.from(this.unprotectedAttrs,(function(e){return e.toSchema()}))})),new o.Sequence({value:e})}},{key:"toJSON",value:function(){var e={version:this.version};return"originatorInfo"in this&&(e.originatorInfo=this.originatorInfo.toJSON()),e.recipientInfos=Array.from(this.recipientInfos,(function(e){return e.toJSON()})),e.encryptedContentInfo=this.encryptedContentInfo.toJSON(),"unprotectedAttrs"in this&&(e.unprotectedAttrs=Array.from(this.unprotectedAttrs,(function(e){return e.toJSON()}))),e}},{key:"addRecipientByCertificate",value:function(e,t,r){var n=Object.assign({useOAEP:!0,oaepHashAlgorithm:"SHA-512"},D,t||{});if(-1!==e.subjectPublicKeyInfo.algorithm.algorithmId.indexOf("1.2.840.113549"))r=1;else{if(-1===e.subjectPublicKeyInfo.algorithm.algorithmId.indexOf("1.2.840.10045"))throw new Error("Unknown type of certificate's public key: ".concat(e.subjectPublicKeyInfo.algorithm.algorithmId));r=2}switch(r){case 1:var a,i;if(!0===n.useOAEP){if(""===(a=(0,u.getOIDByAlgorithm)({name:"RSA-OAEP"})))throw new Error("Can not find OID for RSA-OAEP");var s=(0,u.getOIDByAlgorithm)({name:n.oaepHashAlgorithm});if(""===s)throw new Error("Unknown OAEP hash algorithm: ".concat(n.oaepHashAlgorithm));var l=new m.default({algorithmId:s,algorithmParams:new o.Null});i=new p.default({hashAlgorithm:l,maskGenAlgorithm:new m.default({algorithmId:"1.2.840.113549.1.1.8",algorithmParams:l.toSchema()})}).toSchema()}else{if(""===(a=(0,u.getOIDByAlgorithm)({name:"RSAES-PKCS1-v1_5"})))throw new Error("Can not find OID for RSAES-PKCS1-v1_5");i=new o.Null}var f=new d.default({version:0,rid:new y.default({issuer:e.issuer,serialNumber:e.serialNumber}),keyEncryptionAlgorithm:new m.default({algorithmId:a,algorithmParams:i}),recipientCertificate:e});this.recipientInfos.push(new c.default({variant:1,value:f}));break;case 2:var h=new b.default({variant:1,value:new y.default({issuer:e.issuer,serialNumber:e.serialNumber})});this._addKeyAgreeRecipientInfo(h,n,{recipientCertificate:e});break;default:throw new Error('Unknown "variant" value: '.concat(r))}return!0}},{key:"addRecipientByPreDefinedData",value:function(e,t,r){var n=t||{};if(e instanceof ArrayBuffer==0)throw new Error('Please pass "preDefinedData" in ArrayBuffer type');if(0===e.byteLength)throw new Error("Pre-defined data could have zero length");if("keyIdentifier"in n==0){var a=new ArrayBuffer(16),i=new Uint8Array(a);(0,u.getRandomValues)(i),n.keyIdentifier=a}switch("hmacHashAlgorithm"in n==0&&(n.hmacHashAlgorithm="SHA-512"),"iterationCount"in n==0&&(n.iterationCount=2048),"keyEncryptionAlgorithm"in n==0&&(n.keyEncryptionAlgorithm={name:"AES-KW",length:256}),"keyEncryptionAlgorithmParams"in n==0&&(n.keyEncryptionAlgorithmParams=new o.Null),r){case 1:var s=(0,u.getOIDByAlgorithm)(n.keyEncryptionAlgorithm);if(""===s)throw new Error('Incorrect value for "keyEncryptionAlgorithm"');var l=new S.default({version:4,kekid:new j.default({keyIdentifier:new o.OctetString({valueHex:n.keyIdentifier})}),keyEncryptionAlgorithm:new m.default({algorithmId:s,algorithmParams:n.keyEncryptionAlgorithmParams}),preDefinedKEK:e});this.recipientInfos.push(new c.default({variant:3,value:l}));break;case 2:var f=(0,u.getOIDByAlgorithm)({name:"PBKDF2"});if(""===f)throw new Error("Can not find OID for PBKDF2");var h=new ArrayBuffer(64),p=new Uint8Array(h);(0,u.getRandomValues)(p);var d=(0,u.getOIDByAlgorithm)({name:"HMAC",hash:{name:n.hmacHashAlgorithm}});if(""===d)throw new Error('Incorrect value for "hmacHashAlgorithm": '.concat(n.hmacHashAlgorithm));var y=new P.default({salt:new o.OctetString({valueHex:h}),iterationCount:n.iterationCount,prf:new m.default({algorithmId:d,algorithmParams:new o.Null})}),v=(0,u.getOIDByAlgorithm)(n.keyEncryptionAlgorithm);if(""===v)throw new Error('Incorrect value for "keyEncryptionAlgorithm"');var g=new _.default({version:0,keyDerivationAlgorithm:new m.default({algorithmId:f,algorithmParams:y.toSchema()}),keyEncryptionAlgorithm:new m.default({algorithmId:v,algorithmParams:n.keyEncryptionAlgorithmParams}),password:e});this.recipientInfos.push(new c.default({variant:4,value:g}));break;default:throw new Error('Unknown value for "variant": '.concat(r))}}},{key:"addRecipientByKeyIdentifier",value:function(e,t,r){var n=Object.assign({},D,r||{}),a=new b.default({variant:2,value:new v.default({subjectKeyIdentifier:new o.OctetString({valueHex:t})})});this._addKeyAgreeRecipientInfo(a,n,{recipientPublicKey:e})}},{key:"_addKeyAgreeRecipientInfo",value:function(e,t,r){var n=new g.default({rid:e}),a=(0,u.getOIDByAlgorithm)({name:"AES-KW",length:t.kekEncryptionLength});if(""===a)throw new Error("Unknown length for key encryption algorithm: ".concat(t.kekEncryptionLength));var i=new m.default({algorithmId:a}),s=(0,u.getOIDByAlgorithm)({name:"ECDH",kdf:t.kdfAlgorithm});if(""===s)throw new Error("Unknown KDF algorithm: ".concat(t.kdfAlgorithm));var l=new ArrayBuffer(64),f=new Uint8Array(l);(0,u.getRandomValues)(f);var h={version:3,ukm:new o.OctetString({valueHex:l}),keyEncryptionAlgorithm:new m.default({algorithmId:s,algorithmParams:i.toSchema()}),recipientEncryptedKeys:new k.default({encryptedKeys:[n]})},p=new w.default(Object.assign(h,r));this.recipientInfos.push(new c.default({variant:2,value:p}))}},{key:"encrypt",value:function(e,t){var r=this,n=Promise.resolve(),a=new ArrayBuffer(16),i=new Uint8Array(a);(0,u.getRandomValues)(i);var s,l,c,h=new Uint8Array(t),d=[],y=this,v=(0,u.getOIDByAlgorithm)(e);if(""===v)return Promise.reject('Wrong "contentEncryptionAlgorithm" value');var g=(0,u.getCrypto)();if(void 0===g)return Promise.reject("Unable to create WebCrypto object");function b(e){var t,r,n,a,i,l,c=Promise.resolve(),f=y.recipientInfos[e];return c=(c=(c=(c=(c=(c=(c=(c=(c=c.then((function(){if(f.value.recipientPublicKey)return a=f.value.recipientPublicKey.algorithm.namedCurve,f.value.recipientPublicKey;var t=f.value.recipientCertificate.subjectPublicKeyInfo.algorithm.algorithmParams;if(t.constructor.blockName()!==o.ObjectIdentifier.blockName())return Promise.reject('Incorrect "recipientCertificate" for index '.concat(e));switch(t.valueBlock.toString()){case"1.2.840.10045.3.1.7":a="P-256";break;case"1.3.132.0.34":a="P-384";break;case"1.3.132.0.35":a="P-521";break;default:return Promise.reject("Incorrect curve OID for index ".concat(e))}return f.value.recipientCertificate.getPublicKey({algorithm:{algorithm:{name:"ECDH",namedCurve:a},usages:[]}})}),(function(e){return Promise.reject(e)}))).then((function(e){return n=e,i=R[a],g.generateKey({name:"ECDH",namedCurve:a},!0,["deriveBits"])}),(function(e){return Promise.reject(e)}))).then((function(e){return t=e.publicKey,r=e.privateKey,g.exportKey("spki",t)}),(function(e){return Promise.reject(e)}))).then((function(e){l=e}),(function(e){return Promise.reject(e)}))).then((function(){return g.deriveBits({name:"ECDH",public:n},r,i)}),(function(e){return Promise.reject(e)}))).then((function(e){var t=new m.default({schema:f.value.keyEncryptionAlgorithm.algorithmParams}),r=(0,u.getAlgorithmByOID)(t.algorithmId);if("name"in r==0)return Promise.reject("Incorrect OID for key encryption algorithm: ".concat(t.algorithmId));for(var n=r.length,a=new ArrayBuffer(4),i=new Uint8Array(a),s=3;s>=0;s--)i[s]=n,n>>=8;var l=new A.default({keyInfo:new m.default({algorithmId:t.algorithmId}),entityUInfo:f.value.ukm,suppPubInfo:new o.OctetString({valueHex:a})}).toSchema().toBER(!1),c=(0,u.getAlgorithmByOID)(f.value.keyEncryptionAlgorithm.algorithmId);return"name"in c==0?Promise.reject("Incorrect OID for key encryption algorithm: ".concat(f.value.keyEncryptionAlgorithm.algorithmId)):(0,u.kdf)(c.kdf,e,r.length,l)}),(function(e){return Promise.reject(e)}))).then((function(e){return g.importKey("raw",e,{name:"AES-KW"},!0,["wrapKey"])}),(function(e){return Promise.reject(e)}))).then((function(e){return g.wrapKey("raw",s,e,{name:"AES-KW"})}),(function(e){return Promise.reject(e)}))).then((function(e){var t=o.fromBER(l),n=new O.default;return n.variant=3,n.value=new C.default({schema:t.result}),f.value.originator=n,f.value.recipientEncryptedKeys.encryptedKeys[0].encryptedKey=new o.OctetString({valueHex:e}),{ecdhPrivateKey:r}}),(function(e){return Promise.reject(e)}))}function w(e){return k.apply(this,arguments)}function k(){return(k=V(regeneratorRuntime.mark((function e(t){var r,n,a,i,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("name"in(r=(0,u.getAlgorithmByOID)(y.recipientInfos[t].value.keyEncryptionAlgorithm.algorithmId))!=0){e.next=3;break}throw new Error("Unknown keyEncryptionAlgorithm: ".concat(y.recipientInfos[t].value.keyEncryptionAlgorithm.algorithmId));case 3:if("RSA-OAEP"!==r.name){e.next=9;break}if(n=y.recipientInfos[t].value.keyEncryptionAlgorithm.algorithmParams,a=new p.default({schema:n}),r.hash=(0,u.getAlgorithmByOID)(a.hashAlgorithm.algorithmId),"name"in r.hash!=0){e.next=9;break}throw new Error("Incorrect OID for hash algorithm: ".concat(a.hashAlgorithm.algorithmId));case 9:return e.prev=9,e.next=12,y.recipientInfos[t].value.recipientCertificate.getPublicKey({algorithm:{algorithm:r,usages:["encrypt","wrapKey"]}});case 12:return i=e.sent,e.next=15,g.encrypt(i.algorithm,i,c);case 15:s=e.sent,y.recipientInfos[t].value.encryptedKey=new o.OctetString({valueHex:s}),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(9);case 22:case"end":return e.stop()}}),e,null,[[9,19]])})))).apply(this,arguments)}function S(e){var t,r=Promise.resolve();return r=(r=(r=r.then((function(){return"name"in(t=(0,u.getAlgorithmByOID)(y.recipientInfos[e].value.keyEncryptionAlgorithm.algorithmId))==0?Promise.reject('Incorrect OID for "keyEncryptionAlgorithm": '.concat(y.recipientInfos[e].value.keyEncryptionAlgorithm.algorithmId)):g.importKey("raw",new Uint8Array(y.recipientInfos[e].value.preDefinedKEK),t,!0,["wrapKey"])}),(function(e){return Promise.reject(e)}))).then((function(e){return g.wrapKey("raw",s,e,t)}),(function(e){return Promise.reject(e)}))).then((function(t){y.recipientInfos[e].value.encryptedKey=new o.OctetString({valueHex:t})}),(function(e){return Promise.reject(e)}))}function j(e){var t,r,n=Promise.resolve();return n=(n=(n=(n=(n=n.then((function(){if("keyDerivationAlgorithm"in y.recipientInfos[e].value==0)return Promise.reject('Please append encoded "keyDerivationAlgorithm"');if("algorithmParams"in y.recipientInfos[e].value.keyDerivationAlgorithm==0)return Promise.reject('Incorrectly encoded "keyDerivationAlgorithm"');try{t=new P.default({schema:y.recipientInfos[e].value.keyDerivationAlgorithm.algorithmParams})}catch(e){return Promise.reject('Incorrectly encoded "keyDerivationAlgorithm"')}return Promise.resolve()}),(function(e){return Promise.reject(e)}))).then((function(){var t=new Uint8Array(y.recipientInfos[e].value.password);return g.importKey("raw",t,"PBKDF2",!1,["deriveKey"])}),(function(e){return Promise.reject(e)}))).then((function(n){if("name"in(r=(0,u.getAlgorithmByOID)(y.recipientInfos[e].value.keyEncryptionAlgorithm.algorithmId))==0)return Promise.reject('Incorrect OID for "keyEncryptionAlgorithm": '.concat(y.recipientInfos[e].value.keyEncryptionAlgorithm.algorithmId));var a="SHA-1";if("prf"in t){var i=(0,u.getAlgorithmByOID)(t.prf.algorithmId);if("name"in i==0)return Promise.reject("Incorrect OID for HMAC hash algorithm");a=i.hash.name}var o=new Uint8Array(t.salt.valueBlock.valueHex),s=t.iterationCount;return g.deriveKey({name:"PBKDF2",hash:{name:a},salt:o,iterations:s},n,r,!0,["wrapKey"])}),(function(e){return Promise.reject(e)}))).then((function(e){return g.wrapKey("raw",s,e,r)}),(function(e){return Promise.reject(e)}))).then((function(t){y.recipientInfos[e].value.encryptedKey=new o.OctetString({valueHex:t})}),(function(e){return Promise.reject(e)}))}return n=(n=(n=(n=(n=n.then((function(){return g.generateKey(e,!0,["encrypt"])}))).then((function(t){return s=t,g.encrypt({name:e.name,iv:i},s,h)}),(function(e){return Promise.reject(e)}))).then((function(e){return l=e,g.exportKey("raw",s)}),(function(e){return Promise.reject(e)})).then((function(e){return c=e,!0}),(function(e){return Promise.reject(e)}))).then((function(){r.version=2,r.encryptedContentInfo=new f.default({contentType:"1.2.840.113549.1.7.1",contentEncryptionAlgorithm:new m.default({algorithmId:v,algorithmParams:new o.OctetString({valueHex:a})}),encryptedContent:new o.OctetString({valueHex:l})})}),(function(e){return Promise.reject(e)}))).then((function(){for(var e=0;e<r.recipientInfos.length;e++){var t=Promise.resolve();switch(r.recipientInfos[e].variant){case 1:t=w(e);break;case 2:t=b(e);break;case 3:t=S(e);break;case 4:t=j(e);break;default:return Promise.reject("Uknown recipient type in array with index ".concat(e))}d.push(t)}return Promise.all(d)}),(function(e){return Promise.reject(e)}))}},{key:"decrypt",value:function(e,t){var r=this,n=Promise.resolve(),a=t||{},i=this;if(e+1>this.recipientInfos.length)return Promise.reject('Maximum value for "index" is: '.concat(this.recipientInfos.length-1));var l=(0,u.getCrypto)();if(void 0===l)return Promise.reject("Unable to create WebCrypto object");function c(){return(c=V(regeneratorRuntime.mark((function e(t){var r,n,o,s,c,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("recipientPrivateKey"in a!=0){e.next=2;break}throw new Error('Parameter "recipientPrivateKey" is mandatory for "KeyTransRecipientInfo"');case 2:if("name"in(r=(0,u.getAlgorithmByOID)(i.recipientInfos[t].value.keyEncryptionAlgorithm.algorithmId))!=0){e.next=5;break}throw new Error("Unknown keyEncryptionAlgorithm: ".concat(i.recipientInfos[t].value.keyEncryptionAlgorithm.algorithmId));case 5:if("RSA-OAEP"!==r.name){e.next=11;break}if(n=i.recipientInfos[t].value.keyEncryptionAlgorithm.algorithmParams,o=new p.default({schema:n}),r.hash=(0,u.getAlgorithmByOID)(o.hashAlgorithm.algorithmId),"name"in r.hash!=0){e.next=11;break}throw new Error("Incorrect OID for hash algorithm: ".concat(o.hashAlgorithm.algorithmId));case 11:return e.next=13,l.importKey("pkcs8",a.recipientPrivateKey,r,!0,["decrypt"]);case 13:return s=e.sent,e.next=16,l.decrypt(s.algorithm,s,i.recipientInfos[t].value.encryptedKey.valueBlock.valueHex);case 16:if(c=e.sent,"name"in(f=(0,u.getAlgorithmByOID)(i.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId))!=0){e.next=20;break}throw new Error('Incorrect "contentEncryptionAlgorithm": '.concat(i.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId));case 20:return e.abrupt("return",l.importKey("raw",c,f,!0,["decrypt"]));case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return n=n.then((function(){var t=Promise.resolve();switch(r.recipientInfos[e].variant){case 1:t=function(e){return c.apply(this,arguments)}(e);break;case 2:t=function(e){var t,r,n,s,c,f=Promise.resolve(),h=i.recipientInfos[e].value.originator;function p(t){t=t||!1;var r=new m.default({schema:i.recipientInfos[e].value.keyEncryptionAlgorithm.algorithmParams}),n=(0,u.getAlgorithmByOID)(r.algorithmId);if("name"in n==0)return Promise.reject("Incorrect OID for key encryption algorithm: ".concat(r.algorithmId));for(var a=n.length,s=new ArrayBuffer(4),l=new Uint8Array(s),f=3;f>=0;f--)l[f]=a,a>>=8;var h={algorithmId:r.algorithmId};t&&(h.algorithmParams=new o.Null);var p=new A.default({keyInfo:new m.default(h),entityUInfo:i.recipientInfos[e].value.ukm,suppPubInfo:new o.OctetString({valueHex:s})}).toSchema().toBER(!1),d=(0,u.getAlgorithmByOID)(i.recipientInfos[e].value.keyEncryptionAlgorithm.algorithmId);return"name"in d==0?Promise.reject("Incorrect OID for key encryption algorithm: ".concat(i.recipientInfos[e].value.keyEncryptionAlgorithm.algorithmId)):(0,u.kdf)(d.kdf,c,n.length,p)}function d(e){return l.importKey("raw",e,{name:"AES-KW"},!0,["unwrapKey"])}function y(t){var r=(0,u.getAlgorithmByOID)(i.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId);return"name"in r==0?Promise.reject('Incorrect "contentEncryptionAlgorithm": '.concat(i.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId)):l.unwrapKey("raw",i.recipientInfos[e].value.recipientEncryptedKeys.encryptedKeys[0].encryptedKey.valueBlock.valueHex,t,{name:"AES-KW"},r,!0,["decrypt"])}return(f=(f=(f=(f=(f=f.then((function(){if("recipientCertificate"in a){var i=a.recipientCertificate.subjectPublicKeyInfo.algorithm.algorithmParams;if(i.constructor.blockName()!==o.ObjectIdentifier.blockName())return Promise.reject('Incorrect "recipientCertificate" for index '.concat(e));n=i.valueBlock.toString()}else{if(!("algorithmParams"in h.value.algorithm))return Promise.reject('Parameter "recipientCertificate" is mandatory for "KeyAgreeRecipientInfo" if algorithm params are missing from originator');var s=h.value.algorithm.algorithmParams;if(s.constructor.blockName()!==o.ObjectIdentifier.blockName())return Promise.reject("Incorrect originator for index ".concat(e));n=s.valueBlock.toString()}if("recipientPrivateKey"in a==0)return Promise.reject('Parameter "recipientPrivateKey" is mandatory for "KeyAgreeRecipientInfo"');switch(n){case"1.2.840.10045.3.1.7":t="P-256",r=256;break;case"1.3.132.0.34":t="P-384",r=384;break;case"1.3.132.0.35":t="P-521",r=528;break;default:return Promise.reject("Incorrect curve OID for index ".concat(e))}return l.importKey("pkcs8",a.recipientPrivateKey,{name:"ECDH",namedCurve:t},!0,["deriveBits"])}),(function(e){return Promise.reject(e)}))).then((function(e){s=e,"algorithmParams"in h.value.algorithm==0&&(h.value.algorithm.algorithmParams=new o.ObjectIdentifier({value:n}));var r=h.value.toSchema().toBER(!1);return l.importKey("spki",r,{name:"ECDH",namedCurve:t},!0,[])}),(function(e){return Promise.reject(e)}))).then((function(e){return l.deriveBits({name:"ECDH",public:e},s,r)}),(function(e){return Promise.reject(e)}))).then((function(e){return c=e,p()}),(function(e){return Promise.reject(e)}))).then(d,(function(e){return Promise.reject(e)}))).then((function(e){return y(e).catch((function(){return p(!0).then(d).then(y)}))}),(function(e){return Promise.reject(e)}))}(e);break;case 3:t=function(e){var t,r=Promise.resolve();return(r=r.then((function(){return"preDefinedData"in a==0?Promise.reject('Parameter "preDefinedData" is mandatory for "KEKRecipientInfo"'):"name"in(t=(0,u.getAlgorithmByOID)(i.recipientInfos[e].value.keyEncryptionAlgorithm.algorithmId))==0?Promise.reject('Incorrect OID for "keyEncryptionAlgorithm": '.concat(i.recipientInfos[e].value.keyEncryptionAlgorithm.algorithmId)):l.importKey("raw",a.preDefinedData,t,!0,["unwrapKey"])}),(function(e){return Promise.reject(e)}))).then((function(r){var n=(0,u.getAlgorithmByOID)(i.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId);return"name"in n==0?Promise.reject('Incorrect "contentEncryptionAlgorithm": '.concat(i.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId)):l.unwrapKey("raw",i.recipientInfos[e].value.encryptedKey.valueBlock.valueHex,r,t,n,!0,["decrypt"])}),(function(e){return Promise.reject(e)}))}(e);break;case 4:t=function(e){var t,r,n=Promise.resolve();return(n=(n=n.then((function(){if("preDefinedData"in a==0)return Promise.reject('Parameter "preDefinedData" is mandatory for "KEKRecipientInfo"');if("keyDerivationAlgorithm"in i.recipientInfos[e].value==0)return Promise.reject('Please append encoded "keyDerivationAlgorithm"');if("algorithmParams"in i.recipientInfos[e].value.keyDerivationAlgorithm==0)return Promise.reject('Incorrectly encoded "keyDerivationAlgorithm"');try{t=new P.default({schema:i.recipientInfos[e].value.keyDerivationAlgorithm.algorithmParams})}catch(e){return Promise.reject('Incorrectly encoded "keyDerivationAlgorithm"')}return l.importKey("raw",a.preDefinedData,"PBKDF2",!1,["deriveKey"])}),(function(e){return Promise.reject(e)}))).then((function(n){if("name"in(r=(0,u.getAlgorithmByOID)(i.recipientInfos[e].value.keyEncryptionAlgorithm.algorithmId))==0)return Promise.reject('Incorrect OID for "keyEncryptionAlgorithm": '.concat(i.recipientInfos[e].value.keyEncryptionAlgorithm.algorithmId));var a="SHA-1";if("prf"in t){var o=(0,u.getAlgorithmByOID)(t.prf.algorithmId);if("name"in o==0)return Promise.reject("Incorrect OID for HMAC hash algorithm");a=o.hash.name}var s=new Uint8Array(t.salt.valueBlock.valueHex),c=t.iterationCount;return l.deriveKey({name:"PBKDF2",hash:{name:a},salt:s,iterations:c},n,r,!0,["unwrapKey"])}),(function(e){return Promise.reject(e)}))).then((function(t){var n=(0,u.getAlgorithmByOID)(i.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId);return"name"in n==0?Promise.reject('Incorrect "contentEncryptionAlgorithm": '.concat(i.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId)):l.unwrapKey("raw",i.recipientInfos[e].value.encryptedKey.valueBlock.valueHex,t,r,n,!0,["decrypt"])}),(function(e){return Promise.reject(e)}))}(e);break;default:return Promise.reject("Uknown recipient type in array with index ".concat(e))}return t}),(function(e){return Promise.reject(e)})),n=n.then((function(e){var t=(0,u.getAlgorithmByOID)(r.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId);if("name"in t==0)return Promise.reject('Incorrect "contentEncryptionAlgorithm": '.concat(r.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId));var n=r.encryptedContentInfo.contentEncryptionAlgorithm.algorithmParams.valueBlock.valueHex,a=new Uint8Array(n),i=new ArrayBuffer(0);if(!1===r.encryptedContentInfo.encryptedContent.idBlock.isConstructed)i=r.encryptedContentInfo.encryptedContent.valueBlock.valueHex;else{var o,c=B(r.encryptedContentInfo.encryptedContent.valueBlock.value);try{for(c.s();!(o=c.n()).done;){var f=o.value;i=(0,s.utilConcatBuf)(i,f.valueBlock.valueHex)}}catch(e){c.e(e)}finally{c.f()}}return l.decrypt({name:t.name,iv:a},e,i)}),(function(e){return Promise.reject(e)}))}}],i=[{key:"defaultValues",value:function(e){switch(e){case"version":return 0;case"originatorInfo":return new l.default;case"recipientInfos":case"unprotectedAttrs":return[];case"encryptedContentInfo":return new f.default;default:throw new Error("Invalid member name for EnvelopedData class: ".concat(e))}}},{key:"compareWithDefault",value:function(t,r){switch(t){case"version":return r===e.defaultValues(t);case"originatorInfo":return 0===r.certs.certificates.length&&0===r.crls.crls.length;case"recipientInfos":case"unprotectedAttrs":return 0===r.length;case"encryptedContentInfo":return f.default.compareWithDefault("contentType",r.contentType)&&f.default.compareWithDefault("contentEncryptionAlgorithm",r.contentEncryptionAlgorithm)&&f.default.compareWithDefault("encryptedContent",r.encryptedContent);default:throw new Error("Invalid member name for EnvelopedData class: ".concat(t))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,s.getParametersValue)(e,"names",{});return new o.Sequence({name:t.blockName||"",value:[new o.Integer({name:t.version||""}),new o.Constructed({name:t.originatorInfo||"",optional:!0,idBlock:{tagClass:3,tagNumber:0},value:l.default.schema().valueBlock.value}),new o.Set({value:[new o.Repeated({name:t.recipientInfos||"",value:c.default.schema()})]}),f.default.schema(t.encryptedContentInfo||{}),new o.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new o.Repeated({name:t.unprotectedAttrs||"",value:h.default.schema()})]})]})}}],r&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=M},{"./AlgorithmIdentifier.js":338,"./Attribute.js":340,"./ECCCMSSharedInfo.js":364,"./EncryptedContentInfo.js":368,"./IssuerAndSerialNumber.js":378,"./KEKIdentifier.js":380,"./KEKRecipientInfo.js":381,"./KeyAgreeRecipientIdentifier.js":382,"./KeyAgreeRecipientInfo.js":383,"./KeyTransRecipientInfo.js":385,"./OriginatorIdentifierOrKey.js":391,"./OriginatorInfo.js":392,"./OriginatorPublicKey.js":393,"./PBKDF2Params.js":400,"./PasswordRecipientinfo.js":404,"./RSAESOAEPParams.js":414,"./RecipientEncryptedKey.js":418,"./RecipientEncryptedKeys.js":419,"./RecipientInfo.js":421,"./RecipientKeyIdentifier.js":422,"./common.js":444,asn1js:1,pvutils:447}],371:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),s=e("pvutils");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}var l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.keyPurposes=(0,s.getParametersValue)(t,"keyPurposes",e.defaultValues("keyPurposes")),"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,i=[{key:"defaultValues",value:function(e){if("keyPurposes"===e)return[];throw new Error("Invalid member name for ExtKeyUsage class: ".concat(e))}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,s.getParametersValue)(e,"names",{});return new o.Sequence({name:t.blockName||"",value:[new o.Repeated({name:t.keyPurposes||"",value:new o.ObjectIdentifier})]})}}],(r=[{key:"fromSchema",value:function(t){(0,s.clearProps)(t,["keyPurposes"]);var r=o.compareSchema(t,t,e.schema({names:{keyPurposes:"keyPurposes"}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for ExtKeyUsage");this.keyPurposes=Array.from(r.result.keyPurposes,(function(e){return e.valueBlock.toString()}))}},{key:"toSchema",value:function(){return new o.Sequence({value:Array.from(this.keyPurposes,(function(e){return new o.ObjectIdentifier({value:e})}))})}},{key:"toJSON",value:function(){return{keyPurposes:Array.from(this.keyPurposes)}}}])&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=l},{asn1js:1,pvutils:447}],372:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=O(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),s=e("pvutils"),u=A(e("./SubjectDirectoryAttributes.js")),l=A(e("./PrivateKeyUsagePeriod.js")),c=A(e("./AltName.js")),f=A(e("./BasicConstraints.js")),h=A(e("./IssuingDistributionPoint.js")),m=A(e("./GeneralNames.js")),p=A(e("./NameConstraints.js")),d=A(e("./CRLDistributionPoints.js")),y=A(e("./CertificatePolicies.js")),v=A(e("./PolicyMappings.js")),g=A(e("./AuthorityKeyIdentifier.js")),b=A(e("./PolicyConstraints.js")),w=A(e("./ExtKeyUsage.js")),k=A(e("./InfoAccess.js")),S=A(e("./SignedCertificateTimestampList.js")),j=A(e("./CertificateTemplate.js")),P=A(e("./CAVersion.js")),_=A(e("./QCStatements.js"));function A(e){return e&&e.__esModule?e:{default:e}}function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(O=function(e){return e?r:t})(e)}var C=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.extnID=(0,s.getParametersValue)(t,"extnID",e.defaultValues("extnID")),this.critical=(0,s.getParametersValue)(t,"critical",e.defaultValues("critical")),this.extnValue="extnValue"in t?new o.OctetString({valueHex:t.extnValue}):e.defaultValues("extnValue"),"parsedValue"in t&&(this.parsedValue=(0,s.getParametersValue)(t,"parsedValue",e.defaultValues("parsedValue"))),"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,i=[{key:"defaultValues",value:function(e){switch(e){case"extnID":return"";case"critical":return!1;case"extnValue":return new o.OctetString;case"parsedValue":return{};default:throw new Error("Invalid member name for Extension class: ".concat(e))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,s.getParametersValue)(e,"names",{});return new o.Sequence({name:t.blockName||"",value:[new o.ObjectIdentifier({name:t.extnID||""}),new o.Boolean({name:t.critical||"",optional:!0}),new o.OctetString({name:t.extnValue||""})]})}}],(r=[{key:"fromSchema",value:function(t){(0,s.clearProps)(t,["extnID","critical","extnValue"]);var r=o.compareSchema(t,t,e.schema({names:{extnID:"extnID",critical:"critical",extnValue:"extnValue"}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for Extension");if(this.extnID=r.result.extnID.valueBlock.toString(),"critical"in r.result&&(this.critical=r.result.critical.valueBlock.value),this.extnValue=r.result.extnValue,-1!==(r=o.fromBER(this.extnValue.valueBlock.valueHex)).offset)switch(this.extnID){case"2.5.29.9":try{this.parsedValue=new u.default({schema:r.result})}catch(e){this.parsedValue=new u.default,this.parsedValue.parsingError="Incorrectly formated SubjectDirectoryAttributes"}break;case"2.5.29.14":case"2.5.29.15":case"2.5.29.20":case"2.5.29.27":case"2.5.29.21":case"2.5.29.24":case"2.5.29.54":case"1.3.6.1.4.1.311.20.2":case"1.3.6.1.4.1.311.21.2":this.parsedValue=r.result;break;case"2.5.29.16":try{this.parsedValue=new l.default({schema:r.result})}catch(e){this.parsedValue=new l.default,this.parsedValue.parsingError="Incorrectly formated PrivateKeyUsagePeriod"}break;case"2.5.29.17":case"2.5.29.18":try{this.parsedValue=new c.default({schema:r.result})}catch(e){this.parsedValue=new c.default,this.parsedValue.parsingError="Incorrectly formated AltName"}break;case"2.5.29.19":try{this.parsedValue=new f.default({schema:r.result})}catch(e){this.parsedValue=new f.default,this.parsedValue.parsingError="Incorrectly formated BasicConstraints"}break;case"2.5.29.28":try{this.parsedValue=new h.default({schema:r.result})}catch(e){this.parsedValue=new h.default,this.parsedValue.parsingError="Incorrectly formated IssuingDistributionPoint"}break;case"2.5.29.29":try{this.parsedValue=new m.default({schema:r.result})}catch(e){this.parsedValue=new m.default,this.parsedValue.parsingError="Incorrectly formated GeneralNames"}break;case"2.5.29.30":try{this.parsedValue=new p.default({schema:r.result})}catch(e){this.parsedValue=new p.default,this.parsedValue.parsingError="Incorrectly formated NameConstraints"}break;case"2.5.29.31":case"2.5.29.46":try{this.parsedValue=new d.default({schema:r.result})}catch(e){this.parsedValue=new d.default,this.parsedValue.parsingError="Incorrectly formated CRLDistributionPoints"}break;case"2.5.29.32":case"1.3.6.1.4.1.311.21.10":try{this.parsedValue=new y.default({schema:r.result})}catch(e){this.parsedValue=new y.default,this.parsedValue.parsingError="Incorrectly formated CertificatePolicies"}break;case"2.5.29.33":try{this.parsedValue=new v.default({schema:r.result})}catch(e){this.parsedValue=new v.default,this.parsedValue.parsingError="Incorrectly formated CertificatePolicies"}break;case"2.5.29.35":try{this.parsedValue=new g.default({schema:r.result})}catch(e){this.parsedValue=new g.default,this.parsedValue.parsingError="Incorrectly formated AuthorityKeyIdentifier"}break;case"2.5.29.36":try{this.parsedValue=new b.default({schema:r.result})}catch(e){this.parsedValue=new b.default,this.parsedValue.parsingError="Incorrectly formated PolicyConstraints"}break;case"2.5.29.37":try{this.parsedValue=new w.default({schema:r.result})}catch(e){this.parsedValue=new w.default,this.parsedValue.parsingError="Incorrectly formated ExtKeyUsage"}break;case"1.3.6.1.5.5.7.1.1":case"1.3.6.1.5.5.7.1.11":try{this.parsedValue=new k.default({schema:r.result})}catch(e){this.parsedValue=new k.default,this.parsedValue.parsingError="Incorrectly formated InfoAccess"}break;case"1.3.6.1.4.1.11129.2.4.2":try{this.parsedValue=new S.default({schema:r.result})}catch(e){this.parsedValue=new S.default,this.parsedValue.parsingError="Incorrectly formated SignedCertificateTimestampList"}break;case"1.3.6.1.4.1.311.21.7":try{this.parsedValue=new j.default({schema:r.result})}catch(e){this.parsedValue=new j.default,this.parsedValue.parsingError="Incorrectly formated CertificateTemplate"}break;case"1.3.6.1.4.1.311.21.1":try{this.parsedValue=new P.default({schema:r.result})}catch(e){this.parsedValue=new P.default,this.parsedValue.parsingError="Incorrectly formated CAVersion"}break;case"1.3.6.1.5.5.7.1.3":try{this.parsedValue=new _.default({schema:r.result})}catch(e){this.parsedValue=new _.default,this.parsedValue.parsingError="Incorrectly formated QCStatements"}}}},{key:"toSchema",value:function(){var t=[];return t.push(new o.ObjectIdentifier({value:this.extnID})),this.critical!==e.defaultValues("critical")&&t.push(new o.Boolean({value:this.critical})),t.push(this.extnValue),new o.Sequence({value:t})}},{key:"toJSON",value:function(){var t={extnID:this.extnID,extnValue:this.extnValue.toJSON()};return this.critical!==e.defaultValues("critical")&&(t.critical=this.critical),"parsedValue"in this&&"toJSON"in this.parsedValue&&(t.parsedValue=this.parsedValue.toJSON()),t}}])&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=C},{"./AltName.js":339,"./AuthorityKeyIdentifier.js":345,"./BasicConstraints.js":346,"./CAVersion.js":348,"./CRLDistributionPoints.js":350,"./CertificatePolicies.js":355,"./CertificateTemplate.js":358,"./ExtKeyUsage.js":371,"./GeneralNames.js":375,"./InfoAccess.js":377,"./IssuingDistributionPoint.js":379,"./NameConstraints.js":388,"./PolicyConstraints.js":405,"./PolicyMappings.js":408,"./PrivateKeyUsagePeriod.js":411,"./QCStatements.js":413,"./SignedCertificateTimestampList.js":434,"./SubjectDirectoryAttributes.js":438,asn1js:1,pvutils:447}],373:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),u=e("pvutils"),l=(o=e("./Extension.js"))&&o.__esModule?o:{default:o};function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}var f=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.extensions=(0,u.getParametersValue)(t,"extensions",e.defaultValues("extensions")),"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,i=[{key:"defaultValues",value:function(e){if("extensions"===e)return[];throw new Error("Invalid member name for Extensions class: ".concat(e))}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=(0,u.getParametersValue)(e,"names",{});return new s.Sequence({optional:t,name:r.blockName||"",value:[new s.Repeated({name:r.extensions||"",value:l.default.schema(r.extension||{})})]})}}],(r=[{key:"fromSchema",value:function(t){(0,u.clearProps)(t,["extensions"]);var r=s.compareSchema(t,t,e.schema({names:{extensions:"extensions"}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for Extensions");this.extensions=Array.from(r.result.extensions,(function(e){return new l.default({schema:e})}))}},{key:"toSchema",value:function(){return new s.Sequence({value:Array.from(this.extensions,(function(e){return e.toSchema()}))})}},{key:"toJSON",value:function(){return{extensions:Array.from(this.extensions,(function(e){return e.toJSON()}))}}}])&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=f},{"./Extension.js":372,asn1js:1,pvutils:447}],374:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),u=e("pvutils"),l=(o=e("./RelativeDistinguishedNames.js"))&&o.__esModule?o:{default:o};function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=(0,u.getParametersValue)(e,"names",{});return new s.Sequence({optional:t,value:[new s.Constructed({optional:!0,idBlock:{tagClass:2,tagNumber:1},name:r.country_name||"",value:[new s.Choice({value:[new s.NumericString,new s.PrintableString]})]}),new s.Constructed({optional:!0,idBlock:{tagClass:2,tagNumber:2},name:r.administration_domain_name||"",value:[new s.Choice({value:[new s.NumericString,new s.PrintableString]})]}),new s.Primitive({optional:!0,idBlock:{tagClass:3,tagNumber:0},name:r.network_address||"",isHexOnly:!0}),new s.Primitive({optional:!0,idBlock:{tagClass:3,tagNumber:1},name:r.terminal_identifier||"",isHexOnly:!0}),new s.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:2},name:r.private_domain_name||"",value:[new s.Choice({value:[new s.NumericString,new s.PrintableString]})]}),new s.Primitive({optional:!0,idBlock:{tagClass:3,tagNumber:3},name:r.organization_name||"",isHexOnly:!0}),new s.Primitive({optional:!0,name:r.numeric_user_identifier||"",idBlock:{tagClass:3,tagNumber:4},isHexOnly:!0}),new s.Constructed({optional:!0,name:r.personal_name||"",idBlock:{tagClass:3,tagNumber:5},value:[new s.Primitive({idBlock:{tagClass:3,tagNumber:0},isHexOnly:!0}),new s.Primitive({optional:!0,idBlock:{tagClass:3,tagNumber:1},isHexOnly:!0}),new s.Primitive({optional:!0,idBlock:{tagClass:3,tagNumber:2},isHexOnly:!0}),new s.Primitive({optional:!0,idBlock:{tagClass:3,tagNumber:3},isHexOnly:!0})]}),new s.Constructed({optional:!0,name:r.organizational_unit_names||"",idBlock:{tagClass:3,tagNumber:6},value:[new s.Repeated({value:new s.PrintableString})]})]})}function h(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new s.Sequence({optional:e,value:[new s.PrintableString,new s.PrintableString]})}function m(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new s.Set({optional:e,value:[new s.Primitive({optional:!0,idBlock:{tagClass:3,tagNumber:0},isHexOnly:!0}),new s.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new s.Any]})]})}var p=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.type=(0,u.getParametersValue)(t,"type",e.defaultValues("type")),this.value=(0,u.getParametersValue)(t,"value",e.defaultValues("value")),"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,i=[{key:"defaultValues",value:function(e){switch(e){case"type":return 9;case"value":return{};default:throw new Error("Invalid member name for GeneralName class: ".concat(e))}}},{key:"compareWithDefault",value:function(t,r){switch(t){case"type":return r===e.defaultValues(t);case"value":return 0===Object.keys(r).length;default:throw new Error("Invalid member name for GeneralName class: ".concat(t))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,u.getParametersValue)(e,"names",{});return new s.Choice({value:[new s.Constructed({idBlock:{tagClass:3,tagNumber:0},name:t.blockName||"",value:[new s.ObjectIdentifier,new s.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[new s.Any]})]}),new s.Primitive({name:t.blockName||"",idBlock:{tagClass:3,tagNumber:1}}),new s.Primitive({name:t.blockName||"",idBlock:{tagClass:3,tagNumber:2}}),new s.Constructed({idBlock:{tagClass:3,tagNumber:3},name:t.blockName||"",value:[f(t.builtInStandardAttributes||{},!1),h(!0),m(!0)]}),new s.Constructed({idBlock:{tagClass:3,tagNumber:4},name:t.blockName||"",value:[l.default.schema(t.directoryName||{})]}),new s.Constructed({idBlock:{tagClass:3,tagNumber:5},name:t.blockName||"",value:[new s.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new s.Choice({value:[new s.TeletexString,new s.PrintableString,new s.UniversalString,new s.Utf8String,new s.BmpString]})]}),new s.Constructed({idBlock:{tagClass:3,tagNumber:1},value:[new s.Choice({value:[new s.TeletexString,new s.PrintableString,new s.UniversalString,new s.Utf8String,new s.BmpString]})]})]}),new s.Primitive({name:t.blockName||"",idBlock:{tagClass:3,tagNumber:6}}),new s.Primitive({name:t.blockName||"",idBlock:{tagClass:3,tagNumber:7}}),new s.Primitive({name:t.blockName||"",idBlock:{tagClass:3,tagNumber:8}})]})}}],(r=[{key:"fromSchema",value:function(t){(0,u.clearProps)(t,["blockName","otherName","rfc822Name","dNSName","x400Address","directoryName","ediPartyName","uniformResourceIdentifier","iPAddress","registeredID"]);var r=s.compareSchema(t,t,e.schema({names:{blockName:"blockName",otherName:"otherName",rfc822Name:"rfc822Name",dNSName:"dNSName",x400Address:"x400Address",directoryName:{names:{blockName:"directoryName"}},ediPartyName:"ediPartyName",uniformResourceIdentifier:"uniformResourceIdentifier",iPAddress:"iPAddress",registeredID:"registeredID"}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for GeneralName");switch(this.type=r.result.blockName.idBlock.tagNumber,this.type){case 0:case 3:this.value=r.result.blockName;break;case 1:case 2:case 6:var n=r.result.blockName;n.idBlock.tagClass=1,n.idBlock.tagNumber=22;var a=n.toBER(!1);this.value=s.fromBER(a).result.valueBlock.value;break;case 4:this.value=new l.default({schema:r.result.directoryName});break;case 5:this.value=r.result.ediPartyName;break;case 7:this.value=new s.OctetString({valueHex:r.result.blockName.valueBlock.valueHex});break;case 8:var i=r.result.blockName;i.idBlock.tagClass=1,i.idBlock.tagNumber=6;var o=i.toBER(!1);this.value=s.fromBER(o).result.valueBlock.toString()}}},{key:"toSchema",value:function(){switch(this.type){case 0:case 3:case 5:return new s.Constructed({idBlock:{tagClass:3,tagNumber:this.type},value:[this.value]});case 1:case 2:case 6:var t=new s.IA5String({value:this.value});return t.idBlock.tagClass=3,t.idBlock.tagNumber=this.type,t;case 4:return new s.Constructed({idBlock:{tagClass:3,tagNumber:4},value:[this.value.toSchema()]});case 7:var r=this.value;return r.idBlock.tagClass=3,r.idBlock.tagNumber=this.type,r;case 8:var n=new s.ObjectIdentifier({value:this.value});return n.idBlock.tagClass=3,n.idBlock.tagNumber=this.type,n;default:return e.schema()}}},{key:"toJSON",value:function(){var e={type:this.type,value:""};if("string"==typeof this.value)e.value=this.value;else try{e.value=this.value.toJSON()}catch(e){}return e}}])&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=p},{"./RelativeDistinguishedNames.js":423,asn1js:1,pvutils:447}],375:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),u=e("pvutils"),l=(o=e("./GeneralName.js"))&&o.__esModule?o:{default:o};function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}var f=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.names=(0,u.getParametersValue)(t,"names",e.defaultValues("names")),"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,i=[{key:"defaultValues",value:function(e){if("names"===e)return[];throw new Error("Invalid member name for GeneralNames class: ".concat(e))}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=(0,u.getParametersValue)(e,"names",{});return new s.Sequence({optional:t,name:r.blockName||"",value:[new s.Repeated({name:r.generalNames||"",value:l.default.schema()})]})}}],(r=[{key:"fromSchema",value:function(t){(0,u.clearProps)(t,["names","generalNames"]);var r=s.compareSchema(t,t,e.schema({names:{blockName:"names",generalNames:"generalNames"}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for GeneralNames");this.names=Array.from(r.result.generalNames,(function(e){return new l.default({schema:e})}))}},{key:"toSchema",value:function(){return new s.Sequence({value:Array.from(this.names,(function(e){return e.toSchema()}))})}},{key:"toJSON",value:function(){return{names:Array.from(this.names,(function(e){return e.toJSON()}))}}}])&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=f},{"./GeneralName.js":374,asn1js:1,pvutils:447}],376:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),u=e("pvutils"),l=(o=e("./GeneralName.js"))&&o.__esModule?o:{default:o};function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}var f=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.base=(0,u.getParametersValue)(t,"base",e.defaultValues("base")),this.minimum=(0,u.getParametersValue)(t,"minimum",e.defaultValues("minimum")),"maximum"in t&&(this.maximum=(0,u.getParametersValue)(t,"maximum",e.defaultValues("maximum"))),"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,i=[{key:"defaultValues",value:function(e){switch(e){case"base":return new l.default;case"minimum":case"maximum":return 0;default:throw new Error("Invalid member name for GeneralSubtree class: ".concat(e))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,u.getParametersValue)(e,"names",{});return new s.Sequence({name:t.blockName||"",value:[l.default.schema(t.base||{}),new s.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new s.Integer({name:t.minimum||""})]}),new s.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new s.Integer({name:t.maximum||""})]})]})}}],(r=[{key:"fromSchema",value:function(t){(0,u.clearProps)(t,["base","minimum","maximum"]);var r=s.compareSchema(t,t,e.schema({names:{base:{names:{blockName:"base"}},minimum:"minimum",maximum:"maximum"}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for GeneralSubtree");this.base=new l.default({schema:r.result.base}),"minimum"in r.result&&(r.result.minimum.valueBlock.isHexOnly?this.minimum=r.result.minimum:this.minimum=r.result.minimum.valueBlock.valueDec),"maximum"in r.result&&(r.result.maximum.valueBlock.isHexOnly?this.maximum=r.result.maximum:this.maximum=r.result.maximum.valueBlock.valueDec)}},{key:"toSchema",value:function(){var e=[];if(e.push(this.base.toSchema()),0!==this.minimum){var t=0;t=this.minimum instanceof s.Integer?this.minimum:new s.Integer({value:this.minimum}),e.push(new s.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[t]}))}if("maximum"in this){var r=0;r=this.maximum instanceof s.Integer?this.maximum:new s.Integer({value:this.maximum}),e.push(new s.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[r]}))}return new s.Sequence({value:e})}},{key:"toJSON",value:function(){var e={base:this.base.toJSON()};return 0!==this.minimum&&("number"==typeof this.minimum?e.minimum=this.minimum:e.minimum=this.minimum.toJSON()),"maximum"in this&&("number"==typeof this.maximum?e.maximum=this.maximum:e.maximum=this.maximum.toJSON()),e}}])&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=f},{"./GeneralName.js":374,asn1js:1,pvutils:447}],377:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),u=e("pvutils"),l=(o=e("./AccessDescription.js"))&&o.__esModule?o:{default:o};function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}var f=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.accessDescriptions=(0,u.getParametersValue)(t,"accessDescriptions",e.defaultValues("accessDescriptions")),"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,i=[{key:"defaultValues",value:function(e){if("accessDescriptions"===e)return[];throw new Error("Invalid member name for InfoAccess class: ".concat(e))}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,u.getParametersValue)(e,"names",{});return new s.Sequence({name:t.blockName||"",value:[new s.Repeated({name:t.accessDescriptions||"",value:l.default.schema()})]})}}],(r=[{key:"fromSchema",value:function(t){(0,u.clearProps)(t,["accessDescriptions"]);var r=s.compareSchema(t,t,e.schema({names:{accessDescriptions:"accessDescriptions"}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for InfoAccess");this.accessDescriptions=Array.from(r.result.accessDescriptions,(function(e){return new l.default({schema:e})}))}},{key:"toSchema",value:function(){return new s.Sequence({value:Array.from(this.accessDescriptions,(function(e){return e.toSchema()}))})}},{key:"toJSON",value:function(){return{accessDescriptions:Array.from(this.accessDescriptions,(function(e){return e.toJSON()}))}}}])&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=f},{"./AccessDescription.js":336,asn1js:1,pvutils:447}],378:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),u=e("pvutils"),l=(o=e("./RelativeDistinguishedNames.js"))&&o.__esModule?o:{default:o};function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}var f=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.issuer=(0,u.getParametersValue)(t,"issuer",e.defaultValues("issuer")),this.serialNumber=(0,u.getParametersValue)(t,"serialNumber",e.defaultValues("serialNumber")),"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,i=[{key:"defaultValues",value:function(e){switch(e){case"issuer":return new l.default;case"serialNumber":return new s.Integer;default:throw new Error("Invalid member name for IssuerAndSerialNumber class: ".concat(e))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,u.getParametersValue)(e,"names",{});return new s.Sequence({name:t.blockName||"",value:[l.default.schema(t.issuer||{}),new s.Integer({name:t.serialNumber||""})]})}}],(r=[{key:"fromSchema",value:function(t){(0,u.clearProps)(t,["issuer","serialNumber"]);var r=s.compareSchema(t,t,e.schema({names:{issuer:{names:{blockName:"issuer"}},serialNumber:"serialNumber"}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for IssuerAndSerialNumber");this.issuer=new l.default({schema:r.result.issuer}),this.serialNumber=r.result.serialNumber}},{key:"toSchema",value:function(){return new s.Sequence({value:[this.issuer.toSchema(),this.serialNumber]})}},{key:"toJSON",value:function(){return{issuer:this.issuer.toJSON(),serialNumber:this.serialNumber.toJSON()}}}])&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=f},{"./RelativeDistinguishedNames.js":423,asn1js:1,pvutils:447}],379:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=f(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),s=e("pvutils"),u=c(e("./GeneralName.js")),l=c(e("./RelativeDistinguishedNames.js"));function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(f=function(e){return e?r:t})(e)}var h=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),"distributionPoint"in t&&(this.distributionPoint=(0,s.getParametersValue)(t,"distributionPoint",e.defaultValues("distributionPoint"))),this.onlyContainsUserCerts=(0,s.getParametersValue)(t,"onlyContainsUserCerts",e.defaultValues("onlyContainsUserCerts")),this.onlyContainsCACerts=(0,s.getParametersValue)(t,"onlyContainsCACerts",e.defaultValues("onlyContainsCACerts")),"onlySomeReasons"in t&&(this.onlySomeReasons=(0,s.getParametersValue)(t,"onlySomeReasons",e.defaultValues("onlySomeReasons"))),this.indirectCRL=(0,s.getParametersValue)(t,"indirectCRL",e.defaultValues("indirectCRL")),this.onlyContainsAttributeCerts=(0,s.getParametersValue)(t,"onlyContainsAttributeCerts",e.defaultValues("onlyContainsAttributeCerts")),"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,i=[{key:"defaultValues",value:function(e){switch(e){case"distributionPoint":return[];case"onlyContainsUserCerts":case"onlyContainsCACerts":case"indirectCRL":case"onlyContainsAttributeCerts":return!1;case"onlySomeReasons":return 0;default:throw new Error("Invalid member name for IssuingDistributionPoint class: ".concat(e))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,s.getParametersValue)(e,"names",{});return new o.Sequence({name:t.blockName||"",value:[new o.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new o.Choice({value:[new o.Constructed({name:t.distributionPoint||"",idBlock:{tagClass:3,tagNumber:0},value:[new o.Repeated({name:t.distributionPointNames||"",value:u.default.schema()})]}),new o.Constructed({name:t.distributionPoint||"",idBlock:{tagClass:3,tagNumber:1},value:l.default.schema().valueBlock.value})]})]}),new o.Primitive({name:t.onlyContainsUserCerts||"",optional:!0,idBlock:{tagClass:3,tagNumber:1}}),new o.Primitive({name:t.onlyContainsCACerts||"",optional:!0,idBlock:{tagClass:3,tagNumber:2}}),new o.Primitive({name:t.onlySomeReasons||"",optional:!0,idBlock:{tagClass:3,tagNumber:3}}),new o.Primitive({name:t.indirectCRL||"",optional:!0,idBlock:{tagClass:3,tagNumber:4}}),new o.Primitive({name:t.onlyContainsAttributeCerts||"",optional:!0,idBlock:{tagClass:3,tagNumber:5}})]})}}],(r=[{key:"fromSchema",value:function(t){(0,s.clearProps)(t,["distributionPoint","distributionPointNames","onlyContainsUserCerts","onlyContainsCACerts","onlySomeReasons","indirectCRL","onlyContainsAttributeCerts"]);var r=o.compareSchema(t,t,e.schema({names:{distributionPoint:"distributionPoint",distributionPointNames:"distributionPointNames",onlyContainsUserCerts:"onlyContainsUserCerts",onlyContainsCACerts:"onlyContainsCACerts",onlySomeReasons:"onlySomeReasons",indirectCRL:"indirectCRL",onlyContainsAttributeCerts:"onlyContainsAttributeCerts"}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for IssuingDistributionPoint");if("distributionPoint"in r.result)switch(!0){case 0===r.result.distributionPoint.idBlock.tagNumber:this.distributionPoint=Array.from(r.result.distributionPointNames,(function(e){return new u.default({schema:e})}));break;case 1===r.result.distributionPoint.idBlock.tagNumber:this.distributionPoint=new l.default({schema:new o.Sequence({value:r.result.distributionPoint.valueBlock.value})});break;default:throw new Error("Unknown tagNumber for distributionPoint: {$asn1.result.distributionPoint.idBlock.tagNumber}")}if("onlyContainsUserCerts"in r.result){var n=new Uint8Array(r.result.onlyContainsUserCerts.valueBlock.valueHex);this.onlyContainsUserCerts=0!==n[0]}if("onlyContainsCACerts"in r.result){var a=new Uint8Array(r.result.onlyContainsCACerts.valueBlock.valueHex);this.onlyContainsCACerts=0!==a[0]}if("onlySomeReasons"in r.result){var i=new Uint8Array(r.result.onlySomeReasons.valueBlock.valueHex);this.onlySomeReasons=i[0]}if("indirectCRL"in r.result){var c=new Uint8Array(r.result.indirectCRL.valueBlock.valueHex);this.indirectCRL=0!==c[0]}if("onlyContainsAttributeCerts"in r.result){var f=new Uint8Array(r.result.onlyContainsAttributeCerts.valueBlock.valueHex);this.onlyContainsAttributeCerts=0!==f[0]}}},{key:"toSchema",value:function(){var t,r=[];if("distributionPoint"in this&&(this.distributionPoint instanceof Array?t=new o.Constructed({idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.distributionPoint,(function(e){return e.toSchema()}))}):((t=this.distributionPoint.toSchema()).idBlock.tagClass=3,t.idBlock.tagNumber=1),r.push(new o.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[t]}))),this.onlyContainsUserCerts!==e.defaultValues("onlyContainsUserCerts")&&r.push(new o.Primitive({idBlock:{tagClass:3,tagNumber:1},valueHex:new Uint8Array([255]).buffer})),this.onlyContainsCACerts!==e.defaultValues("onlyContainsCACerts")&&r.push(new o.Primitive({idBlock:{tagClass:3,tagNumber:2},valueHex:new Uint8Array([255]).buffer})),"onlySomeReasons"in this){var n=new ArrayBuffer(1);new Uint8Array(n)[0]=this.onlySomeReasons,r.push(new o.Primitive({idBlock:{tagClass:3,tagNumber:3},valueHex:n}))}return this.indirectCRL!==e.defaultValues("indirectCRL")&&r.push(new o.Primitive({idBlock:{tagClass:3,tagNumber:4},valueHex:new Uint8Array([255]).buffer})),this.onlyContainsAttributeCerts!==e.defaultValues("onlyContainsAttributeCerts")&&r.push(new o.Primitive({idBlock:{tagClass:3,tagNumber:5},valueHex:new Uint8Array([255]).buffer})),new o.Sequence({value:r})}},{key:"toJSON",value:function(){var t={};return"distributionPoint"in this&&(this.distributionPoint instanceof Array?t.distributionPoint=Array.from(this.distributionPoint,(function(e){return e.toJSON()})):t.distributionPoint=this.distributionPoint.toJSON()),this.onlyContainsUserCerts!==e.defaultValues("onlyContainsUserCerts")&&(t.onlyContainsUserCerts=this.onlyContainsUserCerts),this.onlyContainsCACerts!==e.defaultValues("onlyContainsCACerts")&&(t.onlyContainsCACerts=this.onlyContainsCACerts),"onlySomeReasons"in this&&(t.onlySomeReasons=this.onlySomeReasons),this.indirectCRL!==e.defaultValues("indirectCRL")&&(t.indirectCRL=this.indirectCRL),this.onlyContainsAttributeCerts!==e.defaultValues("onlyContainsAttributeCerts")&&(t.onlyContainsAttributeCerts=this.onlyContainsAttributeCerts),t}}])&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=h},{"./GeneralName.js":374,"./RelativeDistinguishedNames.js":423,asn1js:1,pvutils:447}],380:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),u=e("pvutils"),l=(o=e("./OtherKeyAttribute.js"))&&o.__esModule?o:{default:o};function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}var f=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.keyIdentifier=(0,u.getParametersValue)(t,"keyIdentifier",e.defaultValues("keyIdentifier")),"date"in t&&(this.date=(0,u.getParametersValue)(t,"date",e.defaultValues("date"))),"other"in t&&(this.other=(0,u.getParametersValue)(t,"other",e.defaultValues("other"))),"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,i=[{key:"defaultValues",value:function(e){switch(e){case"keyIdentifier":return new s.OctetString;case"date":return new s.GeneralizedTime;case"other":return new l.default;default:throw new Error("Invalid member name for KEKIdentifier class: ".concat(e))}}},{key:"compareWithDefault",value:function(t,r){switch(t){case"keyIdentifier":return r.isEqual(e.defaultValues("keyIdentifier"));case"date":return 0===r.year&&0===r.month&&0===r.day&&0===r.hour&&0===r.minute&&0===r.second&&0===r.millisecond;case"other":return r.compareWithDefault("keyAttrId",r.keyAttrId)&&"keyAttr"in r==0;default:throw new Error("Invalid member name for KEKIdentifier class: ".concat(t))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,u.getParametersValue)(e,"names",{});return new s.Sequence({name:t.blockName||"",value:[new s.OctetString({name:t.keyIdentifier||""}),new s.GeneralizedTime({optional:!0,name:t.date||""}),l.default.schema(t.other||{})]})}}],(r=[{key:"fromSchema",value:function(t){(0,u.clearProps)(t,["keyIdentifier","date","other"]);var r=s.compareSchema(t,t,e.schema({names:{keyIdentifier:"keyIdentifier",date:"date",other:{names:{blockName:"other"}}}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for KEKIdentifier");this.keyIdentifier=r.result.keyIdentifier,"date"in r.result&&(this.date=r.result.date),"other"in r.result&&(this.other=new l.default({schema:r.result.other}))}},{key:"toSchema",value:function(){var e=[];return e.push(this.keyIdentifier),"date"in this&&e.push(this.date),"other"in this&&e.push(this.other.toSchema()),new s.Sequence({value:e})}},{key:"toJSON",value:function(){var e={keyIdentifier:this.keyIdentifier.toJSON()};return"date"in this&&(e.date=this.date),"other"in this&&(e.other=this.other.toJSON()),e}}])&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=f},{"./OtherKeyAttribute.js":395,asn1js:1,pvutils:447}],381:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=f(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),s=e("pvutils"),u=c(e("./KEKIdentifier.js")),l=c(e("./AlgorithmIdentifier.js"));function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(f=function(e){return e?r:t})(e)}var h=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.version=(0,s.getParametersValue)(t,"version",e.defaultValues("version")),this.kekid=(0,s.getParametersValue)(t,"kekid",e.defaultValues("kekid")),this.keyEncryptionAlgorithm=(0,s.getParametersValue)(t,"keyEncryptionAlgorithm",e.defaultValues("keyEncryptionAlgorithm")),this.encryptedKey=(0,s.getParametersValue)(t,"encryptedKey",e.defaultValues("encryptedKey")),this.preDefinedKEK=(0,s.getParametersValue)(t,"preDefinedKEK",e.defaultValues("preDefinedKEK")),"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,i=[{key:"defaultValues",value:function(e){switch(e){case"version":return 0;case"kekid":return new u.default;case"keyEncryptionAlgorithm":return new l.default;case"encryptedKey":return new o.OctetString;case"preDefinedKEK":return new ArrayBuffer(0);default:throw new Error("Invalid member name for KEKRecipientInfo class: ".concat(e))}}},{key:"compareWithDefault",value:function(t,r){switch(t){case"KEKRecipientInfo":return r===e.defaultValues("version");case"kekid":return r.compareWithDefault("keyIdentifier",r.keyIdentifier)&&"date"in r==0&&"other"in r==0;case"keyEncryptionAlgorithm":return""===r.algorithmId&&"algorithmParams"in r==0;case"encryptedKey":return r.isEqual(e.defaultValues("encryptedKey"));case"preDefinedKEK":return 0===r.byteLength;default:throw new Error("Invalid member name for KEKRecipientInfo class: ".concat(t))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,s.getParametersValue)(e,"names",{});return new o.Sequence({name:t.blockName||"",value:[new o.Integer({name:t.version||""}),u.default.schema(t.kekid||{}),l.default.schema(t.keyEncryptionAlgorithm||{}),new o.OctetString({name:t.encryptedKey||""})]})}}],(r=[{key:"fromSchema",value:function(t){(0,s.clearProps)(t,["version","kekid","keyEncryptionAlgorithm","encryptedKey"]);var r=o.compareSchema(t,t,e.schema({names:{version:"version",kekid:{names:{blockName:"kekid"}},keyEncryptionAlgorithm:{names:{blockName:"keyEncryptionAlgorithm"}},encryptedKey:"encryptedKey"}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for KEKRecipientInfo");this.version=r.result.version.valueBlock.valueDec,this.kekid=new u.default({schema:r.result.kekid}),this.keyEncryptionAlgorithm=new l.default({schema:r.result.keyEncryptionAlgorithm}),this.encryptedKey=r.result.encryptedKey}},{key:"toSchema",value:function(){return new o.Sequence({value:[new o.Integer({value:this.version}),this.kekid.toSchema(),this.keyEncryptionAlgorithm.toSchema(),this.encryptedKey]})}},{key:"toJSON",value:function(){return{version:this.version,kekid:this.kekid.toJSON(),keyEncryptionAlgorithm:this.keyEncryptionAlgorithm.toJSON(),encryptedKey:this.encryptedKey.toJSON()}}}])&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=h},{"./AlgorithmIdentifier.js":338,"./KEKIdentifier.js":380,asn1js:1,pvutils:447}],382:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=f(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),s=e("pvutils"),u=c(e("./IssuerAndSerialNumber.js")),l=c(e("./RecipientKeyIdentifier.js"));function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(f=function(e){return e?r:t})(e)}var h=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.variant=(0,s.getParametersValue)(t,"variant",e.defaultValues("variant")),this.value=(0,s.getParametersValue)(t,"value",e.defaultValues("value")),"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,i=[{key:"defaultValues",value:function(e){switch(e){case"variant":return-1;case"value":return{};default:throw new Error("Invalid member name for KeyAgreeRecipientIdentifier class: ".concat(e))}}},{key:"compareWithDefault",value:function(e,t){switch(e){case"variant":return-1===t;case"value":return 0===Object.keys(t).length;default:throw new Error("Invalid member name for KeyAgreeRecipientIdentifier class: ".concat(e))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,s.getParametersValue)(e,"names",{});return new o.Choice({value:[u.default.schema(t.issuerAndSerialNumber||{names:{blockName:t.blockName||""}}),new o.Constructed({name:t.blockName||"",idBlock:{tagClass:3,tagNumber:0},value:l.default.schema(t.rKeyId||{names:{blockName:t.blockName||""}}).valueBlock.value})]})}}],(r=[{key:"fromSchema",value:function(t){(0,s.clearProps)(t,["blockName"]);var r=o.compareSchema(t,t,e.schema({names:{blockName:"blockName"}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for KeyAgreeRecipientIdentifier");1===r.result.blockName.idBlock.tagClass?(this.variant=1,this.value=new u.default({schema:r.result.blockName})):(this.variant=2,this.value=new l.default({schema:new o.Sequence({value:r.result.blockName.valueBlock.value})}))}},{key:"toSchema",value:function(){switch(this.variant){case 1:return this.value.toSchema();case 2:return new o.Constructed({idBlock:{tagClass:3,tagNumber:0},value:this.value.toSchema().valueBlock.value});default:return new o.Any}}},{key:"toJSON",value:function(){var e={variant:this.variant};return 1!==this.variant&&2!==this.variant||(e.value=this.value.toJSON()),e}}])&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=h},{"./IssuerAndSerialNumber.js":378,"./RecipientKeyIdentifier.js":422,asn1js:1,pvutils:447}],383:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=m(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),s=e("pvutils"),u=h(e("./OriginatorIdentifierOrKey.js")),l=h(e("./AlgorithmIdentifier.js")),c=h(e("./RecipientEncryptedKeys.js")),f=h(e("./Certificate.js"));function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(m=function(e){return e?r:t})(e)}var p=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.version=(0,s.getParametersValue)(t,"version",e.defaultValues("version")),this.originator=(0,s.getParametersValue)(t,"originator",e.defaultValues("originator")),"ukm"in t&&(this.ukm=(0,s.getParametersValue)(t,"ukm",e.defaultValues("ukm"))),this.keyEncryptionAlgorithm=(0,s.getParametersValue)(t,"keyEncryptionAlgorithm",e.defaultValues("keyEncryptionAlgorithm")),this.recipientEncryptedKeys=(0,s.getParametersValue)(t,"recipientEncryptedKeys",e.defaultValues("recipientEncryptedKeys")),this.recipientCertificate=(0,s.getParametersValue)(t,"recipientCertificate",e.defaultValues("recipientCertificate")),this.recipientPublicKey=(0,s.getParametersValue)(t,"recipientPublicKey",e.defaultValues("recipientPublicKey")),"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,i=[{key:"defaultValues",value:function(e){switch(e){case"version":return 0;case"originator":return new u.default;case"ukm":return new o.OctetString;case"keyEncryptionAlgorithm":return new l.default;case"recipientEncryptedKeys":return new c.default;case"recipientCertificate":return new f.default;case"recipientPublicKey":return null;default:throw new Error("Invalid member name for KeyAgreeRecipientInfo class: ".concat(e))}}},{key:"compareWithDefault",value:function(t,r){switch(t){case"version":return 0===r;case"originator":return-1===r.variant&&"value"in r==0;case"ukm":return r.isEqual(e.defaultValues("ukm"));case"keyEncryptionAlgorithm":return""===r.algorithmId&&"algorithmParams"in r==0;case"recipientEncryptedKeys":return 0===r.encryptedKeys.length;case"recipientCertificate":case"recipientPublicKey":return!1;default:throw new Error("Invalid member name for KeyAgreeRecipientInfo class: ".concat(t))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,s.getParametersValue)(e,"names",{});return new o.Sequence({name:t.blockName||"",value:[new o.Integer({name:t.version||""}),new o.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[u.default.schema(t.originator||{})]}),new o.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new o.OctetString({name:t.ukm||""})]}),l.default.schema(t.keyEncryptionAlgorithm||{}),c.default.schema(t.recipientEncryptedKeys||{})]})}}],(r=[{key:"fromSchema",value:function(t){(0,s.clearProps)(t,["version","originator","ukm","keyEncryptionAlgorithm","recipientEncryptedKeys"]);var r=o.compareSchema(t,t,e.schema({names:{version:"version",originator:{names:{blockName:"originator"}},ukm:"ukm",keyEncryptionAlgorithm:{names:{blockName:"keyEncryptionAlgorithm"}},recipientEncryptedKeys:{names:{blockName:"recipientEncryptedKeys"}}}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for KeyAgreeRecipientInfo");this.version=r.result.version.valueBlock.valueDec,this.originator=new u.default({schema:r.result.originator}),"ukm"in r.result&&(this.ukm=r.result.ukm),this.keyEncryptionAlgorithm=new l.default({schema:r.result.keyEncryptionAlgorithm}),this.recipientEncryptedKeys=new c.default({schema:r.result.recipientEncryptedKeys})}},{key:"toSchema",value:function(){var e=[];return e.push(new o.Integer({value:this.version})),e.push(new o.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[this.originator.toSchema()]})),"ukm"in this&&e.push(new o.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[this.ukm]})),e.push(this.keyEncryptionAlgorithm.toSchema()),e.push(this.recipientEncryptedKeys.toSchema()),new o.Sequence({value:e})}},{key:"toJSON",value:function(){var e={version:this.version,originator:this.originator.toJSON()};return"ukm"in this&&(e.ukm=this.ukm.toJSON()),e.keyEncryptionAlgorithm=this.keyEncryptionAlgorithm.toJSON(),e.recipientEncryptedKeys=this.recipientEncryptedKeys.toJSON(),e}}])&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=p},{"./AlgorithmIdentifier.js":338,"./Certificate.js":353,"./OriginatorIdentifierOrKey.js":391,"./RecipientEncryptedKeys.js":419,asn1js:1,pvutils:447}],384:[function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function o(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var a=u(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return s(this,r)}}function s(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}var l;Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)}(r,e);var t=o(r);function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a(this,r),t.call(this,e)}return r}(((l=e("./PrivateKeyInfo.js"))&&l.__esModule?l:{default:l}).default);r.default=c},{"./PrivateKeyInfo.js":410}],385:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=m(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),s=e("pvutils"),u=h(e("./AlgorithmIdentifier.js")),l=h(e("./Certificate.js")),c=h(e("./RecipientIdentifier.js")),f=h(e("./IssuerAndSerialNumber.js"));function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(m=function(e){return e?r:t})(e)}var p=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.version=(0,s.getParametersValue)(t,"version",e.defaultValues("version")),this.rid=(0,s.getParametersValue)(t,"rid",e.defaultValues("rid")),this.keyEncryptionAlgorithm=(0,s.getParametersValue)(t,"keyEncryptionAlgorithm",e.defaultValues("keyEncryptionAlgorithm")),this.encryptedKey=(0,s.getParametersValue)(t,"encryptedKey",e.defaultValues("encryptedKey")),this.recipientCertificate=(0,s.getParametersValue)(t,"recipientCertificate",e.defaultValues("recipientCertificate")),"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,i=[{key:"defaultValues",value:function(e){switch(e){case"version":return-1;case"rid":return{};case"keyEncryptionAlgorithm":return new u.default;case"encryptedKey":return new o.OctetString;case"recipientCertificate":return new l.default;default:throw new Error("Invalid member name for KeyTransRecipientInfo class: ".concat(e))}}},{key:"compareWithDefault",value:function(t,r){switch(t){case"version":return r===e.defaultValues("version");case"rid":return 0===Object.keys(r).length;case"keyEncryptionAlgorithm":case"encryptedKey":return r.isEqual(e.defaultValues(t));case"recipientCertificate":return!1;default:throw new Error("Invalid member name for KeyTransRecipientInfo class: ".concat(t))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,s.getParametersValue)(e,"names",{});return new o.Sequence({name:t.blockName||"",value:[new o.Integer({name:t.version||""}),c.default.schema(t.rid||{}),u.default.schema(t.keyEncryptionAlgorithm||{}),new o.OctetString({name:t.encryptedKey||""})]})}}],(r=[{key:"fromSchema",value:function(t){(0,s.clearProps)(t,["version","rid","keyEncryptionAlgorithm","encryptedKey"]);var r=o.compareSchema(t,t,e.schema({names:{version:"version",rid:{names:{blockName:"rid"}},keyEncryptionAlgorithm:{names:{blockName:"keyEncryptionAlgorithm"}},encryptedKey:"encryptedKey"}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for KeyTransRecipientInfo");this.version=r.result.version.valueBlock.valueDec,3===r.result.rid.idBlock.tagClass?this.rid=new o.OctetString({valueHex:r.result.rid.valueBlock.valueHex}):this.rid=new f.default({schema:r.result.rid}),this.keyEncryptionAlgorithm=new u.default({schema:r.result.keyEncryptionAlgorithm}),this.encryptedKey=r.result.encryptedKey}},{key:"toSchema",value:function(){var e=[];return this.rid instanceof f.default?(this.version=0,e.push(new o.Integer({value:this.version})),e.push(this.rid.toSchema())):(this.version=2,e.push(new o.Integer({value:this.version})),e.push(new o.Primitive({idBlock:{tagClass:3,tagNumber:0},valueHex:this.rid.valueBlock.valueHex}))),e.push(this.keyEncryptionAlgorithm.toSchema()),e.push(this.encryptedKey),new o.Sequence({value:e})}},{key:"toJSON",value:function(){return{version:this.version,rid:this.rid.toJSON(),keyEncryptionAlgorithm:this.keyEncryptionAlgorithm.toJSON(),encryptedKey:this.encryptedKey.toJSON()}}}])&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=p},{"./AlgorithmIdentifier.js":338,"./Certificate.js":353,"./IssuerAndSerialNumber.js":378,"./RecipientIdentifier.js":420,asn1js:1,pvutils:447}],386:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),u=e("pvutils"),l=(o=e("./DigestInfo.js"))&&o.__esModule?o:{default:o};function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}var f=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.mac=(0,u.getParametersValue)(t,"mac",e.defaultValues("mac")),this.macSalt=(0,u.getParametersValue)(t,"macSalt",e.defaultValues("macSalt")),"iterations"in t&&(this.iterations=(0,u.getParametersValue)(t,"iterations",e.defaultValues("iterations"))),"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,i=[{key:"defaultValues",value:function(e){switch(e){case"mac":return new l.default;case"macSalt":return new s.OctetString;case"iterations":return 1;default:throw new Error("Invalid member name for MacData class: ".concat(e))}}},{key:"compareWithDefault",value:function(t,r){switch(t){case"mac":return l.default.compareWithDefault("digestAlgorithm",r.digestAlgorithm)&&l.default.compareWithDefault("digest",r.digest);case"macSalt":return r.isEqual(e.defaultValues(t));case"iterations":return r===e.defaultValues(t);default:throw new Error("Invalid member name for MacData class: ".concat(t))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,u.getParametersValue)(e,"names",{});return new s.Sequence({name:t.blockName||"",optional:t.optional||!0,value:[l.default.schema(t.mac||{names:{blockName:"mac"}}),new s.OctetString({name:t.macSalt||"macSalt"}),new s.Integer({optional:!0,name:t.iterations||"iterations"})]})}}],(r=[{key:"fromSchema",value:function(t){(0,u.clearProps)(t,["mac","macSalt","iterations"]);var r=s.compareSchema(t,t,e.schema({names:{mac:{names:{blockName:"mac"}},macSalt:"macSalt",iterations:"iterations"}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for MacData");this.mac=new l.default({schema:r.result.mac}),this.macSalt=r.result.macSalt,"iterations"in r.result&&(this.iterations=r.result.iterations.valueBlock.valueDec)}},{key:"toSchema",value:function(){var e=[this.mac.toSchema(),this.macSalt];return"iterations"in this&&e.push(new s.Integer({value:this.iterations})),new s.Sequence({value:e})}},{key:"toJSON",value:function(){var e={mac:this.mac.toJSON(),macSalt:this.macSalt.toJSON()};return"iterations"in this&&(e.iterations=this.iterations.toJSON()),e}}])&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=f},{"./DigestInfo.js":362,asn1js:1,pvutils:447}],387:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),u=e("pvutils"),l=(o=e("./AlgorithmIdentifier.js"))&&o.__esModule?o:{default:o};function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}var f=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.hashAlgorithm=(0,u.getParametersValue)(t,"hashAlgorithm",e.defaultValues("hashAlgorithm")),this.hashedMessage=(0,u.getParametersValue)(t,"hashedMessage",e.defaultValues("hashedMessage")),"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,i=[{key:"defaultValues",value:function(e){switch(e){case"hashAlgorithm":return new l.default;case"hashedMessage":return new s.OctetString;default:throw new Error("Invalid member name for MessageImprint class: ".concat(e))}}},{key:"compareWithDefault",value:function(t,r){switch(t){case"hashAlgorithm":return""===r.algorithmId&&"algorithmParams"in r==0;case"hashedMessage":return 0===r.isEqual(e.defaultValues(t));default:throw new Error("Invalid member name for MessageImprint class: ".concat(t))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,u.getParametersValue)(e,"names",{});return new s.Sequence({name:t.blockName||"",value:[l.default.schema(t.hashAlgorithm||{}),new s.OctetString({name:t.hashedMessage||""})]})}}],(r=[{key:"fromSchema",value:function(t){(0,u.clearProps)(t,["hashAlgorithm","hashedMessage"]);var r=s.compareSchema(t,t,e.schema({names:{hashAlgorithm:{names:{blockName:"hashAlgorithm"}},hashedMessage:"hashedMessage"}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for MessageImprint");this.hashAlgorithm=new l.default({schema:r.result.hashAlgorithm}),this.hashedMessage=r.result.hashedMessage}},{key:"toSchema",value:function(){return new s.Sequence({value:[this.hashAlgorithm.toSchema(),this.hashedMessage]})}},{key:"toJSON",value:function(){return{hashAlgorithm:this.hashAlgorithm.toJSON(),hashedMessage:this.hashedMessage.toJSON()}}}])&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=f},{"./AlgorithmIdentifier.js":338,asn1js:1,pvutils:447}],388:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),u=e("pvutils"),l=(o=e("./GeneralSubtree.js"))&&o.__esModule?o:{default:o};function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}var f=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),"permittedSubtrees"in t&&(this.permittedSubtrees=(0,u.getParametersValue)(t,"permittedSubtrees",e.defaultValues("permittedSubtrees"))),"excludedSubtrees"in t&&(this.excludedSubtrees=(0,u.getParametersValue)(t,"excludedSubtrees",e.defaultValues("excludedSubtrees"))),"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,i=[{key:"defaultValues",value:function(e){switch(e){case"permittedSubtrees":case"excludedSubtrees":return[];default:throw new Error("Invalid member name for NameConstraints class: ".concat(e))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,u.getParametersValue)(e,"names",{});return new s.Sequence({name:t.blockName||"",value:[new s.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new s.Repeated({name:t.permittedSubtrees||"",value:l.default.schema()})]}),new s.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new s.Repeated({name:t.excludedSubtrees||"",value:l.default.schema()})]})]})}}],(r=[{key:"fromSchema",value:function(t){(0,u.clearProps)(t,["permittedSubtrees","excludedSubtrees"]);var r=s.compareSchema(t,t,e.schema({names:{permittedSubtrees:"permittedSubtrees",excludedSubtrees:"excludedSubtrees"}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for NameConstraints");"permittedSubtrees"in r.result&&(this.permittedSubtrees=Array.from(r.result.permittedSubtrees,(function(e){return new l.default({schema:e})}))),"excludedSubtrees"in r.result&&(this.excludedSubtrees=Array.from(r.result.excludedSubtrees,(function(e){return new l.default({schema:e})})))}},{key:"toSchema",value:function(){var e=[];return"permittedSubtrees"in this&&e.push(new s.Constructed({idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.permittedSubtrees,(function(e){return e.toSchema()}))})),"excludedSubtrees"in this&&e.push(new s.Constructed({idBlock:{tagClass:3,tagNumber:1},value:Array.from(this.excludedSubtrees,(function(e){return e.toSchema()}))})),new s.Sequence({value:e})}},{key:"toJSON",value:function(){var e={};return"permittedSubtrees"in this&&(e.permittedSubtrees=Array.from(this.permittedSubtrees,(function(e){return e.toJSON()}))),"excludedSubtrees"in this&&(e.excludedSubtrees=Array.from(this.excludedSubtrees,(function(e){return e.toJSON()}))),e}}])&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=f},{"./GeneralSubtree.js":376,asn1js:1,pvutils:447}],389:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=p(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),s=e("pvutils"),u=e("./common.js"),l=m(e("./TBSRequest.js")),c=m(e("./Signature.js")),f=m(e("./Request.js")),h=m(e("./CertID.js"));function m(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(p=function(e){return e?r:t})(e)}var d=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.tbsRequest=(0,s.getParametersValue)(t,"tbsRequest",e.defaultValues("tbsRequest")),"optionalSignature"in t&&(this.optionalSignature=(0,s.getParametersValue)(t,"optionalSignature",e.defaultValues("optionalSignature"))),"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,r=[{key:"fromSchema",value:function(t){(0,s.clearProps)(t,["tbsRequest","optionalSignature"]);var r=o.compareSchema(t,t,e.schema());if(!1===r.verified)throw new Error("Object's schema was not verified against input data for OCSPRequest");this.tbsRequest=new l.default({schema:r.result.tbsRequest}),"optionalSignature"in r.result&&(this.optionalSignature=new c.default({schema:r.result.optionalSignature}))}},{key:"toSchema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=[];return t.push(this.tbsRequest.toSchema(e)),"optionalSignature"in this&&t.push(new o.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[this.optionalSignature.toSchema()]})),new o.Sequence({value:t})}},{key:"toJSON",value:function(){var e={tbsRequest:this.tbsRequest.toJSON()};return"optionalSignature"in this&&(e.optionalSignature=this.optionalSignature.toJSON()),e}},{key:"createForCertificate",value:function(e,t){var r=this,n=Promise.resolve(),a=new h.default;return n=(n=n.then((function(){return a.createForCertificate(e,t)}))).then((function(){r.tbsRequest=new l.default({requestList:[new f.default({reqCert:a})]})}),(function(e){return Promise.reject(e)}))}},{key:"sign",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"SHA-1";if(void 0===e)return Promise.reject("Need to provide a private key for signing");if("optionalSignature"in this==0)return Promise.reject('Need to create "optionalSignature" field before signing');var n,a,i=Promise.resolve(),s=(0,u.getEngine)();return i=(i=(i=(i=(i=i.then((function(){return s.subtle.getSignatureParameters(e,r)}))).then((function(e){n=e.parameters,t.optionalSignature.signatureAlgorithm=e.signatureAlgorithm}))).then((function(){a=t.tbsRequest.toSchema(!0).toBER(!1)}))).then((function(){return s.subtle.signWithPrivateKey(a,e,n)}))).then((function(e){t.optionalSignature.signature=new o.BitString({valueHex:e})}))}},{key:"verify",value:function(){}}],i=[{key:"defaultValues",value:function(e){switch(e){case"tbsRequest":return new l.default;case"optionalSignature":return new c.default;default:throw new Error("Invalid member name for OCSPRequest class: ".concat(e))}}},{key:"compareWithDefault",value:function(e,t){switch(e){case"tbsRequest":return l.default.compareWithDefault("tbs",t.tbs)&&l.default.compareWithDefault("version",t.version)&&l.default.compareWithDefault("requestorName",t.requestorName)&&l.default.compareWithDefault("requestList",t.requestList)&&l.default.compareWithDefault("requestExtensions",t.requestExtensions);case"optionalSignature":return c.default.compareWithDefault("signatureAlgorithm",t.signatureAlgorithm)&&c.default.compareWithDefault("signature",t.signature)&&c.default.compareWithDefault("certs",t.certs);default:throw new Error("Invalid member name for OCSPRequest class: ".concat(e))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,s.getParametersValue)(e,"names",{});return new o.Sequence({name:t.blockName||"OCSPRequest",value:[l.default.schema(t.tbsRequest||{names:{blockName:"tbsRequest"}}),new o.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[c.default.schema(t.optionalSignature||{names:{blockName:"optionalSignature"}})]})]})}}],r&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=d},{"./CertID.js":352,"./Request.js":424,"./Signature.js":432,"./TBSRequest.js":439,"./common.js":444,asn1js:1,pvutils:447}],390:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=f(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),s=e("pvutils"),u=c(e("./ResponseBytes.js")),l=c(e("./BasicOCSPResponse.js"));function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(f=function(e){return e?r:t})(e)}var h=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.responseStatus=(0,s.getParametersValue)(t,"responseStatus",e.defaultValues("responseStatus")),"responseBytes"in t&&(this.responseBytes=(0,s.getParametersValue)(t,"responseBytes",e.defaultValues("responseBytes"))),"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,r=[{key:"fromSchema",value:function(t){(0,s.clearProps)(t,["responseStatus","responseBytes"]);var r=o.compareSchema(t,t,e.schema());if(!1===r.verified)throw new Error("Object's schema was not verified against input data for OCSPResponse");this.responseStatus=r.result.responseStatus,"responseBytes"in r.result&&(this.responseBytes=new u.default({schema:r.result.responseBytes}))}},{key:"toSchema",value:function(){var e=[];return e.push(this.responseStatus),"responseBytes"in this&&e.push(new o.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[this.responseBytes.toSchema()]})),new o.Sequence({value:e})}},{key:"toJSON",value:function(){var e={responseStatus:this.responseStatus.toJSON()};return"responseBytes"in this&&(e.responseBytes=this.responseBytes.toJSON()),e}},{key:"getCertificateStatus",value:function(e,t){var r,n={isForCertificate:!1,status:2};if("responseBytes"in this==0)return n;if("1.3.6.1.5.5.7.48.1.1"!==this.responseBytes.responseType)return n;try{var a=o.fromBER(this.responseBytes.response.valueBlock.valueHex);r=new l.default({schema:a.result})}catch(e){return n}return r.getCertificateStatus(e,t)}},{key:"sign",value:function(e,t){if("1.3.6.1.5.5.7.48.1.1"===this.responseBytes.responseType){var r=o.fromBER(this.responseBytes.response.valueBlock.valueHex);return new l.default({schema:r.result}).sign(e,t)}return Promise.reject("Unknown ResponseBytes type: ".concat(this.responseBytes.responseType))}},{key:"verify",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if("responseBytes"in this==0)return Promise.reject("Empty ResponseBytes field");if("1.3.6.1.5.5.7.48.1.1"===this.responseBytes.responseType){var t=o.fromBER(this.responseBytes.response.valueBlock.valueHex),r=new l.default({schema:t.result});return null!==e&&("certs"in r==0&&(r.certs=[]),r.certs.push(e)),r.verify()}return Promise.reject("Unknown ResponseBytes type: ".concat(this.responseBytes.responseType))}}],i=[{key:"defaultValues",value:function(e){switch(e){case"responseStatus":return new o.Enumerated;case"responseBytes":return new u.default;default:throw new Error("Invalid member name for OCSPResponse class: ".concat(e))}}},{key:"compareWithDefault",value:function(t,r){switch(t){case"responseStatus":return r.isEqual(e.defaultValues(t));case"responseBytes":return u.default.compareWithDefault("responseType",r.responseType)&&u.default.compareWithDefault("response",r.response);default:throw new Error("Invalid member name for OCSPResponse class: ".concat(t))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,s.getParametersValue)(e,"names",{});return new o.Sequence({name:t.blockName||"OCSPResponse",value:[new o.Enumerated({name:t.responseStatus||"responseStatus"}),new o.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[u.default.schema(t.responseBytes||{names:{blockName:"responseBytes"}})]})]})}}],r&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=h},{"./BasicOCSPResponse.js":347,"./ResponseBytes.js":425,asn1js:1,pvutils:447}],391:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=f(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),s=e("pvutils"),u=c(e("./IssuerAndSerialNumber.js")),l=c(e("./OriginatorPublicKey.js"));function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(f=function(e){return e?r:t})(e)}var h=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.variant=(0,s.getParametersValue)(t,"variant",e.defaultValues("variant")),"value"in t&&(this.value=(0,s.getParametersValue)(t,"value",e.defaultValues("value"))),"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,i=[{key:"defaultValues",value:function(e){switch(e){case"variant":return-1;case"value":return{};default:throw new Error("Invalid member name for OriginatorIdentifierOrKey class: ".concat(e))}}},{key:"compareWithDefault",value:function(e,t){switch(e){case"variant":return-1===t;case"value":return 0===Object.keys(t).length;default:throw new Error("Invalid member name for OriginatorIdentifierOrKey class: ".concat(e))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,s.getParametersValue)(e,"names",{});return new o.Choice({value:[u.default.schema({names:{blockName:t.blockName||""}}),new o.Primitive({idBlock:{tagClass:3,tagNumber:0},name:t.blockName||""}),new o.Constructed({idBlock:{tagClass:3,tagNumber:1},name:t.blockName||"",value:l.default.schema().valueBlock.value})]})}}],(r=[{key:"fromSchema",value:function(t){(0,s.clearProps)(t,["blockName"]);var r=o.compareSchema(t,t,e.schema({names:{blockName:"blockName"}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for OriginatorIdentifierOrKey");1===r.result.blockName.idBlock.tagClass?(this.variant=1,this.value=new u.default({schema:r.result.blockName})):0===r.result.blockName.idBlock.tagNumber?(r.result.blockName.idBlock.tagClass=1,r.result.blockName.idBlock.tagNumber=4,this.variant=2,this.value=r.result.blockName):(this.variant=3,this.value=new l.default({schema:new o.Sequence({value:r.result.blockName.valueBlock.value})}))}},{key:"toSchema",value:function(){switch(this.variant){case 1:return this.value.toSchema();case 2:return this.value.idBlock.tagClass=3,this.value.idBlock.tagNumber=0,this.value;case 3:var e=this.value.toSchema();return e.idBlock.tagClass=3,e.idBlock.tagNumber=1,e;default:return new o.Any}}},{key:"toJSON",value:function(){var e={variant:this.variant};return 1!==this.variant&&2!==this.variant&&3!==this.variant||(e.value=this.value.toJSON()),e}}])&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=h},{"./IssuerAndSerialNumber.js":378,"./OriginatorPublicKey.js":393,asn1js:1,pvutils:447}],392:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=f(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),s=e("pvutils"),u=c(e("./CertificateSet.js")),l=c(e("./RevocationInfoChoices.js"));function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(f=function(e){return e?r:t})(e)}var h=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),"certs"in t&&(this.certs=(0,s.getParametersValue)(t,"certs",e.defaultValues("certs"))),"crls"in t&&(this.crls=(0,s.getParametersValue)(t,"crls",e.defaultValues("crls"))),"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,i=[{key:"defaultValues",value:function(e){switch(e){case"certs":return new u.default;case"crls":return new l.default;default:throw new Error("Invalid member name for OriginatorInfo class: ".concat(e))}}},{key:"compareWithDefault",value:function(e,t){switch(e){case"certs":return 0===t.certificates.length;case"crls":return 0===t.crls.length&&0===t.otherRevocationInfos.length;default:throw new Error("Invalid member name for OriginatorInfo class: ".concat(e))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,s.getParametersValue)(e,"names",{});return new o.Sequence({name:t.blockName||"",value:[new o.Constructed({name:t.certs||"",optional:!0,idBlock:{tagClass:3,tagNumber:0},value:u.default.schema().valueBlock.value}),new o.Constructed({name:t.crls||"",optional:!0,idBlock:{tagClass:3,tagNumber:1},value:l.default.schema().valueBlock.value})]})}}],(r=[{key:"fromSchema",value:function(t){(0,s.clearProps)(t,["certs","crls"]);var r=o.compareSchema(t,t,e.schema({names:{certs:"certs",crls:"crls"}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for OriginatorInfo");"certs"in r.result&&(this.certs=new u.default({schema:new o.Set({value:r.result.certs.valueBlock.value})})),"crls"in r.result&&(this.crls=new l.default({schema:new o.Set({value:r.result.crls.valueBlock.value})}))}},{key:"toSchema",value:function(){var e=[];return"certs"in this&&e.push(new o.Constructed({idBlock:{tagClass:3,tagNumber:0},value:this.certs.toSchema().valueBlock.value})),"crls"in this&&e.push(new o.Constructed({idBlock:{tagClass:3,tagNumber:1},value:this.crls.toSchema().valueBlock.value})),new o.Sequence({value:e})}},{key:"toJSON",value:function(){var e={};return"certs"in this&&(e.certs=this.certs.toJSON()),"crls"in this&&(e.crls=this.crls.toJSON()),e}}])&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=h},{"./CertificateSet.js":357,"./RevocationInfoChoices.js":427,asn1js:1,pvutils:447}],393:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),u=e("pvutils"),l=(o=e("./AlgorithmIdentifier.js"))&&o.__esModule?o:{default:o};function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}var f=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.algorithm=(0,u.getParametersValue)(t,"algorithm",e.defaultValues("algorithm")),this.publicKey=(0,u.getParametersValue)(t,"publicKey",e.defaultValues("publicKey")),"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,i=[{key:"defaultValues",value:function(e){switch(e){case"algorithm":return new l.default;case"publicKey":return new s.BitString;default:throw new Error("Invalid member name for OriginatorPublicKey class: ".concat(e))}}},{key:"compareWithDefault",value:function(t,r){switch(t){case"algorithm":case"publicKey":return r.isEqual(e.defaultValues(t));default:throw new Error("Invalid member name for OriginatorPublicKey class: ".concat(t))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,u.getParametersValue)(e,"names",{});return new s.Sequence({name:t.blockName||"",value:[l.default.schema(t.algorithm||{}),new s.BitString({name:t.publicKey||""})]})}}],(r=[{key:"fromSchema",value:function(t){(0,u.clearProps)(t,["algorithm","publicKey"]);var r=s.compareSchema(t,t,e.schema({names:{algorithm:{names:{blockName:"algorithm"}},publicKey:"publicKey"}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for OriginatorPublicKey");this.algorithm=new l.default({schema:r.result.algorithm}),this.publicKey=r.result.publicKey}},{key:"toSchema",value:function(){return new s.Sequence({value:[this.algorithm.toSchema(),this.publicKey]})}},{key:"toJSON",value:function(){return{algorithm:this.algorithm.toJSON(),publicKey:this.publicKey.toJSON()}}}])&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=f},{"./AlgorithmIdentifier.js":338,asn1js:1,pvutils:447}],394:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),s=e("pvutils");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}var l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.otherCertFormat=(0,s.getParametersValue)(t,"otherCertFormat",e.defaultValues("otherCertFormat")),this.otherCert=(0,s.getParametersValue)(t,"otherCert",e.defaultValues("otherCert")),"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,i=[{key:"defaultValues",value:function(e){switch(e){case"otherCertFormat":return"";case"otherCert":return new o.Any;default:throw new Error("Invalid member name for OtherCertificateFormat class: ".concat(e))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,s.getParametersValue)(e,"names",{});return new o.Sequence({name:t.blockName||"",value:[new o.ObjectIdentifier({name:t.otherCertFormat||"otherCertFormat"}),new o.Any({name:t.otherCert||"otherCert"})]})}}],(r=[{key:"fromSchema",value:function(t){(0,s.clearProps)(t,["otherCertFormat","otherCert"]);var r=o.compareSchema(t,t,e.schema());if(!1===r.verified)throw new Error("Object's schema was not verified against input data for OtherCertificateFormat");this.otherCertFormat=r.result.otherCertFormat.valueBlock.toString(),this.otherCert=r.result.otherCert}},{key:"toSchema",value:function(){return new o.Sequence({value:[new o.ObjectIdentifier({value:this.otherCertFormat}),this.otherCert]})}},{key:"toJSON",value:function(){var e={otherCertFormat:this.otherCertFormat};return this.otherCert instanceof o.Any||(e.otherCert=this.otherCert.toJSON()),e}}])&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=l},{asn1js:1,pvutils:447}],395:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),s=e("pvutils");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}var l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.keyAttrId=(0,s.getParametersValue)(t,"keyAttrId",e.defaultValues("keyAttrId")),"keyAttr"in t&&(this.keyAttr=(0,s.getParametersValue)(t,"keyAttr",e.defaultValues("keyAttr"))),"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,i=[{key:"defaultValues",value:function(e){switch(e){case"keyAttrId":return"";case"keyAttr":return{};default:throw new Error("Invalid member name for OtherKeyAttribute class: ".concat(e))}}},{key:"compareWithDefault",value:function(e,t){switch(e){case"keyAttrId":return""===t;case"keyAttr":return 0===Object.keys(t).length;default:throw new Error("Invalid member name for OtherKeyAttribute class: ".concat(e))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,s.getParametersValue)(e,"names",{});return new o.Sequence({optional:t.optional||!0,name:t.blockName||"",value:[new o.ObjectIdentifier({name:t.keyAttrId||""}),new o.Any({optional:!0,name:t.keyAttr||""})]})}}],(r=[{key:"fromSchema",value:function(t){(0,s.clearProps)(t,["keyAttrId","keyAttr"]);var r=o.compareSchema(t,t,e.schema({names:{keyAttrId:"keyAttrId",keyAttr:"keyAttr"}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for OtherKeyAttribute");this.keyAttrId=r.result.keyAttrId.valueBlock.toString(),"keyAttr"in r.result&&(this.keyAttr=r.result.keyAttr)}},{key:"toSchema",value:function(){var e=[];return e.push(new o.ObjectIdentifier({value:this.keyAttrId})),"keyAttr"in this&&e.push(this.keyAttr),new o.Sequence({value:e})}},{key:"toJSON",value:function(){var e={keyAttrId:this.keyAttrId};return"keyAttr"in this&&(e.keyAttr=this.keyAttr.toJSON()),e}}])&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=l},{asn1js:1,pvutils:447}],396:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),s=e("pvutils");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}var l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.prime=(0,s.getParametersValue)(t,"prime",e.defaultValues("prime")),this.exponent=(0,s.getParametersValue)(t,"exponent",e.defaultValues("exponent")),this.coefficient=(0,s.getParametersValue)(t,"coefficient",e.defaultValues("coefficient")),"schema"in t&&this.fromSchema(t.schema),"json"in t&&this.fromJSON(t.json)}var t,r,i;return t=e,i=[{key:"defaultValues",value:function(e){switch(e){case"prime":case"exponent":case"coefficient":return new o.Integer;default:throw new Error("Invalid member name for OtherPrimeInfo class: ".concat(e))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,s.getParametersValue)(e,"names",{});return new o.Sequence({name:t.blockName||"",value:[new o.Integer({name:t.prime||""}),new o.Integer({name:t.exponent||""}),new o.Integer({name:t.coefficient||""})]})}}],(r=[{key:"fromSchema",value:function(t){(0,s.clearProps)(t,["prime","exponent","coefficient"]);var r=o.compareSchema(t,t,e.schema({names:{prime:"prime",exponent:"exponent",coefficient:"coefficient"}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for OtherPrimeInfo");this.prime=r.result.prime.convertFromDER(),this.exponent=r.result.exponent.convertFromDER(),this.coefficient=r.result.coefficient.convertFromDER()}},{key:"toSchema",value:function(){return new o.Sequence({value:[this.prime.convertToDER(),this.exponent.convertToDER(),this.coefficient.convertToDER()]})}},{key:"toJSON",value:function(){return{r:(0,s.toBase64)((0,s.arrayBufferToString)(this.prime.valueBlock.valueHex),!0,!0),d:(0,s.toBase64)((0,s.arrayBufferToString)(this.exponent.valueBlock.valueHex),!0,!0),t:(0,s.toBase64)((0,s.arrayBufferToString)(this.coefficient.valueBlock.valueHex),!0,!0)}}},{key:"fromJSON",value:function(e){if(!("r"in e))throw new Error('Absent mandatory parameter "r"');if(this.prime=new o.Integer({valueHex:(0,s.stringToArrayBuffer)((0,s.fromBase64)(e.r,!0))}),!("d"in e))throw new Error('Absent mandatory parameter "d"');if(this.exponent=new o.Integer({valueHex:(0,s.stringToArrayBuffer)((0,s.fromBase64)(e.d,!0))}),!("t"in e))throw new Error('Absent mandatory parameter "t"');this.coefficient=new o.Integer({valueHex:(0,s.stringToArrayBuffer)((0,s.fromBase64)(e.t,!0))})}}])&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=l},{asn1js:1,pvutils:447}],397:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),s=e("pvutils");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}var l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.oriType=(0,s.getParametersValue)(t,"oriType",e.defaultValues("oriType")),this.oriValue=(0,s.getParametersValue)(t,"oriValue",e.defaultValues("oriValue")),"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,i=[{key:"defaultValues",value:function(e){switch(e){case"oriType":return"";case"oriValue":return{};default:throw new Error("Invalid member name for OtherRecipientInfo class: ".concat(e))}}},{key:"compareWithDefault",value:function(e,t){switch(e){case"oriType":return""===t;case"oriValue":return 0===Object.keys(t).length;default:throw new Error("Invalid member name for OtherRecipientInfo class: ".concat(e))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,s.getParametersValue)(e,"names",{});return new o.Sequence({name:t.blockName||"",value:[new o.ObjectIdentifier({name:t.oriType||""}),new o.Any({name:t.oriValue||""})]})}}],(r=[{key:"fromSchema",value:function(t){(0,s.clearProps)(t,["oriType","oriValue"]);var r=o.compareSchema(t,t,e.schema({names:{oriType:"oriType",oriValue:"oriValue"}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for OtherRecipientInfo");this.oriType=r.result.oriType.valueBlock.toString(),this.oriValue=r.result.oriValue}},{key:"toSchema",value:function(){return new o.Sequence({value:[new o.ObjectIdentifier({value:this.oriType}),this.oriValue]})}},{key:"toJSON",value:function(){var t={oriType:this.oriType};return!1===e.compareWithDefault("oriValue",this.oriValue)&&(t.oriValue=this.oriValue.toJSON()),t}}])&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=l},{asn1js:1,pvutils:447}],398:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),s=e("pvutils");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}var l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.otherRevInfoFormat=(0,s.getParametersValue)(t,"otherRevInfoFormat",e.defaultValues("otherRevInfoFormat")),this.otherRevInfo=(0,s.getParametersValue)(t,"otherRevInfo",e.defaultValues("otherRevInfo")),"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,i=[{key:"defaultValues",value:function(e){switch(e){case"otherRevInfoFormat":return"";case"otherRevInfo":return new o.Any;default:throw new Error("Invalid member name for OtherRevocationInfoFormat class: ".concat(e))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,s.getParametersValue)(e,"names",{});return new o.Sequence({name:t.blockName||"",value:[new o.ObjectIdentifier({name:t.otherRevInfoFormat||"otherRevInfoFormat"}),new o.Any({name:t.otherRevInfo||"otherRevInfo"})]})}}],(r=[{key:"fromSchema",value:function(t){(0,s.clearProps)(t,["otherRevInfoFormat","otherRevInfo"]);var r=o.compareSchema(t,t,e.schema());if(!1===r.verified)throw new Error("Object's schema was not verified against input data for OtherRevocationInfoFormat");this.otherRevInfoFormat=r.result.otherRevInfoFormat.valueBlock.toString(),this.otherRevInfo=r.result.otherRevInfo}},{key:"toSchema",value:function(){return new o.Sequence({value:[new o.ObjectIdentifier({value:this.otherRevInfoFormat}),this.otherRevInfo]})}},{key:"toJSON",value:function(){var e={otherRevInfoFormat:this.otherRevInfoFormat};return this.otherRevInfo instanceof o.Any||(e.otherRevInfo=this.otherRevInfo.toJSON()),e}}])&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=l},{asn1js:1,pvutils:447}],399:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),u=e("pvutils"),l=(o=e("./AlgorithmIdentifier.js"))&&o.__esModule?o:{default:o};function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}var f=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.keyDerivationFunc=(0,u.getParametersValue)(t,"keyDerivationFunc",e.defaultValues("keyDerivationFunc")),this.encryptionScheme=(0,u.getParametersValue)(t,"encryptionScheme",e.defaultValues("encryptionScheme")),"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,i=[{key:"defaultValues",value:function(e){switch(e){case"keyDerivationFunc":case"encryptionScheme":return new l.default;default:throw new Error("Invalid member name for PBES2Params class: ".concat(e))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,u.getParametersValue)(e,"names",{});return new s.Sequence({name:t.blockName||"",value:[l.default.schema(t.keyDerivationFunc||{}),l.default.schema(t.encryptionScheme||{})]})}}],(r=[{key:"fromSchema",value:function(t){(0,u.clearProps)(t,["keyDerivationFunc","encryptionScheme"]);var r=s.compareSchema(t,t,e.schema({names:{keyDerivationFunc:{names:{blockName:"keyDerivationFunc"}},encryptionScheme:{names:{blockName:"encryptionScheme"}}}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for PBES2Params");this.keyDerivationFunc=new l.default({schema:r.result.keyDerivationFunc}),this.encryptionScheme=new l.default({schema:r.result.encryptionScheme})}},{key:"toSchema",value:function(){return new s.Sequence({value:[this.keyDerivationFunc.toSchema(),this.encryptionScheme.toSchema()]})}},{key:"toJSON",value:function(){return{keyDerivationFunc:this.keyDerivationFunc.toJSON(),encryptionScheme:this.encryptionScheme.toJSON()}}}])&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=f},{"./AlgorithmIdentifier.js":338,asn1js:1,pvutils:447}],400:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),u=e("pvutils"),l=(o=e("./AlgorithmIdentifier.js"))&&o.__esModule?o:{default:o};function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}var f=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.salt=(0,u.getParametersValue)(t,"salt",e.defaultValues("salt")),this.iterationCount=(0,u.getParametersValue)(t,"iterationCount",e.defaultValues("iterationCount")),"keyLength"in t&&(this.keyLength=(0,u.getParametersValue)(t,"keyLength",e.defaultValues("keyLength"))),"prf"in t&&(this.prf=(0,u.getParametersValue)(t,"prf",e.defaultValues("prf"))),"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,i=[{key:"defaultValues",value:function(e){switch(e){case"salt":return{};case"iterationCount":return-1;case"keyLength":return 0;case"prf":return new l.default({algorithmId:"1.3.14.3.2.26",algorithmParams:new s.Null});default:throw new Error("Invalid member name for PBKDF2Params class: ".concat(e))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,u.getParametersValue)(e,"names",{});return new s.Sequence({name:t.blockName||"",value:[new s.Choice({value:[new s.OctetString({name:t.saltPrimitive||""}),l.default.schema(t.saltConstructed||{})]}),new s.Integer({name:t.iterationCount||""}),new s.Integer({name:t.keyLength||"",optional:!0}),l.default.schema(t.prf||{names:{optional:!0}})]})}}],(r=[{key:"fromSchema",value:function(t){(0,u.clearProps)(t,["salt","iterationCount","keyLength","prf"]);var r=s.compareSchema(t,t,e.schema({names:{saltPrimitive:"salt",saltConstructed:{names:{blockName:"salt"}},iterationCount:"iterationCount",keyLength:"keyLength",prf:{names:{blockName:"prf",optional:!0}}}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for PBKDF2Params");this.salt=r.result.salt,this.iterationCount=r.result.iterationCount.valueBlock.valueDec,"keyLength"in r.result&&(this.keyLength=r.result.keyLength.valueBlock.valueDec),"prf"in r.result&&(this.prf=new l.default({schema:r.result.prf}))}},{key:"toSchema",value:function(){var t=[];return t.push(this.salt),t.push(new s.Integer({value:this.iterationCount})),"keyLength"in this&&e.defaultValues("keyLength")!==this.keyLength&&t.push(new s.Integer({value:this.keyLength})),"prf"in this&&!1===e.defaultValues("prf").isEqual(this.prf)&&t.push(this.prf.toSchema()),new s.Sequence({value:t})}},{key:"toJSON",value:function(){var t={salt:this.salt.toJSON(),iterationCount:this.iterationCount};return"keyLength"in this&&e.defaultValues("keyLength")!==this.keyLength&&(t.keyLength=this.keyLength),"prf"in this&&!1===e.defaultValues("prf").isEqual(this.prf)&&(t.prf=this.prf.toJSON()),t}}])&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=f},{"./AlgorithmIdentifier.js":338,asn1js:1,pvutils:447}],401:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=k(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),s=e("pvutils"),u=e("./common.js"),l=w(e("./ContentInfo.js")),c=w(e("./MacData.js")),f=w(e("./DigestInfo.js")),h=w(e("./AlgorithmIdentifier.js")),m=w(e("./SignedData.js")),p=w(e("./EncapsulatedContentInfo.js")),d=w(e("./Attribute.js")),y=w(e("./SignerInfo.js")),v=w(e("./IssuerAndSerialNumber.js")),g=w(e("./SignedAndUnsignedAttributes.js")),b=w(e("./AuthenticatedSafe.js"));function w(e){return e&&e.__esModule?e:{default:e}}function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(k=function(e){return e?r:t})(e)}function S(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var P=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.version=(0,s.getParametersValue)(t,"version",e.defaultValues("version")),this.authSafe=(0,s.getParametersValue)(t,"authSafe",e.defaultValues("authSafe")),"macData"in t&&(this.macData=(0,s.getParametersValue)(t,"macData",e.defaultValues("macData"))),"parsedValue"in t&&(this.parsedValue=(0,s.getParametersValue)(t,"parsedValue",e.defaultValues("parsedValue"))),"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,r=[{key:"fromSchema",value:function(t){(0,s.clearProps)(t,["version","authSafe","macData"]);var r=o.compareSchema(t,t,e.schema({names:{version:"version",authSafe:{names:{blockName:"authSafe"}},macData:{names:{blockName:"macData"}}}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for PFX");this.version=r.result.version.valueBlock.valueDec,this.authSafe=new l.default({schema:r.result.authSafe}),"macData"in r.result&&(this.macData=new c.default({schema:r.result.macData}))}},{key:"toSchema",value:function(){var e=[new o.Integer({value:this.version}),this.authSafe.toSchema()];return"macData"in this&&e.push(this.macData.toSchema()),new o.Sequence({value:e})}},{key:"toJSON",value:function(){var e={version:this.version,authSafe:this.authSafe.toJSON()};return"macData"in this&&(e.macData=this.macData.toJSON()),e}},{key:"makeInternalValues",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t instanceof Object==0)return Promise.reject('The "parameters" must has "Object" type');if("parsedValue"in this==0)return Promise.reject('Please call "parseValues" function first in order to make "parsedValue" data');if("integrityMode"in this.parsedValue==0)return Promise.reject('Absent mandatory parameter "integrityMode" inside "parsedValue"');var r=Promise.resolve(),n=(0,u.getCrypto)();if(void 0===n)return Promise.reject("Unable to create WebCrypto object");if("authenticatedSafe"in this.parsedValue==0)return Promise.reject('Absent mandatory parameter "authenticatedSafe" in "parsedValue"');switch(this.parsedValue.integrityMode){case 0:if("iterations"in t==0)return Promise.reject('Absent mandatory parameter "iterations"');if("pbkdf2HashAlgorithm"in t==0)return Promise.reject('Absent mandatory parameter "pbkdf2HashAlgorithm"');if("hmacHashAlgorithm"in t==0)return Promise.reject('Absent mandatory parameter "hmacHashAlgorithm"');if("password"in t==0)return Promise.reject('Absent mandatory parameter "password"');var a=new ArrayBuffer(64),i=new Uint8Array(a);(0,u.getRandomValues)(i);var s=this.parsedValue.authenticatedSafe.toSchema().toBER(!1);this.authSafe=new l.default({contentType:"1.2.840.113549.1.7.1",content:new o.OctetString({valueHex:s})});var b=(0,u.getEngine)();if("stampDataWithPassword"in b.subtle==0)return Promise.reject('No support for "stampDataWithPassword" in current engine "'.concat(b.name,'"'));r=(r=r.then((function(){return b.subtle.stampDataWithPassword({password:t.password,hashAlgorithm:t.hmacHashAlgorithm,salt:a,iterationCount:t.iterations,contentToStamp:s})}))).then((function(r){e.macData=new c.default({mac:new f.default({digestAlgorithm:new h.default({algorithmId:(0,u.getOIDByAlgorithm)({name:t.hmacHashAlgorithm})}),digest:new o.OctetString({valueHex:r})}),macSalt:new o.OctetString({valueHex:a}),iterations:t.iterations})}),(function(e){return Promise.reject(e)}));break;case 1:if("signingCertificate"in t==0)return Promise.reject('Absent mandatory parameter "signingCertificate"');if("privateKey"in t==0)return Promise.reject('Absent mandatory parameter "privateKey"');if("hashAlgorithm"in t==0)return Promise.reject('Absent mandatory parameter "hashAlgorithm"');var w=this.parsedValue.authenticatedSafe.toSchema().toBER(!1),k=new m.default({version:1,encapContentInfo:new p.default({eContentType:"1.2.840.113549.1.7.1",eContent:new o.OctetString({valueHex:w})}),certificates:[t.signingCertificate]});r=(r=(r=(r=r.then((function(){return n.digest({name:t.hashAlgorithm},new Uint8Array(w))}))).then((function(e){var r=[];r.push(new d.default({type:"1.2.840.113549.1.9.3",values:[new o.ObjectIdentifier({value:"1.2.840.113549.1.7.1"})]})),r.push(new d.default({type:"1.2.840.113549.1.9.5",values:[new o.UTCTime({valueDate:new Date})]})),r.push(new d.default({type:"1.2.840.113549.1.9.4",values:[new o.OctetString({valueHex:e})]})),k.signerInfos.push(new y.default({version:1,sid:new v.default({issuer:t.signingCertificate.issuer,serialNumber:t.signingCertificate.serialNumber}),signedAttrs:new g.default({type:0,attributes:r})}))}),(function(e){return Promise.reject("Error during making digest for message: ".concat(e))}))).then((function(){return k.sign(t.privateKey,0,t.hashAlgorithm)}))).then((function(){e.authSafe=new l.default({contentType:"1.2.840.113549.1.7.2",content:k.toSchema(!0)})}),(function(e){return Promise.reject("Error during making signature: ".concat(e))}));break;default:return Promise.reject('Parameter "integrityMode" has unknown value: '.concat(t.integrityMode))}return r}},{key:"parseInternalValues",value:function(e){var t=this;if(e instanceof Object==0)return Promise.reject('The "parameters" must has "Object" type');"checkIntegrity"in e==0&&(e.checkIntegrity=!0);var r=Promise.resolve();if(void 0===(0,u.getCrypto)())return Promise.reject("Unable to create WebCrypto object");switch(this.parsedValue={},this.authSafe.contentType){case"1.2.840.113549.1.7.1":if("password"in e==0)return Promise.reject('Absent mandatory parameter "password"');if(this.parsedValue.integrityMode=0,this.authSafe.content instanceof o.OctetString==0)return Promise.reject('Wrong type of "this.authSafe.content"');var n=new ArrayBuffer(0);if(this.authSafe.content.valueBlock.isConstructed){var a,i=S(this.authSafe.content.valueBlock.value);try{for(i.s();!(a=i.n()).done;){var l=a.value;n=(0,s.utilConcatBuf)(n,l.valueBlock.valueHex)}}catch(e){i.e(e)}finally{i.f()}}else n=this.authSafe.content.valueBlock.valueHex;var c=o.fromBER(n);if(-1===c.offset)return Promise.reject('Error during parsing of ASN.1 data inside "this.authSafe.content"');if(this.parsedValue.authenticatedSafe=new b.default({schema:c.result}),e.checkIntegrity){if("macData"in this==0)return Promise.reject('Absent "macData" value, can not check PKCS#12 data integrity');var f=(0,u.getAlgorithmByOID)(this.macData.mac.digestAlgorithm.algorithmId);if("name"in f==0)return Promise.reject("Unsupported digest algorithm: ".concat(this.macData.mac.digestAlgorithm.algorithmId));var h=(0,u.getEngine)();r=(r=r.then((function(){return h.subtle.verifyDataStampedWithPassword({password:e.password,hashAlgorithm:f.name,salt:t.macData.macSalt.valueBlock.valueHex,iterationCount:t.macData.iterations,contentToVerify:n,signatureToVerify:t.macData.mac.digest.valueBlock.valueHex})}))).then((function(e){return!1===e?Promise.reject("Integrity for the PKCS#12 data is broken!"):Promise.resolve()}),(function(e){return Promise.reject(e)}))}break;case"1.2.840.113549.1.7.2":this.parsedValue.integrityMode=1;var p=new m.default({schema:this.authSafe.content});if("eContent"in p.encapContentInfo==0)return Promise.reject('Absent of attached data in "cmsSigned.encapContentInfo"');if(p.encapContentInfo.eContent instanceof o.OctetString==0)return Promise.reject('Wrong type of "cmsSigned.encapContentInfo.eContent"');var d=new ArrayBuffer(0);if(!1===p.encapContentInfo.eContent.idBlock.isConstructed)d=p.encapContentInfo.eContent.valueBlock.valueHex;else for(var y=0;y<p.encapContentInfo.eContent.valueBlock.value.length;y++)d=(0,s.utilConcatBuf)(d,p.encapContentInfo.eContent.valueBlock.value[y].valueBlock.valueHex);var v=o.fromBER(d);if(-1===v.offset)return Promise.reject('Error during parsing of ASN.1 data inside "this.authSafe.content"');this.parsedValue.authenticatedSafe=new b.default({schema:v.result}),r=r.then((function(){return p.verify({signer:0,checkChain:!1})})).then((function(e){return!1===e?Promise.reject("Integrity for the PKCS#12 data is broken!"):Promise.resolve()}),(function(e){return Promise.reject("Error during integrity verification: ".concat(e))}));break;default:return Promise.reject('Incorrect value for "this.authSafe.contentType": '.concat(this.authSafe.contentType))}return r.then((function(){return t}),(function(e){return Promise.reject("Error during parsing: ".concat(e))}))}}],i=[{key:"defaultValues",value:function(e){switch(e){case"version":return 3;case"authSafe":return new l.default;case"macData":return new c.default;case"parsedValue":return{};default:throw new Error("Invalid member name for PFX class: ".concat(e))}}},{key:"compareWithDefault",value:function(t,r){switch(t){case"version":return r===e.defaultValues(t);case"authSafe":return l.default.compareWithDefault("contentType",r.contentType)&&l.default.compareWithDefault("content",r.content);case"macData":return c.default.compareWithDefault("mac",r.mac)&&c.default.compareWithDefault("macSalt",r.macSalt)&&c.default.compareWithDefault("iterations",r.iterations);case"parsedValue":return r instanceof Object&&0===Object.keys(r).length;default:throw new Error("Invalid member name for PFX class: ".concat(t))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,s.getParametersValue)(e,"names",{});return new o.Sequence({name:t.blockName||"",value:[new o.Integer({name:t.version||"version"}),l.default.schema(t.authSafe||{names:{blockName:"authSafe"}}),c.default.schema(t.macData||{names:{blockName:"macData",optional:!0}})]})}}],r&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=P},{"./AlgorithmIdentifier.js":338,"./Attribute.js":340,"./AuthenticatedSafe.js":344,"./ContentInfo.js":360,"./DigestInfo.js":362,"./EncapsulatedContentInfo.js":367,"./IssuerAndSerialNumber.js":378,"./MacData.js":386,"./SignedAndUnsignedAttributes.js":433,"./SignedData.js":435,"./SignerInfo.js":436,"./common.js":444,asn1js:1,pvutils:447}],402:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=m(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),s=e("pvutils"),u=h(e("./AlgorithmIdentifier.js")),l=h(e("./EncryptedData.js")),c=h(e("./EncryptedContentInfo.js")),f=h(e("./PrivateKeyInfo.js"));function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(m=function(e){return e?r:t})(e)}var p=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.encryptionAlgorithm=(0,s.getParametersValue)(t,"encryptionAlgorithm",e.defaultValues("encryptionAlgorithm")),this.encryptedData=(0,s.getParametersValue)(t,"encryptedData",e.defaultValues("encryptedData")),"parsedValue"in t&&(this.parsedValue=(0,s.getParametersValue)(t,"parsedValue",e.defaultValues("parsedValue"))),"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,i=[{key:"defaultValues",value:function(e){switch(e){case"encryptionAlgorithm":return new u.default;case"encryptedData":return new o.OctetString;case"parsedValue":return{};default:throw new Error("Invalid member name for PKCS8ShroudedKeyBag class: ".concat(e))}}},{key:"compareWithDefault",value:function(t,r){switch(t){case"encryptionAlgorithm":return u.default.compareWithDefault("algorithmId",r.algorithmId)&&"algorithmParams"in r==0;case"encryptedData":return r.isEqual(e.defaultValues(t));case"parsedValue":return r instanceof Object&&0===Object.keys(r).length;default:throw new Error("Invalid member name for PKCS8ShroudedKeyBag class: ".concat(t))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,s.getParametersValue)(e,"names",{});return new o.Sequence({name:t.blockName||"",value:[u.default.schema(t.encryptionAlgorithm||{names:{blockName:"encryptionAlgorithm"}}),new o.Choice({value:[new o.OctetString({name:t.encryptedData||"encryptedData"}),new o.OctetString({idBlock:{isConstructed:!0},name:t.encryptedData||"encryptedData"})]})]})}}],(r=[{key:"fromSchema",value:function(t){(0,s.clearProps)(t,["encryptionAlgorithm","encryptedData"]);var r=o.compareSchema(t,t,e.schema({names:{encryptionAlgorithm:{names:{blockName:"encryptionAlgorithm"}},encryptedData:"encryptedData"}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for PKCS8ShroudedKeyBag");this.encryptionAlgorithm=new u.default({schema:r.result.encryptionAlgorithm}),this.encryptedData=r.result.encryptedData}},{key:"toSchema",value:function(){return new o.Sequence({value:[this.encryptionAlgorithm.toSchema(),this.encryptedData]})}},{key:"toJSON",value:function(){return{encryptionAlgorithm:this.encryptionAlgorithm.toJSON(),encryptedData:this.encryptedData.toJSON()}}},{key:"parseInternalValues",value:function(e){var t=this,r=Promise.resolve(),n=new l.default({encryptedContentInfo:new c.default({contentEncryptionAlgorithm:this.encryptionAlgorithm,encryptedContent:this.encryptedData})});return r=(r=r.then((function(){return n.decrypt(e)}),(function(e){return Promise.reject(e)}))).then((function(e){var r=o.fromBER(e);return-1===r.offset?Promise.reject("Error during parsing ASN.1 data"):(t.parsedValue=new f.default({schema:r.result}),Promise.resolve())}),(function(e){return Promise.reject(e)}))}},{key:"makeInternalValues",value:function(e){var t=this;if("parsedValue"in this==0)return Promise.reject('Please initialize "parsedValue" first');var r=Promise.resolve(),n=new l.default;return r=(r=r.then((function(){return e.contentToEncrypt=t.parsedValue.toSchema().toBER(!1),n.encrypt(e)}),(function(e){return Promise.reject(e)}))).then((function(){t.encryptionAlgorithm=n.encryptedContentInfo.contentEncryptionAlgorithm,t.encryptedData=n.encryptedContentInfo.encryptedContent}))}}])&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=p},{"./AlgorithmIdentifier.js":338,"./EncryptedContentInfo.js":368,"./EncryptedData.js":369,"./PrivateKeyInfo.js":410,asn1js:1,pvutils:447}],403:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),s=e("pvutils");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}var l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.status=(0,s.getParametersValue)(t,"status",e.defaultValues("status")),"statusStrings"in t&&(this.statusStrings=(0,s.getParametersValue)(t,"statusStrings",e.defaultValues("statusStrings"))),"failInfo"in t&&(this.failInfo=(0,s.getParametersValue)(t,"failInfo",e.defaultValues("failInfo"))),"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,i=[{key:"defaultValues",value:function(e){switch(e){case"status":return 2;case"statusStrings":return[];case"failInfo":return new o.BitString;default:throw new Error("Invalid member name for PKIStatusInfo class: ".concat(e))}}},{key:"compareWithDefault",value:function(t,r){switch(t){case"status":return r===e.defaultValues(t);case"statusStrings":return 0===r.length;case"failInfo":return r.isEqual(e.defaultValues(t));default:throw new Error("Invalid member name for PKIStatusInfo class: ".concat(t))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,s.getParametersValue)(e,"names",{});return new o.Sequence({name:t.blockName||"",value:[new o.Integer({name:t.status||""}),new o.Sequence({optional:!0,value:[new o.Repeated({name:t.statusStrings||"",value:new o.Utf8String})]}),new o.BitString({name:t.failInfo||"",optional:!0})]})}}],(r=[{key:"fromSchema",value:function(t){(0,s.clearProps)(t,["status","statusStrings","failInfo"]);var r=o.compareSchema(t,t,e.schema({names:{status:"status",statusStrings:"statusStrings",failInfo:"failInfo"}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for PKIStatusInfo");var n=r.result.status;if(!0===n.valueBlock.isHexOnly||n.valueBlock.valueDec<0||n.valueBlock.valueDec>5)throw new Error('PKIStatusInfo "status" has invalid value');this.status=n.valueBlock.valueDec,"statusStrings"in r.result&&(this.statusStrings=r.result.statusStrings),"failInfo"in r.result&&(this.failInfo=r.result.failInfo)}},{key:"toSchema",value:function(){var e=[];return e.push(new o.Integer({value:this.status})),"statusStrings"in this&&e.push(new o.Sequence({optional:!0,value:this.statusStrings})),"failInfo"in this&&e.push(this.failInfo),new o.Sequence({value:e})}},{key:"toJSON",value:function(){var e={status:this.status};return"statusStrings"in this&&(e.statusStrings=Array.from(this.statusStrings,(function(e){return e.toJSON()}))),"failInfo"in this&&(e.failInfo=this.failInfo.toJSON()),e}}])&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=l},{asn1js:1,pvutils:447}],404:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),u=e("pvutils"),l=(o=e("./AlgorithmIdentifier.js"))&&o.__esModule?o:{default:o};function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}var f=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.version=(0,u.getParametersValue)(t,"version",e.defaultValues("version")),"keyDerivationAlgorithm"in t&&(this.keyDerivationAlgorithm=(0,u.getParametersValue)(t,"keyDerivationAlgorithm",e.defaultValues("keyDerivationAlgorithm"))),this.keyEncryptionAlgorithm=(0,u.getParametersValue)(t,"keyEncryptionAlgorithm",e.defaultValues("keyEncryptionAlgorithm")),this.encryptedKey=(0,u.getParametersValue)(t,"encryptedKey",e.defaultValues("encryptedKey")),this.password=(0,u.getParametersValue)(t,"password",e.defaultValues("password")),"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,i=[{key:"defaultValues",value:function(e){switch(e){case"version":return-1;case"keyDerivationAlgorithm":case"keyEncryptionAlgorithm":return new l.default;case"encryptedKey":return new s.OctetString;case"password":return new ArrayBuffer(0);default:throw new Error("Invalid member name for PasswordRecipientinfo class: ".concat(e))}}},{key:"compareWithDefault",value:function(t,r){switch(t){case"version":return-1===r;case"keyDerivationAlgorithm":case"keyEncryptionAlgorithm":return""===r.algorithmId&&"algorithmParams"in r==0;case"encryptedKey":return r.isEqual(e.defaultValues("encryptedKey"));case"password":return 0===r.byteLength;default:throw new Error("Invalid member name for PasswordRecipientinfo class: ".concat(t))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,u.getParametersValue)(e,"names",{});return new s.Sequence({name:t.blockName||"",value:[new s.Integer({name:t.version||""}),new s.Constructed({name:t.keyDerivationAlgorithm||"",optional:!0,idBlock:{tagClass:3,tagNumber:0},value:l.default.schema().valueBlock.value}),l.default.schema(t.keyEncryptionAlgorithm||{}),new s.OctetString({name:t.encryptedKey||""})]})}}],(r=[{key:"fromSchema",value:function(t){(0,u.clearProps)(t,["version","keyDerivationAlgorithm","keyEncryptionAlgorithm","encryptedKey"]);var r=s.compareSchema(t,t,e.schema({names:{version:"version",keyDerivationAlgorithm:"keyDerivationAlgorithm",keyEncryptionAlgorithm:{names:{blockName:"keyEncryptionAlgorithm"}},encryptedKey:"encryptedKey"}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for PasswordRecipientinfo");this.version=r.result.version.valueBlock.valueDec,"keyDerivationAlgorithm"in r.result&&(this.keyDerivationAlgorithm=new l.default({schema:new s.Sequence({value:r.result.keyDerivationAlgorithm.valueBlock.value})})),this.keyEncryptionAlgorithm=new l.default({schema:r.result.keyEncryptionAlgorithm}),this.encryptedKey=r.result.encryptedKey}},{key:"toSchema",value:function(){var e=[];return e.push(new s.Integer({value:this.version})),"keyDerivationAlgorithm"in this&&e.push(new s.Constructed({idBlock:{tagClass:3,tagNumber:0},value:this.keyDerivationAlgorithm.toSchema().valueBlock.value})),e.push(this.keyEncryptionAlgorithm.toSchema()),e.push(this.encryptedKey),new s.Sequence({value:e})}},{key:"toJSON",value:function(){return{version:this.version,keyDerivationAlgorithm:this.keyDerivationAlgorithm.toJSON(),keyEncryptionAlgorithm:this.keyEncryptionAlgorithm.toJSON(),encryptedKey:this.encryptedKey.toJSON()}}}])&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=f},{"./AlgorithmIdentifier.js":338,asn1js:1,pvutils:447}],405:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),s=e("pvutils");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}var l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),"requireExplicitPolicy"in t&&(this.requireExplicitPolicy=(0,s.getParametersValue)(t,"requireExplicitPolicy",e.defaultValues("requireExplicitPolicy"))),"inhibitPolicyMapping"in t&&(this.inhibitPolicyMapping=(0,s.getParametersValue)(t,"inhibitPolicyMapping",e.defaultValues("inhibitPolicyMapping"))),"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,i=[{key:"defaultValues",value:function(e){switch(e){case"requireExplicitPolicy":case"inhibitPolicyMapping":return 0;default:throw new Error("Invalid member name for PolicyConstraints class: ".concat(e))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,s.getParametersValue)(e,"names",{});return new o.Sequence({name:t.blockName||"",value:[new o.Primitive({name:t.requireExplicitPolicy||"",optional:!0,idBlock:{tagClass:3,tagNumber:0}}),new o.Primitive({name:t.inhibitPolicyMapping||"",optional:!0,idBlock:{tagClass:3,tagNumber:1}})]})}}],(r=[{key:"fromSchema",value:function(t){(0,s.clearProps)(t,["requireExplicitPolicy","inhibitPolicyMapping"]);var r=o.compareSchema(t,t,e.schema({names:{requireExplicitPolicy:"requireExplicitPolicy",inhibitPolicyMapping:"inhibitPolicyMapping"}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for PolicyConstraints");if("requireExplicitPolicy"in r.result){var n=r.result.requireExplicitPolicy;n.idBlock.tagClass=1,n.idBlock.tagNumber=2;var a=n.toBER(!1),i=o.fromBER(a);this.requireExplicitPolicy=i.result.valueBlock.valueDec}if("inhibitPolicyMapping"in r.result){var u=r.result.inhibitPolicyMapping;u.idBlock.tagClass=1,u.idBlock.tagNumber=2;var l=u.toBER(!1),c=o.fromBER(l);this.inhibitPolicyMapping=c.result.valueBlock.valueDec}}},{key:"toSchema",value:function(){var e=[];if("requireExplicitPolicy"in this){var t=new o.Integer({value:this.requireExplicitPolicy});t.idBlock.tagClass=3,t.idBlock.tagNumber=0,e.push(t)}if("inhibitPolicyMapping"in this){var r=new o.Integer({value:this.inhibitPolicyMapping});r.idBlock.tagClass=3,r.idBlock.tagNumber=1,e.push(r)}return new o.Sequence({value:e})}},{key:"toJSON",value:function(){var e={};return"requireExplicitPolicy"in this&&(e.requireExplicitPolicy=this.requireExplicitPolicy),"inhibitPolicyMapping"in this&&(e.inhibitPolicyMapping=this.inhibitPolicyMapping),e}}])&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=l},{asn1js:1,pvutils:447}],406:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),u=e("pvutils"),l=(o=e("./PolicyQualifierInfo.js"))&&o.__esModule?o:{default:o};function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}var f=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.policyIdentifier=(0,u.getParametersValue)(t,"policyIdentifier",e.defaultValues("policyIdentifier")),"policyQualifiers"in t&&(this.policyQualifiers=(0,u.getParametersValue)(t,"policyQualifiers",e.defaultValues("policyQualifiers"))),"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,i=[{key:"defaultValues",value:function(e){switch(e){case"policyIdentifier":return"";case"policyQualifiers":return[];default:throw new Error("Invalid member name for PolicyInformation class: ".concat(e))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,u.getParametersValue)(e,"names",{});return new s.Sequence({name:t.blockName||"",value:[new s.ObjectIdentifier({name:t.policyIdentifier||""}),new s.Sequence({optional:!0,value:[new s.Repeated({name:t.policyQualifiers||"",value:l.default.schema()})]})]})}}],(r=[{key:"fromSchema",value:function(t){(0,u.clearProps)(t,["policyIdentifier","policyQualifiers"]);var r=s.compareSchema(t,t,e.schema({names:{policyIdentifier:"policyIdentifier",policyQualifiers:"policyQualifiers"}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for PolicyInformation");this.policyIdentifier=r.result.policyIdentifier.valueBlock.toString(),"policyQualifiers"in r.result&&(this.policyQualifiers=Array.from(r.result.policyQualifiers,(function(e){return new l.default({schema:e})})))}},{key:"toSchema",value:function(){var e=[];return e.push(new s.ObjectIdentifier({value:this.policyIdentifier})),"policyQualifiers"in this&&e.push(new s.Sequence({value:Array.from(this.policyQualifiers,(function(e){return e.toSchema()}))})),new s.Sequence({value:e})}},{key:"toJSON",value:function(){var e={policyIdentifier:this.policyIdentifier};return"policyQualifiers"in this&&(e.policyQualifiers=Array.from(this.policyQualifiers,(function(e){return e.toJSON()}))),e}}])&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=f},{"./PolicyQualifierInfo.js":409,asn1js:1,pvutils:447}],407:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),s=e("pvutils");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}var l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.issuerDomainPolicy=(0,s.getParametersValue)(t,"issuerDomainPolicy",e.defaultValues("issuerDomainPolicy")),this.subjectDomainPolicy=(0,s.getParametersValue)(t,"subjectDomainPolicy",e.defaultValues("subjectDomainPolicy")),"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,i=[{key:"defaultValues",value:function(e){switch(e){case"issuerDomainPolicy":case"subjectDomainPolicy":return"";default:throw new Error("Invalid member name for PolicyMapping class: ".concat(e))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,s.getParametersValue)(e,"names",{});return new o.Sequence({name:t.blockName||"",value:[new o.ObjectIdentifier({name:t.issuerDomainPolicy||""}),new o.ObjectIdentifier({name:t.subjectDomainPolicy||""})]})}}],(r=[{key:"fromSchema",value:function(t){(0,s.clearProps)(t,["issuerDomainPolicy","subjectDomainPolicy"]);var r=o.compareSchema(t,t,e.schema({names:{issuerDomainPolicy:"issuerDomainPolicy",subjectDomainPolicy:"subjectDomainPolicy"}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for PolicyMapping");this.issuerDomainPolicy=r.result.issuerDomainPolicy.valueBlock.toString(),this.subjectDomainPolicy=r.result.subjectDomainPolicy.valueBlock.toString()}},{key:"toSchema",value:function(){return new o.Sequence({value:[new o.ObjectIdentifier({value:this.issuerDomainPolicy}),new o.ObjectIdentifier({value:this.subjectDomainPolicy})]})}},{key:"toJSON",value:function(){return{issuerDomainPolicy:this.issuerDomainPolicy,subjectDomainPolicy:this.subjectDomainPolicy}}}])&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=l},{asn1js:1,pvutils:447}],408:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),u=e("pvutils"),l=(o=e("./PolicyMapping.js"))&&o.__esModule?o:{default:o};function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}var f=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.mappings=(0,u.getParametersValue)(t,"mappings",e.defaultValues("mappings")),"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,i=[{key:"defaultValues",value:function(e){if("mappings"===e)return[];throw new Error("Invalid member name for PolicyMappings class: ".concat(e))}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,u.getParametersValue)(e,"names",{});return new s.Sequence({name:t.blockName||"",value:[new s.Repeated({name:t.mappings||"",value:l.default.schema()})]})}}],(r=[{key:"fromSchema",value:function(t){(0,u.clearProps)(t,["mappings"]);var r=s.compareSchema(t,t,e.schema({names:{mappings:"mappings"}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for PolicyMappings");this.mappings=Array.from(r.result.mappings,(function(e){return new l.default({schema:e})}))}},{key:"toSchema",value:function(){return new s.Sequence({value:Array.from(this.mappings,(function(e){return e.toSchema()}))})}},{key:"toJSON",value:function(){return{mappings:Array.from(this.mappings,(function(e){return e.toJSON()}))}}}])&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=f},{"./PolicyMapping.js":407,asn1js:1,pvutils:447}],409:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),s=e("pvutils");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}var l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.policyQualifierId=(0,s.getParametersValue)(t,"policyQualifierId",e.defaultValues("policyQualifierId")),this.qualifier=(0,s.getParametersValue)(t,"qualifier",e.defaultValues("qualifier")),"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,i=[{key:"defaultValues",value:function(e){switch(e){case"policyQualifierId":return"";case"qualifier":return new o.Any;default:throw new Error("Invalid member name for PolicyQualifierInfo class: ".concat(e))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,s.getParametersValue)(e,"names",{});return new o.Sequence({name:t.blockName||"",value:[new o.ObjectIdentifier({name:t.policyQualifierId||""}),new o.Any({name:t.qualifier||""})]})}}],(r=[{key:"fromSchema",value:function(t){(0,s.clearProps)(t,["policyQualifierId","qualifier"]);var r=o.compareSchema(t,t,e.schema({names:{policyQualifierId:"policyQualifierId",qualifier:"qualifier"}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for PolicyQualifierInfo");this.policyQualifierId=r.result.policyQualifierId.valueBlock.toString(),this.qualifier=r.result.qualifier}},{key:"toSchema",value:function(){return new o.Sequence({value:[new o.ObjectIdentifier({value:this.policyQualifierId}),this.qualifier]})}},{key:"toJSON",value:function(){return{policyQualifierId:this.policyQualifierId,qualifier:this.qualifier.toJSON()}}}])&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=l},{asn1js:1,pvutils:447}],410:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=m(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),s=e("pvutils"),u=h(e("./AlgorithmIdentifier.js")),l=h(e("./Attribute.js")),c=h(e("./ECPrivateKey.js")),f=h(e("./RSAPrivateKey.js"));function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(m=function(e){return e?r:t})(e)}var p=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.version=(0,s.getParametersValue)(t,"version",e.defaultValues("version")),this.privateKeyAlgorithm=(0,s.getParametersValue)(t,"privateKeyAlgorithm",e.defaultValues("privateKeyAlgorithm")),this.privateKey=(0,s.getParametersValue)(t,"privateKey",e.defaultValues("privateKey")),"attributes"in t&&(this.attributes=(0,s.getParametersValue)(t,"attributes",e.defaultValues("attributes"))),"parsedKey"in t&&(this.parsedKey=(0,s.getParametersValue)(t,"parsedKey",e.defaultValues("parsedKey"))),"schema"in t&&this.fromSchema(t.schema),"json"in t&&this.fromJSON(t.json)}var t,r,i;return t=e,i=[{key:"defaultValues",value:function(e){switch(e){case"version":return 0;case"privateKeyAlgorithm":return new u.default;case"privateKey":return new o.OctetString;case"attributes":return[];case"parsedKey":return{};default:throw new Error("Invalid member name for PrivateKeyInfo class: ".concat(e))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,s.getParametersValue)(e,"names",{});return new o.Sequence({name:t.blockName||"",value:[new o.Integer({name:t.version||""}),u.default.schema(t.privateKeyAlgorithm||{}),new o.OctetString({name:t.privateKey||""}),new o.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new o.Repeated({name:t.attributes||"",value:l.default.schema()})]})]})}}],(r=[{key:"fromSchema",value:function(t){(0,s.clearProps)(t,["version","privateKeyAlgorithm","privateKey","attributes"]);var r=o.compareSchema(t,t,e.schema({names:{version:"version",privateKeyAlgorithm:{names:{blockName:"privateKeyAlgorithm"}},privateKey:"privateKey",attributes:"attributes"}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for PrivateKeyInfo");switch(this.version=r.result.version.valueBlock.valueDec,this.privateKeyAlgorithm=new u.default({schema:r.result.privateKeyAlgorithm}),this.privateKey=r.result.privateKey,"attributes"in r.result&&(this.attributes=Array.from(r.result.attributes,(function(e){return new l.default({schema:e})}))),this.privateKeyAlgorithm.algorithmId){case"1.2.840.113549.1.1.1":var n=o.fromBER(this.privateKey.valueBlock.valueHex);-1!==n.offset&&(this.parsedKey=new f.default({schema:n.result}));break;case"1.2.840.10045.2.1":if("algorithmParams"in this.privateKeyAlgorithm&&this.privateKeyAlgorithm.algorithmParams instanceof o.ObjectIdentifier){var a=o.fromBER(this.privateKey.valueBlock.valueHex);-1!==a.offset&&(this.parsedKey=new c.default({namedCurve:this.privateKeyAlgorithm.algorithmParams.valueBlock.toString(),schema:a.result}))}}}},{key:"toSchema",value:function(){var e=[new o.Integer({value:this.version}),this.privateKeyAlgorithm.toSchema(),this.privateKey];return"attributes"in this&&e.push(new o.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.attributes,(function(e){return e.toSchema()}))})),new o.Sequence({value:e})}},{key:"toJSON",value:function(){if("parsedKey"in this==0){var e={version:this.version,privateKeyAlgorithm:this.privateKeyAlgorithm.toJSON(),privateKey:this.privateKey.toJSON()};return"attributes"in this&&(e.attributes=Array.from(this.attributes,(function(e){return e.toJSON()}))),e}var t={};switch(this.privateKeyAlgorithm.algorithmId){case"1.2.840.10045.2.1":t.kty="EC";break;case"1.2.840.113549.1.1.1":t.kty="RSA"}for(var r=this.parsedKey.toJSON(),n=0,a=Object.keys(r);n<a.length;n++){var i=a[n];t[i]=r[i]}return t}},{key:"fromJSON",value:function(e){if("kty"in e){switch(e.kty.toUpperCase()){case"EC":this.parsedKey=new c.default({json:e}),this.privateKeyAlgorithm=new u.default({algorithmId:"1.2.840.10045.2.1",algorithmParams:new o.ObjectIdentifier({value:this.parsedKey.namedCurve})});break;case"RSA":this.parsedKey=new f.default({json:e}),this.privateKeyAlgorithm=new u.default({algorithmId:"1.2.840.113549.1.1.1",algorithmParams:new o.Null});break;default:throw new Error('Invalid value for "kty" parameter: '.concat(e.kty))}this.privateKey=new o.OctetString({valueHex:this.parsedKey.toSchema().toBER(!1)})}}}])&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=p},{"./AlgorithmIdentifier.js":338,"./Attribute.js":340,"./ECPrivateKey.js":365,"./RSAPrivateKey.js":415,asn1js:1,pvutils:447}],411:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),s=e("pvutils");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}var l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),"notBefore"in t&&(this.notBefore=(0,s.getParametersValue)(t,"notBefore",e.defaultValues("notBefore"))),"notAfter"in t&&(this.notAfter=(0,s.getParametersValue)(t,"notAfter",e.defaultValues("notAfter"))),"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,i=[{key:"defaultValues",value:function(e){switch(e){case"notBefore":case"notAfter":return new Date;default:throw new Error("Invalid member name for PrivateKeyUsagePeriod class: ".concat(e))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,s.getParametersValue)(e,"names",{});return new o.Sequence({name:t.blockName||"",value:[new o.Primitive({name:t.notBefore||"",optional:!0,idBlock:{tagClass:3,tagNumber:0}}),new o.Primitive({name:t.notAfter||"",optional:!0,idBlock:{tagClass:3,tagNumber:1}})]})}}],(r=[{key:"fromSchema",value:function(t){(0,s.clearProps)(t,["notBefore","notAfter"]);var r=o.compareSchema(t,t,e.schema({names:{notBefore:"notBefore",notAfter:"notAfter"}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for PrivateKeyUsagePeriod");if("notBefore"in r.result){var n=new o.GeneralizedTime;n.fromBuffer(r.result.notBefore.valueBlock.valueHex),this.notBefore=n.toDate()}if("notAfter"in r.result){var a=new o.GeneralizedTime({valueHex:r.result.notAfter.valueBlock.valueHex});a.fromBuffer(r.result.notAfter.valueBlock.valueHex),this.notAfter=a.toDate()}}},{key:"toSchema",value:function(){var e=[];return"notBefore"in this&&e.push(new o.Primitive({idBlock:{tagClass:3,tagNumber:0},valueHex:new o.GeneralizedTime({valueDate:this.notBefore}).valueBlock.valueHex})),"notAfter"in this&&e.push(new o.Primitive({idBlock:{tagClass:3,tagNumber:1},valueHex:new o.GeneralizedTime({valueDate:this.notAfter}).valueBlock.valueHex})),new o.Sequence({value:e})}},{key:"toJSON",value:function(){var e={};return"notBefore"in this&&(e.notBefore=this.notBefore),"notAfter"in this&&(e.notAfter=this.notAfter),e}}])&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=l},{asn1js:1,pvutils:447}],412:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=m(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),s=e("pvutils"),u=e("./common.js"),l=h(e("./AlgorithmIdentifier.js")),c=h(e("./ECPublicKey.js")),f=h(e("./RSAPublicKey.js"));function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(m=function(e){return e?r:t})(e)}var p=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.algorithm=(0,s.getParametersValue)(t,"algorithm",e.defaultValues("algorithm")),this.subjectPublicKey=(0,s.getParametersValue)(t,"subjectPublicKey",e.defaultValues("subjectPublicKey")),"parsedKey"in t&&(this.parsedKey=(0,s.getParametersValue)(t,"parsedKey",e.defaultValues("parsedKey"))),"schema"in t&&this.fromSchema(t.schema),"json"in t&&this.fromJSON(t.json)}var t,r,i;return t=e,i=[{key:"defaultValues",value:function(e){switch(e){case"algorithm":return new l.default;case"subjectPublicKey":return new o.BitString;default:throw new Error("Invalid member name for PublicKeyInfo class: ".concat(e))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,s.getParametersValue)(e,"names",{});return new o.Sequence({name:t.blockName||"",value:[l.default.schema(t.algorithm||{}),new o.BitString({name:t.subjectPublicKey||""})]})}}],(r=[{key:"fromSchema",value:function(t){(0,s.clearProps)(t,["algorithm","subjectPublicKey"]);var r=o.compareSchema(t,t,e.schema({names:{algorithm:{names:{blockName:"algorithm"}},subjectPublicKey:"subjectPublicKey"}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for PublicKeyInfo");switch(this.algorithm=new l.default({schema:r.result.algorithm}),this.subjectPublicKey=r.result.subjectPublicKey,this.algorithm.algorithmId){case"1.2.840.10045.2.1":if("algorithmParams"in this.algorithm&&this.algorithm.algorithmParams.constructor.blockName()===o.ObjectIdentifier.blockName())try{this.parsedKey=new c.default({namedCurve:this.algorithm.algorithmParams.valueBlock.toString(),schema:this.subjectPublicKey.valueBlock.valueHex})}catch(e){}break;case"1.2.840.113549.1.1.1":var n=o.fromBER(this.subjectPublicKey.valueBlock.valueHex);if(-1!==n.offset)try{this.parsedKey=new f.default({schema:n.result})}catch(e){}}}},{key:"toSchema",value:function(){return new o.Sequence({value:[this.algorithm.toSchema(),this.subjectPublicKey]})}},{key:"toJSON",value:function(){if("parsedKey"in this==0)return{algorithm:this.algorithm.toJSON(),subjectPublicKey:this.subjectPublicKey.toJSON()};var e={};switch(this.algorithm.algorithmId){case"1.2.840.10045.2.1":e.kty="EC";break;case"1.2.840.113549.1.1.1":e.kty="RSA"}for(var t=this.parsedKey.toJSON(),r=0,n=Object.keys(t);r<n.length;r++){var a=n[r];e[a]=t[a]}return e}},{key:"fromJSON",value:function(e){if("kty"in e){switch(e.kty.toUpperCase()){case"EC":this.parsedKey=new c.default({json:e}),this.algorithm=new l.default({algorithmId:"1.2.840.10045.2.1",algorithmParams:new o.ObjectIdentifier({value:this.parsedKey.namedCurve})});break;case"RSA":this.parsedKey=new f.default({json:e}),this.algorithm=new l.default({algorithmId:"1.2.840.113549.1.1.1",algorithmParams:new o.Null});break;default:throw new Error('Invalid value for "kty" parameter: '.concat(e.kty))}this.subjectPublicKey=new o.BitString({valueHex:this.parsedKey.toSchema().toBER(!1)})}}},{key:"importKey",value:function(e){var t=Promise.resolve(),r=this;if(void 0===e)return Promise.reject("Need to provide publicKey input parameter");var n=(0,u.getCrypto)();return void 0===n?Promise.reject("Unable to create WebCrypto object"):t=(t=t.then((function(){return n.exportKey("spki",e)}))).then((function(e){var t=o.fromBER(e);try{r.fromSchema(t.result)}catch(e){return Promise.reject("Error during initializing object from schema")}}),(function(e){return Promise.reject("Error during exporting public key: ".concat(e))}))}}])&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=p},{"./AlgorithmIdentifier.js":338,"./ECPublicKey.js":366,"./RSAPublicKey.js":416,"./common.js":444,asn1js:1,pvutils:447}],413:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.QCStatement=void 0;var s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!=typeof e)return{default:e};var r=l(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=a?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),u=e("pvutils");function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(l=function(e){return e?r:t})(e)}var c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.id=(0,u.getParametersValue)(t,"id",e.defaultValues("id")),"type"in t&&(this.type=(0,u.getParametersValue)(t,"type",e.defaultValues("type"))),"schema"in t&&this.fromSchema(t.schema)}return i(e,[{key:"fromSchema",value:function(t){(0,u.clearProps)(t,["id","type"]);var r=s.compareSchema(t,t,e.schema({names:{id:"id",type:"type"}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for QCStatement");this.id=r.result.id.valueBlock.toString(),"type"in r.result&&(this.type=r.result.type)}},{key:"toSchema",value:function(){var e=[new s.ObjectIdentifier({value:this.id})];return"type"in this&&e.push(this.type),new s.Sequence({value:e})}},{key:"toJSON",value:function(){var e={id:this.id};return"type"in this&&(e.type=this.type.toJSON()),e}}],[{key:"defaultValues",value:function(e){switch(e){case"id":return"";case"type":return new s.Null;default:throw new Error("Invalid member name for QCStatement class: ".concat(e))}}},{key:"compareWithDefault",value:function(e,t){switch(e){case"id":return""===t;case"type":return t instanceof s.Null;default:throw new Error("Invalid member name for QCStatement class: ".concat(e))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,u.getParametersValue)(e,"names",{});return new s.Sequence({name:t.blockName||"",value:[new s.ObjectIdentifier({name:t.id||""}),new s.Any({name:t.type||"",optional:!0})]})}}]),e}();r.QCStatement=c;var f=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.values=(0,u.getParametersValue)(t,"values",e.defaultValues("values")),"schema"in t&&this.fromSchema(t.schema)}return i(e,[{key:"fromSchema",value:function(t){(0,u.clearProps)(t,["values"]);var r=s.compareSchema(t,t,e.schema({names:{values:"values"}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for QCStatements");this.values=Array.from(r.result.values,(function(e){return new c({schema:e})}))}},{key:"toSchema",value:function(){return new s.Sequence({value:Array.from(this.values,(function(e){return e.toSchema()}))})}},{key:"toJSON",value:function(){return{extensions:Array.from(this.values,(function(e){return e.toJSON()}))}}}],[{key:"defaultValues",value:function(e){if("values"===e)return[];throw new Error("Invalid member name for QCStatements class: ".concat(e))}},{key:"compareWithDefault",value:function(e,t){if("values"===e)return 0===t.length;throw new Error("Invalid member name for QCStatements class: ".concat(e))}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,u.getParametersValue)(e,"names",{});return new s.Sequence({name:t.blockName||"",value:[new s.Repeated({name:t.values||"",value:c.schema(t.value||{})})]})}}]),e}();r.default=f},{asn1js:1,pvutils:447}],414:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),u=e("pvutils"),l=(o=e("./AlgorithmIdentifier.js"))&&o.__esModule?o:{default:o};function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}var f=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.hashAlgorithm=(0,u.getParametersValue)(t,"hashAlgorithm",e.defaultValues("hashAlgorithm")),this.maskGenAlgorithm=(0,u.getParametersValue)(t,"maskGenAlgorithm",e.defaultValues("maskGenAlgorithm")),this.pSourceAlgorithm=(0,u.getParametersValue)(t,"pSourceAlgorithm",e.defaultValues("pSourceAlgorithm")),"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,i=[{key:"defaultValues",value:function(e){switch(e){case"hashAlgorithm":return new l.default({algorithmId:"1.3.14.3.2.26",algorithmParams:new s.Null});case"maskGenAlgorithm":return new l.default({algorithmId:"1.2.840.113549.1.1.8",algorithmParams:new l.default({algorithmId:"1.3.14.3.2.26",algorithmParams:new s.Null}).toSchema()});case"pSourceAlgorithm":return new l.default({algorithmId:"1.2.840.113549.1.1.9",algorithmParams:new s.OctetString({valueHex:new Uint8Array([218,57,163,238,94,107,75,13,50,85,191,239,149,96,24,144,175,216,7,9]).buffer})});default:throw new Error("Invalid member name for RSAESOAEPParams class: ".concat(e))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,u.getParametersValue)(e,"names",{});return new s.Sequence({name:t.blockName||"",value:[new s.Constructed({idBlock:{tagClass:3,tagNumber:0},optional:!0,value:[l.default.schema(t.hashAlgorithm||{})]}),new s.Constructed({idBlock:{tagClass:3,tagNumber:1},optional:!0,value:[l.default.schema(t.maskGenAlgorithm||{})]}),new s.Constructed({idBlock:{tagClass:3,tagNumber:2},optional:!0,value:[l.default.schema(t.pSourceAlgorithm||{})]})]})}}],(r=[{key:"fromSchema",value:function(t){(0,u.clearProps)(t,["hashAlgorithm","maskGenAlgorithm","pSourceAlgorithm"]);var r=s.compareSchema(t,t,e.schema({names:{hashAlgorithm:{names:{blockName:"hashAlgorithm"}},maskGenAlgorithm:{names:{blockName:"maskGenAlgorithm"}},pSourceAlgorithm:{names:{blockName:"pSourceAlgorithm"}}}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for RSAESOAEPParams");"hashAlgorithm"in r.result&&(this.hashAlgorithm=new l.default({schema:r.result.hashAlgorithm})),"maskGenAlgorithm"in r.result&&(this.maskGenAlgorithm=new l.default({schema:r.result.maskGenAlgorithm})),"pSourceAlgorithm"in r.result&&(this.pSourceAlgorithm=new l.default({schema:r.result.pSourceAlgorithm}))}},{key:"toSchema",value:function(){var t=[];return this.hashAlgorithm.isEqual(e.defaultValues("hashAlgorithm"))||t.push(new s.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[this.hashAlgorithm.toSchema()]})),this.maskGenAlgorithm.isEqual(e.defaultValues("maskGenAlgorithm"))||t.push(new s.Constructed({idBlock:{tagClass:3,tagNumber:1},value:[this.maskGenAlgorithm.toSchema()]})),this.pSourceAlgorithm.isEqual(e.defaultValues("pSourceAlgorithm"))||t.push(new s.Constructed({idBlock:{tagClass:3,tagNumber:2},value:[this.pSourceAlgorithm.toSchema()]})),new s.Sequence({value:t})}},{key:"toJSON",value:function(){var t={};return this.hashAlgorithm.isEqual(e.defaultValues("hashAlgorithm"))||(t.hashAlgorithm=this.hashAlgorithm.toJSON()),this.maskGenAlgorithm.isEqual(e.defaultValues("maskGenAlgorithm"))||(t.maskGenAlgorithm=this.maskGenAlgorithm.toJSON()),this.pSourceAlgorithm.isEqual(e.defaultValues("pSourceAlgorithm"))||(t.pSourceAlgorithm=this.pSourceAlgorithm.toJSON()),t}}])&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=f},{"./AlgorithmIdentifier.js":338,asn1js:1,pvutils:447}],415:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),u=e("pvutils"),l=(o=e("./OtherPrimeInfo.js"))&&o.__esModule?o:{default:o};function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}var f=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.version=(0,u.getParametersValue)(t,"version",e.defaultValues("version")),this.modulus=(0,u.getParametersValue)(t,"modulus",e.defaultValues("modulus")),this.publicExponent=(0,u.getParametersValue)(t,"publicExponent",e.defaultValues("publicExponent")),this.privateExponent=(0,u.getParametersValue)(t,"privateExponent",e.defaultValues("privateExponent")),this.prime1=(0,u.getParametersValue)(t,"prime1",e.defaultValues("prime1")),this.prime2=(0,u.getParametersValue)(t,"prime2",e.defaultValues("prime2")),this.exponent1=(0,u.getParametersValue)(t,"exponent1",e.defaultValues("exponent1")),this.exponent2=(0,u.getParametersValue)(t,"exponent2",e.defaultValues("exponent2")),this.coefficient=(0,u.getParametersValue)(t,"coefficient",e.defaultValues("coefficient")),"otherPrimeInfos"in t&&(this.otherPrimeInfos=(0,u.getParametersValue)(t,"otherPrimeInfos",e.defaultValues("otherPrimeInfos"))),"schema"in t&&this.fromSchema(t.schema),"json"in t&&this.fromJSON(t.json)}var t,r,i;return t=e,i=[{key:"defaultValues",value:function(e){switch(e){case"version":return 0;case"modulus":case"publicExponent":case"privateExponent":case"prime1":case"prime2":case"exponent1":case"exponent2":case"coefficient":return new s.Integer;case"otherPrimeInfos":return[];default:throw new Error("Invalid member name for RSAPrivateKey class: ".concat(e))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,u.getParametersValue)(e,"names",{});return new s.Sequence({name:t.blockName||"",value:[new s.Integer({name:t.version||""}),new s.Integer({name:t.modulus||""}),new s.Integer({name:t.publicExponent||""}),new s.Integer({name:t.privateExponent||""}),new s.Integer({name:t.prime1||""}),new s.Integer({name:t.prime2||""}),new s.Integer({name:t.exponent1||""}),new s.Integer({name:t.exponent2||""}),new s.Integer({name:t.coefficient||""}),new s.Sequence({optional:!0,value:[new s.Repeated({name:t.otherPrimeInfosName||"",value:l.default.schema(t.otherPrimeInfo||{})})]})]})}}],(r=[{key:"fromSchema",value:function(t){(0,u.clearProps)(t,["version","modulus","publicExponent","privateExponent","prime1","prime2","exponent1","exponent2","coefficient","otherPrimeInfos"]);var r=s.compareSchema(t,t,e.schema({names:{version:"version",modulus:"modulus",publicExponent:"publicExponent",privateExponent:"privateExponent",prime1:"prime1",prime2:"prime2",exponent1:"exponent1",exponent2:"exponent2",coefficient:"coefficient",otherPrimeInfo:{names:{blockName:"otherPrimeInfos"}}}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for RSAPrivateKey");this.version=r.result.version.valueBlock.valueDec,this.modulus=r.result.modulus.convertFromDER(256),this.publicExponent=r.result.publicExponent,this.privateExponent=r.result.privateExponent.convertFromDER(256),this.prime1=r.result.prime1.convertFromDER(128),this.prime2=r.result.prime2.convertFromDER(128),this.exponent1=r.result.exponent1.convertFromDER(128),this.exponent2=r.result.exponent2.convertFromDER(128),this.coefficient=r.result.coefficient.convertFromDER(128),"otherPrimeInfos"in r.result&&(this.otherPrimeInfos=Array.from(r.result.otherPrimeInfos,(function(e){return new l.default({schema:e})})))}},{key:"toSchema",value:function(){var e=[];return e.push(new s.Integer({value:this.version})),e.push(this.modulus.convertToDER()),e.push(this.publicExponent),e.push(this.privateExponent.convertToDER()),e.push(this.prime1.convertToDER()),e.push(this.prime2.convertToDER()),e.push(this.exponent1.convertToDER()),e.push(this.exponent2.convertToDER()),e.push(this.coefficient.convertToDER()),"otherPrimeInfos"in this&&e.push(new s.Sequence({value:Array.from(this.otherPrimeInfos,(function(e){return e.toSchema()}))})),new s.Sequence({value:e})}},{key:"toJSON",value:function(){var e={n:(0,u.toBase64)((0,u.arrayBufferToString)(this.modulus.valueBlock.valueHex),!0,!0,!0),e:(0,u.toBase64)((0,u.arrayBufferToString)(this.publicExponent.valueBlock.valueHex),!0,!0,!0),d:(0,u.toBase64)((0,u.arrayBufferToString)(this.privateExponent.valueBlock.valueHex),!0,!0,!0),p:(0,u.toBase64)((0,u.arrayBufferToString)(this.prime1.valueBlock.valueHex),!0,!0,!0),q:(0,u.toBase64)((0,u.arrayBufferToString)(this.prime2.valueBlock.valueHex),!0,!0,!0),dp:(0,u.toBase64)((0,u.arrayBufferToString)(this.exponent1.valueBlock.valueHex),!0,!0,!0),dq:(0,u.toBase64)((0,u.arrayBufferToString)(this.exponent2.valueBlock.valueHex),!0,!0,!0),qi:(0,u.toBase64)((0,u.arrayBufferToString)(this.coefficient.valueBlock.valueHex),!0,!0,!0)};return"otherPrimeInfos"in this&&(e.oth=Array.from(this.otherPrimeInfos,(function(e){return e.toJSON()}))),e}},{key:"fromJSON",value:function(e){if(!("n"in e))throw new Error('Absent mandatory parameter "n"');if(this.modulus=new s.Integer({valueHex:(0,u.stringToArrayBuffer)((0,u.fromBase64)(e.n,!0,!0))}),!("e"in e))throw new Error('Absent mandatory parameter "e"');if(this.publicExponent=new s.Integer({valueHex:(0,u.stringToArrayBuffer)((0,u.fromBase64)(e.e,!0,!0))}),!("d"in e))throw new Error('Absent mandatory parameter "d"');if(this.privateExponent=new s.Integer({valueHex:(0,u.stringToArrayBuffer)((0,u.fromBase64)(e.d,!0,!0))}),!("p"in e))throw new Error('Absent mandatory parameter "p"');if(this.prime1=new s.Integer({valueHex:(0,u.stringToArrayBuffer)((0,u.fromBase64)(e.p,!0,!0))}),!("q"in e))throw new Error('Absent mandatory parameter "q"');if(this.prime2=new s.Integer({valueHex:(0,u.stringToArrayBuffer)((0,u.fromBase64)(e.q,!0,!0))}),!("dp"in e))throw new Error('Absent mandatory parameter "dp"');if(this.exponent1=new s.Integer({valueHex:(0,u.stringToArrayBuffer)((0,u.fromBase64)(e.dp,!0,!0))}),!("dq"in e))throw new Error('Absent mandatory parameter "dq"');if(this.exponent2=new s.Integer({valueHex:(0,u.stringToArrayBuffer)((0,u.fromBase64)(e.dq,!0,!0))}),!("qi"in e))throw new Error('Absent mandatory parameter "qi"');this.coefficient=new s.Integer({valueHex:(0,u.stringToArrayBuffer)((0,u.fromBase64)(e.qi,!0,!0))}),"oth"in e&&(this.otherPrimeInfos=Array.from(e.oth,(function(e){return new l.default({json:e})})))}}])&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=f},{"./OtherPrimeInfo.js":396,asn1js:1,pvutils:447}],416:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),s=e("pvutils");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}var l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.modulus=(0,s.getParametersValue)(t,"modulus",e.defaultValues("modulus")),this.publicExponent=(0,s.getParametersValue)(t,"publicExponent",e.defaultValues("publicExponent")),"schema"in t&&this.fromSchema(t.schema),"json"in t&&this.fromJSON(t.json)}var t,r,i;return t=e,i=[{key:"defaultValues",value:function(e){switch(e){case"modulus":case"publicExponent":return new o.Integer;default:throw new Error("Invalid member name for RSAPublicKey class: ".concat(e))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,s.getParametersValue)(e,"names",{});return new o.Sequence({name:t.blockName||"",value:[new o.Integer({name:t.modulus||""}),new o.Integer({name:t.publicExponent||""})]})}}],(r=[{key:"fromSchema",value:function(t){(0,s.clearProps)(t,["modulus","publicExponent"]);var r=o.compareSchema(t,t,e.schema({names:{modulus:"modulus",publicExponent:"publicExponent"}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for RSAPublicKey");this.modulus=r.result.modulus.convertFromDER(256),this.publicExponent=r.result.publicExponent}},{key:"toSchema",value:function(){return new o.Sequence({value:[this.modulus.convertToDER(),this.publicExponent]})}},{key:"toJSON",value:function(){return{n:(0,s.toBase64)((0,s.arrayBufferToString)(this.modulus.valueBlock.valueHex),!0,!0,!0),e:(0,s.toBase64)((0,s.arrayBufferToString)(this.publicExponent.valueBlock.valueHex),!0,!0,!0)}}},{key:"fromJSON",value:function(e){if(!("n"in e))throw new Error('Absent mandatory parameter "n"');var t=(0,s.stringToArrayBuffer)((0,s.fromBase64)(e.n,!0));if(this.modulus=new o.Integer({valueHex:t.slice(0,Math.pow(2,(0,s.nearestPowerOf2)(t.byteLength)))}),!("e"in e))throw new Error('Absent mandatory parameter "e"');this.publicExponent=new o.Integer({valueHex:(0,s.stringToArrayBuffer)((0,s.fromBase64)(e.e,!0)).slice(0,3)})}}])&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=l},{asn1js:1,pvutils:447}],417:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),u=e("pvutils"),l=(o=e("./AlgorithmIdentifier.js"))&&o.__esModule?o:{default:o};function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}var f=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.hashAlgorithm=(0,u.getParametersValue)(t,"hashAlgorithm",e.defaultValues("hashAlgorithm")),this.maskGenAlgorithm=(0,u.getParametersValue)(t,"maskGenAlgorithm",e.defaultValues("maskGenAlgorithm")),this.saltLength=(0,u.getParametersValue)(t,"saltLength",e.defaultValues("saltLength")),this.trailerField=(0,u.getParametersValue)(t,"trailerField",e.defaultValues("trailerField")),"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,i=[{key:"defaultValues",value:function(e){switch(e){case"hashAlgorithm":return new l.default({algorithmId:"1.3.14.3.2.26",algorithmParams:new s.Null});case"maskGenAlgorithm":return new l.default({algorithmId:"1.2.840.113549.1.1.8",algorithmParams:new l.default({algorithmId:"1.3.14.3.2.26",algorithmParams:new s.Null}).toSchema()});case"saltLength":return 20;case"trailerField":return 1;default:throw new Error("Invalid member name for RSASSAPSSParams class: ".concat(e))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,u.getParametersValue)(e,"names",{});return new s.Sequence({name:t.blockName||"",value:[new s.Constructed({idBlock:{tagClass:3,tagNumber:0},optional:!0,value:[l.default.schema(t.hashAlgorithm||{})]}),new s.Constructed({idBlock:{tagClass:3,tagNumber:1},optional:!0,value:[l.default.schema(t.maskGenAlgorithm||{})]}),new s.Constructed({idBlock:{tagClass:3,tagNumber:2},optional:!0,value:[new s.Integer({name:t.saltLength||""})]}),new s.Constructed({idBlock:{tagClass:3,tagNumber:3},optional:!0,value:[new s.Integer({name:t.trailerField||""})]})]})}}],(r=[{key:"fromSchema",value:function(t){(0,u.clearProps)(t,["hashAlgorithm","maskGenAlgorithm","saltLength","trailerField"]);var r=s.compareSchema(t,t,e.schema({names:{hashAlgorithm:{names:{blockName:"hashAlgorithm"}},maskGenAlgorithm:{names:{blockName:"maskGenAlgorithm"}},saltLength:"saltLength",trailerField:"trailerField"}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for RSASSAPSSParams");"hashAlgorithm"in r.result&&(this.hashAlgorithm=new l.default({schema:r.result.hashAlgorithm})),"maskGenAlgorithm"in r.result&&(this.maskGenAlgorithm=new l.default({schema:r.result.maskGenAlgorithm})),"saltLength"in r.result&&(this.saltLength=r.result.saltLength.valueBlock.valueDec),"trailerField"in r.result&&(this.trailerField=r.result.trailerField.valueBlock.valueDec)}},{key:"toSchema",value:function(){var t=[];return this.hashAlgorithm.isEqual(e.defaultValues("hashAlgorithm"))||t.push(new s.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[this.hashAlgorithm.toSchema()]})),this.maskGenAlgorithm.isEqual(e.defaultValues("maskGenAlgorithm"))||t.push(new s.Constructed({idBlock:{tagClass:3,tagNumber:1},value:[this.maskGenAlgorithm.toSchema()]})),this.saltLength!==e.defaultValues("saltLength")&&t.push(new s.Constructed({idBlock:{tagClass:3,tagNumber:2},value:[new s.Integer({value:this.saltLength})]})),this.trailerField!==e.defaultValues("trailerField")&&t.push(new s.Constructed({idBlock:{tagClass:3,tagNumber:3},value:[new s.Integer({value:this.trailerField})]})),new s.Sequence({value:t})}},{key:"toJSON",value:function(){var t={};return this.hashAlgorithm.isEqual(e.defaultValues("hashAlgorithm"))||(t.hashAlgorithm=this.hashAlgorithm.toJSON()),this.maskGenAlgorithm.isEqual(e.defaultValues("maskGenAlgorithm"))||(t.maskGenAlgorithm=this.maskGenAlgorithm.toJSON()),this.saltLength!==e.defaultValues("saltLength")&&(t.saltLength=this.saltLength),this.trailerField!==e.defaultValues("trailerField")&&(t.trailerField=this.trailerField),t}}])&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=f},{"./AlgorithmIdentifier.js":338,asn1js:1,pvutils:447}],418:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),u=e("pvutils"),l=(o=e("./KeyAgreeRecipientIdentifier.js"))&&o.__esModule?o:{default:o};function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}var f=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.rid=(0,u.getParametersValue)(t,"rid",e.defaultValues("rid")),this.encryptedKey=(0,u.getParametersValue)(t,"encryptedKey",e.defaultValues("encryptedKey")),"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,i=[{key:"defaultValues",value:function(e){switch(e){case"rid":return new l.default;case"encryptedKey":return new s.OctetString;default:throw new Error("Invalid member name for RecipientEncryptedKey class: ".concat(e))}}},{key:"compareWithDefault",value:function(t,r){switch(t){case"rid":return-1===r.variant&&"value"in r==0;case"encryptedKey":return r.isEqual(e.defaultValues("encryptedKey"));default:throw new Error("Invalid member name for RecipientEncryptedKey class: ".concat(t))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,u.getParametersValue)(e,"names",{});return new s.Sequence({name:t.blockName||"",value:[l.default.schema(t.rid||{}),new s.OctetString({name:t.encryptedKey||""})]})}}],(r=[{key:"fromSchema",value:function(t){(0,u.clearProps)(t,["rid","encryptedKey"]);var r=s.compareSchema(t,t,e.schema({names:{rid:{names:{blockName:"rid"}},encryptedKey:"encryptedKey"}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for RecipientEncryptedKey");this.rid=new l.default({schema:r.result.rid}),this.encryptedKey=r.result.encryptedKey}},{key:"toSchema",value:function(){return new s.Sequence({value:[this.rid.toSchema(),this.encryptedKey]})}},{key:"toJSON",value:function(){return{rid:this.rid.toJSON(),encryptedKey:this.encryptedKey.toJSON()}}}])&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=f},{"./KeyAgreeRecipientIdentifier.js":382,asn1js:1,pvutils:447}],419:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),u=e("pvutils"),l=(o=e("./RecipientEncryptedKey.js"))&&o.__esModule?o:{default:o};function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}var f=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.encryptedKeys=(0,u.getParametersValue)(t,"encryptedKeys",e.defaultValues("encryptedKeys")),"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,i=[{key:"defaultValues",value:function(e){if("encryptedKeys"===e)return[];throw new Error("Invalid member name for RecipientEncryptedKeys class: ".concat(e))}},{key:"compareWithDefault",value:function(e,t){if("encryptedKeys"===e)return 0===t.length;throw new Error("Invalid member name for RecipientEncryptedKeys class: ".concat(e))}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,u.getParametersValue)(e,"names",{});return new s.Sequence({name:t.blockName||"",value:[new s.Repeated({name:t.RecipientEncryptedKeys||"",value:l.default.schema()})]})}}],(r=[{key:"fromSchema",value:function(t){(0,u.clearProps)(t,["RecipientEncryptedKeys"]);var r=s.compareSchema(t,t,e.schema({names:{RecipientEncryptedKeys:"RecipientEncryptedKeys"}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for RecipientEncryptedKeys");this.encryptedKeys=Array.from(r.result.RecipientEncryptedKeys,(function(e){return new l.default({schema:e})}))}},{key:"toSchema",value:function(){return new s.Sequence({value:Array.from(this.encryptedKeys,(function(e){return e.toSchema()}))})}},{key:"toJSON",value:function(){return{encryptedKeys:Array.from(this.encryptedKeys,(function(e){return e.toJSON()}))}}}])&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=f},{"./RecipientEncryptedKey.js":418,asn1js:1,pvutils:447}],420:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),u=e("pvutils"),l=(o=e("./IssuerAndSerialNumber.js"))&&o.__esModule?o:{default:o};function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}var f=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.variant=(0,u.getParametersValue)(t,"variant",e.defaultValues("variant")),"value"in t&&(this.value=(0,u.getParametersValue)(t,"value",e.defaultValues("value"))),"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,i=[{key:"defaultValues",value:function(e){switch(e){case"variant":return-1;case"value":return{};default:throw new Error("Invalid member name for RecipientIdentifier class: ".concat(e))}}},{key:"compareWithDefault",value:function(e,t){switch(e){case"variant":return-1===t;case"values":return 0===Object.keys(t).length;default:throw new Error("Invalid member name for RecipientIdentifier class: ".concat(e))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,u.getParametersValue)(e,"names",{});return new s.Choice({value:[l.default.schema({names:{blockName:t.blockName||""}}),new s.Primitive({name:t.blockName||"",idBlock:{tagClass:3,tagNumber:0}})]})}}],(r=[{key:"fromSchema",value:function(t){(0,u.clearProps)(t,["blockName"]);var r=s.compareSchema(t,t,e.schema({names:{blockName:"blockName"}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for RecipientIdentifier");1===r.result.blockName.idBlock.tagClass?(this.variant=1,this.value=new l.default({schema:r.result.blockName})):(this.variant=2,this.value=new s.OctetString({valueHex:r.result.blockName.valueBlock.valueHex}))}},{key:"toSchema",value:function(){switch(this.variant){case 1:return this.value.toSchema();case 2:return new s.Primitive({idBlock:{tagClass:3,tagNumber:0},valueHex:this.value.valueBlock.valueHex});default:return new s.Any}}},{key:"toJSON",value:function(){var e={variant:this.variant};return 1!==this.variant&&2!==this.variant||(e.value=this.value.toJSON()),e}}])&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=f},{"./IssuerAndSerialNumber.js":378,asn1js:1,pvutils:447}],421:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=p(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),s=e("pvutils"),u=m(e("./KeyTransRecipientInfo.js")),l=m(e("./KeyAgreeRecipientInfo.js")),c=m(e("./KEKRecipientInfo.js")),f=m(e("./PasswordRecipientinfo.js")),h=m(e("./OtherRecipientInfo.js"));function m(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(p=function(e){return e?r:t})(e)}var d=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.variant=(0,s.getParametersValue)(t,"variant",e.defaultValues("variant")),"value"in t&&(this.value=(0,s.getParametersValue)(t,"value",e.defaultValues("value"))),"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,i=[{key:"defaultValues",value:function(e){switch(e){case"variant":return-1;case"value":return{};default:throw new Error("Invalid member name for RecipientInfo class: ".concat(e))}}},{key:"compareWithDefault",value:function(t,r){switch(t){case"variant":return r===e.defaultValues(t);case"value":return 0===Object.keys(r).length;default:throw new Error("Invalid member name for RecipientInfo class: ".concat(t))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,s.getParametersValue)(e,"names",{});return new o.Choice({value:[u.default.schema({names:{blockName:t.blockName||""}}),new o.Constructed({name:t.blockName||"",idBlock:{tagClass:3,tagNumber:1},value:l.default.schema().valueBlock.value}),new o.Constructed({name:t.blockName||"",idBlock:{tagClass:3,tagNumber:2},value:c.default.schema().valueBlock.value}),new o.Constructed({name:t.blockName||"",idBlock:{tagClass:3,tagNumber:3},value:f.default.schema().valueBlock.value}),new o.Constructed({name:t.blockName||"",idBlock:{tagClass:3,tagNumber:4},value:h.default.schema().valueBlock.value})]})}}],(r=[{key:"fromSchema",value:function(t){(0,s.clearProps)(t,["blockName"]);var r=o.compareSchema(t,t,e.schema({names:{blockName:"blockName"}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for RecipientInfo");if(1===r.result.blockName.idBlock.tagClass)this.variant=1,this.value=new u.default({schema:r.result.blockName});else{var n=new o.Sequence({value:r.result.blockName.valueBlock.value});switch(r.result.blockName.idBlock.tagNumber){case 1:this.variant=2,this.value=new l.default({schema:n});break;case 2:this.variant=3,this.value=new c.default({schema:n});break;case 3:this.variant=4,this.value=new f.default({schema:n});break;case 4:this.variant=5,this.value=new h.default({schema:n});break;default:throw new Error("Incorrect structure of RecipientInfo block")}}}},{key:"toSchema",value:function(){var e=this.value.toSchema();switch(this.variant){case 1:return e;case 2:case 3:case 4:return e.idBlock.tagClass=3,e.idBlock.tagNumber=this.variant-1,e;default:return new o.Any}}},{key:"toJSON",value:function(){var e={variant:this.variant};return this.variant>=1&&this.variant<=4&&(e.value=this.value.toJSON()),e}}])&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=d},{"./KEKRecipientInfo.js":381,"./KeyAgreeRecipientInfo.js":383,"./KeyTransRecipientInfo.js":385,"./OtherRecipientInfo.js":397,"./PasswordRecipientinfo.js":404,asn1js:1,pvutils:447}],422:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),u=e("pvutils"),l=(o=e("./OtherKeyAttribute.js"))&&o.__esModule?o:{default:o};function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}var f=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.subjectKeyIdentifier=(0,u.getParametersValue)(t,"subjectKeyIdentifier",e.defaultValues("subjectKeyIdentifier")),"date"in t&&(this.date=(0,u.getParametersValue)(t,"date",e.defaultValues("date"))),"other"in t&&(this.other=(0,u.getParametersValue)(t,"other",e.defaultValues("other"))),"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,i=[{key:"defaultValues",value:function(e){switch(e){case"subjectKeyIdentifier":return new s.OctetString;case"date":return new s.GeneralizedTime;case"other":return new l.default;default:throw new Error("Invalid member name for RecipientKeyIdentifier class: ".concat(e))}}},{key:"compareWithDefault",value:function(t,r){switch(t){case"subjectKeyIdentifier":return r.isEqual(e.defaultValues("subjectKeyIdentifier"));case"date":return 0===r.year&&0===r.month&&0===r.day&&0===r.hour&&0===r.minute&&0===r.second&&0===r.millisecond;case"other":return""===r.keyAttrId&&"keyAttr"in r==0;default:throw new Error("Invalid member name for RecipientKeyIdentifier class: ".concat(t))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,u.getParametersValue)(e,"names",{});return new s.Sequence({name:t.blockName||"",value:[new s.OctetString({name:t.subjectKeyIdentifier||""}),new s.GeneralizedTime({optional:!0,name:t.date||""}),l.default.schema(t.other||{})]})}}],(r=[{key:"fromSchema",value:function(t){(0,u.clearProps)(t,["subjectKeyIdentifier","date","other"]);var r=s.compareSchema(t,t,e.schema({names:{subjectKeyIdentifier:"subjectKeyIdentifier",date:"date",other:{names:{blockName:"other"}}}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for RecipientKeyIdentifier");this.subjectKeyIdentifier=r.result.subjectKeyIdentifier,"date"in r.result&&(this.date=r.result.date),"other"in r.result&&(this.other=new l.default({schema:r.result.other}))}},{key:"toSchema",value:function(){var e=[];return e.push(this.subjectKeyIdentifier),"date"in this&&e.push(this.date),"other"in this&&e.push(this.other.toSchema()),new s.Sequence({value:e})}},{key:"toJSON",value:function(){var e={subjectKeyIdentifier:this.subjectKeyIdentifier.toJSON()};return"date"in this&&(e.date=this.date),"other"in this&&(e.other=this.other.toJSON()),e}}])&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=f},{"./OtherKeyAttribute.js":395,asn1js:1,pvutils:447}],423:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),u=e("pvutils"),l=(o=e("./AttributeTypeAndValue.js"))&&o.__esModule?o:{default:o};function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,i=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw a}}return i}(e,t)||h(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){if(e){if("string"==typeof e)return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?m(e,t):void 0}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var p=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.typesAndValues=(0,u.getParametersValue)(t,"typesAndValues",e.defaultValues("typesAndValues")),this.valueBeforeDecode=(0,u.getParametersValue)(t,"valueBeforeDecode",e.defaultValues("valueBeforeDecode")),"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,i=[{key:"defaultValues",value:function(e){switch(e){case"typesAndValues":return[];case"valueBeforeDecode":return new ArrayBuffer(0);default:throw new Error("Invalid member name for RelativeDistinguishedNames class: ".concat(e))}}},{key:"compareWithDefault",value:function(e,t){switch(e){case"typesAndValues":return 0===t.length;case"valueBeforeDecode":return 0===t.byteLength;default:throw new Error("Invalid member name for RelativeDistinguishedNames class: ".concat(e))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,u.getParametersValue)(e,"names",{});return new s.Sequence({name:t.blockName||"",value:[new s.Repeated({name:t.repeatedSequence||"",value:new s.Set({value:[new s.Repeated({name:t.repeatedSet||"",value:l.default.schema(t.typeAndValue||{})})]})})]})}}],(r=[{key:"fromSchema",value:function(t){(0,u.clearProps)(t,["RDN","typesAndValues"]);var r=s.compareSchema(t,t,e.schema({names:{blockName:"RDN",repeatedSet:"typesAndValues"}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for RelativeDistinguishedNames");"typesAndValues"in r.result&&(this.typesAndValues=Array.from(r.result.typesAndValues,(function(e){return new l.default({schema:e})}))),this.valueBeforeDecode=r.result.RDN.valueBeforeDecode}},{key:"toSchema",value:function(){return 0===this.valueBeforeDecode.byteLength?new s.Sequence({value:[new s.Set({value:Array.from(this.typesAndValues,(function(e){return e.toSchema()}))})]}):s.fromBER(this.valueBeforeDecode).result}},{key:"toJSON",value:function(){return{typesAndValues:Array.from(this.typesAndValues,(function(e){return e.toJSON()}))}}},{key:"isEqual",value:function(t){if(t instanceof e){if(this.typesAndValues.length!==t.typesAndValues.length)return!1;var r,n=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=h(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}(this.typesAndValues.entries());try{for(n.s();!(r=n.n()).done;){var a=f(r.value,2),i=a[0];if(!1===a[1].isEqual(t.typesAndValues[i]))return!1}}catch(e){n.e(e)}finally{n.f()}return!0}return t instanceof ArrayBuffer&&(0,u.isEqualBuffer)(this.valueBeforeDecode,t)}}])&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=p},{"./AttributeTypeAndValue.js":343,asn1js:1,pvutils:447}],424:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=f(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),s=e("pvutils"),u=c(e("./CertID.js")),l=c(e("./Extension.js"));function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(f=function(e){return e?r:t})(e)}var h=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.reqCert=(0,s.getParametersValue)(t,"reqCert",e.defaultValues("reqCert")),"singleRequestExtensions"in t&&(this.singleRequestExtensions=(0,s.getParametersValue)(t,"singleRequestExtensions",e.defaultValues("singleRequestExtensions"))),"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,i=[{key:"defaultValues",value:function(e){switch(e){case"reqCert":return new u.default;case"singleRequestExtensions":return[];default:throw new Error("Invalid member name for Request class: ".concat(e))}}},{key:"compareWithDefault",value:function(t,r){switch(t){case"reqCert":return r.isEqual(e.defaultValues(t));case"singleRequestExtensions":return 0===r.length;default:throw new Error("Invalid member name for Request class: ".concat(t))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,s.getParametersValue)(e,"names",{});return new o.Sequence({name:t.blockName||"",value:[u.default.schema(t.reqCert||{}),new o.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[l.default.schema(t.extensions||{names:{blockName:t.singleRequestExtensions||""}})]})]})}}],(r=[{key:"fromSchema",value:function(t){(0,s.clearProps)(t,["reqCert","singleRequestExtensions"]);var r=o.compareSchema(t,t,e.schema({names:{reqCert:{names:{blockName:"reqCert"}},singleRequestExtensions:{names:{blockName:"singleRequestExtensions"}}}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for Request");this.reqCert=new u.default({schema:r.result.reqCert}),"singleRequestExtensions"in r.result&&(this.singleRequestExtensions=Array.from(r.result.singleRequestExtensions.valueBlock.value,(function(e){return new l.default({schema:e})})))}},{key:"toSchema",value:function(){var e=[];return e.push(this.reqCert.toSchema()),"singleRequestExtensions"in this&&e.push(new o.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new o.Sequence({value:Array.from(this.singleRequestExtensions,(function(e){return e.toSchema()}))})]})),new o.Sequence({value:e})}},{key:"toJSON",value:function(){var e={reqCert:this.reqCert.toJSON()};return"singleRequestExtensions"in this&&(e.singleRequestExtensions=Array.from(this.singleRequestExtensions,(function(e){return e.toJSON()}))),e}}])&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=h},{"./CertID.js":352,"./Extension.js":372,asn1js:1,pvutils:447}],425:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),s=e("pvutils");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}var l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.responseType=(0,s.getParametersValue)(t,"responseType",e.defaultValues("responseType")),this.response=(0,s.getParametersValue)(t,"response",e.defaultValues("response")),"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,i=[{key:"defaultValues",value:function(e){switch(e){case"responseType":return"";case"response":return new o.OctetString;default:throw new Error("Invalid member name for ResponseBytes class: ".concat(e))}}},{key:"compareWithDefault",value:function(t,r){switch(t){case"responseType":return""===r;case"response":return r.isEqual(e.defaultValues(t));default:throw new Error("Invalid member name for ResponseBytes class: ".concat(t))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,s.getParametersValue)(e,"names",{});return new o.Sequence({name:t.blockName||"",value:[new o.ObjectIdentifier({name:t.responseType||""}),new o.OctetString({name:t.response||""})]})}}],(r=[{key:"fromSchema",value:function(t){(0,s.clearProps)(t,["responseType","response"]);var r=o.compareSchema(t,t,e.schema({names:{responseType:"responseType",response:"response"}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for ResponseBytes");this.responseType=r.result.responseType.valueBlock.toString(),this.response=r.result.response}},{key:"toSchema",value:function(){return new o.Sequence({value:[new o.ObjectIdentifier({value:this.responseType}),this.response]})}},{key:"toJSON",value:function(){return{responseType:this.responseType,response:this.response.toJSON()}}}])&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=l},{asn1js:1,pvutils:447}],426:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=m(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),s=e("pvutils"),u=h(e("./RelativeDistinguishedNames.js")),l=h(e("./SingleResponse.js")),c=h(e("./Extension.js")),f=h(e("./Extensions.js"));function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(m=function(e){return e?r:t})(e)}var p=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.tbs=(0,s.getParametersValue)(t,"tbs",e.defaultValues("tbs")),this.responderID=(0,s.getParametersValue)(t,"responderID",e.defaultValues("responderID")),this.producedAt=(0,s.getParametersValue)(t,"producedAt",e.defaultValues("producedAt")),this.responses=(0,s.getParametersValue)(t,"responses",e.defaultValues("responses")),"responseExtensions"in t&&(this.responseExtensions=(0,s.getParametersValue)(t,"responseExtensions",e.defaultValues("responseExtensions"))),"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,r=[{key:"fromSchema",value:function(t){(0,s.clearProps)(t,["ResponseData","ResponseData.version","ResponseData.responderID","ResponseData.producedAt","ResponseData.responses","ResponseData.responseExtensions"]);var r=o.compareSchema(t,t,e.schema());if(!1===r.verified)throw new Error("Object's schema was not verified against input data for ResponseData");this.tbs=r.result.ResponseData.valueBeforeDecode,"ResponseData.version"in r.result&&(this.version=r.result["ResponseData.version"].valueBlock.valueDec),1===r.result["ResponseData.responderID"].idBlock.tagNumber?this.responderID=new u.default({schema:r.result["ResponseData.responderID"].valueBlock.value[0]}):this.responderID=r.result["ResponseData.responderID"].valueBlock.value[0],this.producedAt=r.result["ResponseData.producedAt"].toDate(),this.responses=Array.from(r.result["ResponseData.responses"],(function(e){return new l.default({schema:e})})),"ResponseData.responseExtensions"in r.result&&(this.responseExtensions=Array.from(r.result["ResponseData.responseExtensions"].valueBlock.value,(function(e){return new c.default({schema:e})})))}},{key:"toSchema",value:function(){var t,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!1===r){if(0===this.tbs.length)return e.schema();t=o.fromBER(this.tbs).result}else{var n=[];"version"in this&&n.push(new o.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[new o.Integer({value:this.version})]})),this.responderID instanceof u.default?n.push(new o.Constructed({idBlock:{tagClass:3,tagNumber:1},value:[this.responderID.toSchema()]})):n.push(new o.Constructed({idBlock:{tagClass:3,tagNumber:2},value:[this.responderID]})),n.push(new o.GeneralizedTime({valueDate:this.producedAt})),n.push(new o.Sequence({value:Array.from(this.responses,(function(e){return e.toSchema()}))})),"responseExtensions"in this&&n.push(new o.Constructed({idBlock:{tagClass:3,tagNumber:1},value:[new o.Sequence({value:Array.from(this.responseExtensions,(function(e){return e.toSchema()}))})]})),t=new o.Sequence({value:n})}return t}},{key:"toJSON",value:function(){var e={};return"version"in this&&(e.version=this.version),"responderID"in this&&(e.responderID=this.responderID),"producedAt"in this&&(e.producedAt=this.producedAt),"responses"in this&&(e.responses=Array.from(this.responses,(function(e){return e.toJSON()}))),"responseExtensions"in this&&(e.responseExtensions=Array.from(this.responseExtensions,(function(e){return e.toJSON()}))),e}}],i=[{key:"defaultValues",value:function(e){switch(e){case"tbs":return new ArrayBuffer(0);case"responderID":return{};case"producedAt":return new Date(0,0,0);case"responses":case"responseExtensions":return[];default:throw new Error("Invalid member name for ResponseData class: ".concat(e))}}},{key:"compareWithDefault",value:function(t,r){switch(t){case"tbs":return 0===r.byteLength;case"responderID":return 0===Object.keys(r).length;case"producedAt":return r===e.defaultValues(t);case"responses":case"responseExtensions":return 0===r.length;default:throw new Error("Invalid member name for ResponseData class: ".concat(t))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,s.getParametersValue)(e,"names",{});return new o.Sequence({name:t.blockName||"ResponseData",value:[new o.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new o.Integer({name:t.version||"ResponseData.version"})]}),new o.Choice({value:[new o.Constructed({name:t.responderID||"ResponseData.responderID",idBlock:{tagClass:3,tagNumber:1},value:[u.default.schema(t.ResponseDataByName||{names:{blockName:"ResponseData.byName"}})]}),new o.Constructed({name:t.responderID||"ResponseData.responderID",idBlock:{tagClass:3,tagNumber:2},value:[new o.OctetString({name:t.ResponseDataByKey||"ResponseData.byKey"})]})]}),new o.GeneralizedTime({name:t.producedAt||"ResponseData.producedAt"}),new o.Sequence({value:[new o.Repeated({name:"ResponseData.responses",value:l.default.schema(t.response||{})})]}),new o.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[f.default.schema(t.extensions||{names:{blockName:"ResponseData.responseExtensions"}})]})]})}}],r&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=p},{"./Extension.js":372,"./Extensions.js":373,"./RelativeDistinguishedNames.js":423,"./SingleResponse.js":437,asn1js:1,pvutils:447}],427:[function(e,t,r){"use strict";function n(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==s(e)&&"function"!=typeof e)return{default:e};var r=m(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),l=e("pvutils"),c=h(e("./CertificateRevocationList.js")),f=h(e("./OtherRevocationInfoFormat.js"));function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(m=function(e){return e?r:t})(e)}function p(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var y=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,e),this.crls=(0,l.getParametersValue)(t,"crls",e.defaultValues("crls")),this.otherRevocationInfos=(0,l.getParametersValue)(t,"otherRevocationInfos",e.defaultValues("otherRevocationInfos")),"schema"in t&&this.fromSchema(t.schema)}var t,r,a;return t=e,a=[{key:"defaultValues",value:function(e){switch(e){case"crls":case"otherRevocationInfos":return[];default:throw new Error("Invalid member name for RevocationInfoChoices class: ".concat(e))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,l.getParametersValue)(e,"names",{});return new u.Set({name:t.blockName||"",value:[new u.Repeated({name:t.crls||"",value:new u.Choice({value:[c.default.schema(),new u.Constructed({idBlock:{tagClass:3,tagNumber:1},value:[new u.ObjectIdentifier,new u.Any]})]})})]})}}],(r=[{key:"fromSchema",value:function(t){(0,l.clearProps)(t,["crls"]);var r=u.compareSchema(t,t,e.schema({names:{crls:"crls"}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for RevocationInfoChoices");var n,a=p(r.result.crls);try{for(a.s();!(n=a.n()).done;){var i=n.value;1===i.idBlock.tagClass?this.crls.push(new c.default({schema:i})):this.otherRevocationInfos.push(new f.default({schema:i}))}}catch(e){a.e(e)}finally{a.f()}}},{key:"toSchema",value:function(){var e=[];return e.push.apply(e,n(Array.from(this.crls,(function(e){return e.toSchema()})))),e.push.apply(e,n(Array.from(this.otherRevocationInfos,(function(e){var t=e.toSchema();return t.idBlock.tagClass=3,t.idBlock.tagNumber=1,t})))),new u.Set({value:e})}},{key:"toJSON",value:function(){return{crls:Array.from(this.crls,(function(e){return e.toJSON()})),otherRevocationInfos:Array.from(this.otherRevocationInfos,(function(e){return e.toJSON()}))}}}])&&o(t.prototype,r),a&&o(t,a),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=y},{"./CertificateRevocationList.js":356,"./OtherRevocationInfoFormat.js":398,asn1js:1,pvutils:447}],428:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=f(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),s=e("pvutils"),u=c(e("./Time.js")),l=c(e("./Extensions.js"));function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(f=function(e){return e?r:t})(e)}var h=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.userCertificate=(0,s.getParametersValue)(t,"userCertificate",e.defaultValues("userCertificate")),this.revocationDate=(0,s.getParametersValue)(t,"revocationDate",e.defaultValues("revocationDate")),"crlEntryExtensions"in t&&(this.crlEntryExtensions=(0,s.getParametersValue)(t,"crlEntryExtensions",e.defaultValues("crlEntryExtensions"))),"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,i=[{key:"defaultValues",value:function(e){switch(e){case"userCertificate":return new o.Integer;case"revocationDate":return new u.default;case"crlEntryExtensions":return new l.default;default:throw new Error("Invalid member name for RevokedCertificate class: ".concat(e))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,s.getParametersValue)(e,"names",{});return new o.Sequence({name:t.blockName||"",value:[new o.Integer({name:t.userCertificate||"userCertificate"}),u.default.schema({names:{utcTimeName:t.revocationDate||"revocationDate",generalTimeName:t.revocationDate||"revocationDate"}}),l.default.schema({names:{blockName:t.crlEntryExtensions||"crlEntryExtensions"}},!0)]})}}],(r=[{key:"fromSchema",value:function(t){(0,s.clearProps)(t,["userCertificate","revocationDate","crlEntryExtensions"]);var r=o.compareSchema(t,t,e.schema());if(!1===r.verified)throw new Error("Object's schema was not verified against input data for RevokedCertificate");this.userCertificate=r.result.userCertificate,this.revocationDate=new u.default({schema:r.result.revocationDate}),"crlEntryExtensions"in r.result&&(this.crlEntryExtensions=new l.default({schema:r.result.crlEntryExtensions}))}},{key:"toSchema",value:function(){var e=[this.userCertificate,this.revocationDate.toSchema()];return"crlEntryExtensions"in this&&e.push(this.crlEntryExtensions.toSchema()),new o.Sequence({value:e})}},{key:"toJSON",value:function(){var e={userCertificate:this.userCertificate.toJSON(),revocationDate:this.revocationDate.toJSON};return"crlEntryExtensions"in this&&(e.crlEntryExtensions=this.crlEntryExtensions.toJSON()),e}}])&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=h},{"./Extensions.js":373,"./Time.js":441,asn1js:1,pvutils:447}],429:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=y(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),s=e("pvutils"),u=d(e("./Attribute.js")),l=d(e("./PrivateKeyInfo.js")),c=d(e("./PKCS8ShroudedKeyBag.js")),f=d(e("./CertBag.js")),h=d(e("./CRLBag.js")),m=d(e("./SecretBag.js")),p=d(e("./SafeContents.js"));function d(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(y=function(e){return e?r:t})(e)}var v=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.bagId=(0,s.getParametersValue)(t,"bagId",e.defaultValues("bagId")),this.bagValue=(0,s.getParametersValue)(t,"bagValue",e.defaultValues("bagValue")),"bagAttributes"in t&&(this.bagAttributes=(0,s.getParametersValue)(t,"bagAttributes",e.defaultValues("bagAttributes"))),"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,i=[{key:"defaultValues",value:function(e){switch(e){case"bagId":return"";case"bagValue":return new o.Any;case"bagAttributes":return[];default:throw new Error("Invalid member name for SafeBag class: ".concat(e))}}},{key:"compareWithDefault",value:function(e,t){switch(e){case"bagId":return""===t;case"bagValue":return t instanceof o.Any;case"bagAttributes":return 0===t.length;default:throw new Error("Invalid member name for SafeBag class: ".concat(e))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,s.getParametersValue)(e,"names",{});return new o.Sequence({name:t.blockName||"",value:[new o.ObjectIdentifier({name:t.bagId||"bagId"}),new o.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[new o.Any({name:t.bagValue||"bagValue"})]}),new o.Set({optional:!0,value:[new o.Repeated({name:t.bagAttributes||"bagAttributes",value:u.default.schema()})]})]})}}],(r=[{key:"fromSchema",value:function(t){(0,s.clearProps)(t,["bagId","bagValue","bagAttributes"]);var r=o.compareSchema(t,t,e.schema({names:{bagId:"bagId",bagValue:"bagValue",bagAttributes:"bagAttributes"}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for SafeBag");switch(this.bagId=r.result.bagId.valueBlock.toString(),this.bagId){case"1.2.840.113549.1.12.10.1.1":this.bagValue=new l.default({schema:r.result.bagValue});break;case"1.2.840.113549.1.12.10.1.2":this.bagValue=new c.default({schema:r.result.bagValue});break;case"1.2.840.113549.1.12.10.1.3":this.bagValue=new f.default({schema:r.result.bagValue});break;case"1.2.840.113549.1.12.10.1.4":this.bagValue=new h.default({schema:r.result.bagValue});break;case"1.2.840.113549.1.12.10.1.5":this.bagValue=new m.default({schema:r.result.bagValue});break;case"1.2.840.113549.1.12.10.1.6":this.bagValue=new p.default({schema:r.result.bagValue});break;default:throw new Error('Invalid "bagId" for SafeBag: '.concat(this.bagId))}"bagAttributes"in r.result&&(this.bagAttributes=Array.from(r.result.bagAttributes,(function(e){return new u.default({schema:e})})))}},{key:"toSchema",value:function(){var e=[new o.ObjectIdentifier({value:this.bagId}),new o.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[this.bagValue.toSchema()]})];return"bagAttributes"in this&&e.push(new o.Set({value:Array.from(this.bagAttributes,(function(e){return e.toSchema()}))})),new o.Sequence({value:e})}},{key:"toJSON",value:function(){var e={bagId:this.bagId,bagValue:this.bagValue.toJSON()};return"bagAttributes"in this&&(e.bagAttributes=Array.from(this.bagAttributes,(function(e){return e.toJSON()}))),e}}])&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=v},{"./Attribute.js":340,"./CRLBag.js":349,"./CertBag.js":351,"./PKCS8ShroudedKeyBag.js":402,"./PrivateKeyInfo.js":410,"./SafeContents.js":430,"./SecretBag.js":431,asn1js:1,pvutils:447}],430:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),u=e("pvutils"),l=(o=e("./SafeBag.js"))&&o.__esModule?o:{default:o};function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}var f=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.safeBags=(0,u.getParametersValue)(t,"safeBags",e.defaultValues("safeBags")),"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,i=[{key:"defaultValues",value:function(e){if("safeBags"===e)return[];throw new Error("Invalid member name for SafeContents class: ".concat(e))}},{key:"compareWithDefault",value:function(e,t){if("safeBags"===e)return 0===t.length;throw new Error("Invalid member name for SafeContents class: ".concat(e))}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,u.getParametersValue)(e,"names",{});return new s.Sequence({name:t.blockName||"",value:[new s.Repeated({name:t.safeBags||"",value:l.default.schema()})]})}}],(r=[{key:"fromSchema",value:function(t){(0,u.clearProps)(t,["safeBags"]);var r=s.compareSchema(t,t,e.schema({names:{safeBags:"safeBags"}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for SafeContents");this.safeBags=Array.from(r.result.safeBags,(function(e){return new l.default({schema:e})}))}},{key:"toSchema",value:function(){return new s.Sequence({value:Array.from(this.safeBags,(function(e){return e.toSchema()}))})}},{key:"toJSON",value:function(){return{safeBags:Array.from(this.safeBags,(function(e){return e.toJSON()}))}}}])&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=f},{"./SafeBag.js":429,asn1js:1,pvutils:447}],431:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),s=e("pvutils");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}var l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.secretTypeId=(0,s.getParametersValue)(t,"secretTypeId",e.defaultValues("secretTypeId")),this.secretValue=(0,s.getParametersValue)(t,"secretValue",e.defaultValues("secretValue")),"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,i=[{key:"defaultValues",value:function(e){switch(e){case"secretTypeId":return"";case"secretValue":return new o.Any;default:throw new Error("Invalid member name for SecretBag class: ".concat(e))}}},{key:"compareWithDefault",value:function(e,t){switch(e){case"secretTypeId":return""===t;case"secretValue":return t instanceof o.Any;default:throw new Error("Invalid member name for SecretBag class: ".concat(e))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,s.getParametersValue)(e,"names",{});return new o.Sequence({name:t.blockName||"",value:[new o.ObjectIdentifier({name:t.id||"id"}),new o.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[new o.Any({name:t.value||"value"})]})]})}}],(r=[{key:"fromSchema",value:function(t){(0,s.clearProps)(t,["secretTypeId","secretValue"]);var r=o.compareSchema(t,t,e.schema({names:{id:"secretTypeId",value:"secretValue"}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for SecretBag");this.secretTypeId=r.result.secretTypeId.valueBlock.toString(),this.secretValue=r.result.secretValue}},{key:"toSchema",value:function(){return new o.Sequence({value:[new o.ObjectIdentifier({value:this.secretTypeId}),new o.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[this.secretValue.toSchema()]})]})}},{key:"toJSON",value:function(){return{secretTypeId:this.secretTypeId,secretValue:this.secretValue.toJSON()}}}])&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=l},{asn1js:1,pvutils:447}],432:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=f(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),s=e("pvutils"),u=c(e("./AlgorithmIdentifier.js")),l=c(e("./Certificate.js"));function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(f=function(e){return e?r:t})(e)}var h=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.signatureAlgorithm=(0,s.getParametersValue)(t,"signatureAlgorithm",e.defaultValues("signatureAlgorithm")),this.signature=(0,s.getParametersValue)(t,"signature",e.defaultValues("signature")),"certs"in t&&(this.certs=(0,s.getParametersValue)(t,"certs",e.defaultValues("certs"))),"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,i=[{key:"defaultValues",value:function(e){switch(e){case"signatureAlgorithm":return new u.default;case"signature":return new o.BitString;case"certs":return[];default:throw new Error("Invalid member name for Signature class: ".concat(e))}}},{key:"compareWithDefault",value:function(t,r){switch(t){case"signatureAlgorithm":return""===r.algorithmId&&"algorithmParams"in r==0;case"signature":return r.isEqual(e.defaultValues(t));case"certs":return 0===r.length;default:throw new Error("Invalid member name for Signature class: ".concat(t))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,s.getParametersValue)(e,"names",{});return new o.Sequence({name:t.blockName||"",value:[u.default.schema(t.signatureAlgorithm||{}),new o.BitString({name:t.signature||""}),new o.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new o.Sequence({value:[new o.Repeated({name:t.certs||"",value:l.default.schema(t.certs||{})})]})]})]})}}],(r=[{key:"fromSchema",value:function(t){(0,s.clearProps)(t,["signatureAlgorithm","signature","certs"]);var r=o.compareSchema(t,t,e.schema({names:{signatureAlgorithm:{names:{blockName:"signatureAlgorithm"}},signature:"signature",certs:"certs"}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for Signature");this.signatureAlgorithm=new u.default({schema:r.result.signatureAlgorithm}),this.signature=r.result.signature,"certs"in r.result&&(this.certs=Array.from(r.result.certs,(function(e){return new l.default({schema:e})})))}},{key:"toSchema",value:function(){var e=[];return e.push(this.signatureAlgorithm.toSchema()),e.push(this.signature),"certs"in this&&e.push(new o.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new o.Sequence({value:Array.from(this.certs,(function(e){return e.toSchema()}))})]})),new o.Sequence({value:e})}},{key:"toJSON",value:function(){var e={signatureAlgorithm:this.signatureAlgorithm.toJSON(),signature:this.signature.toJSON()};return"certs"in this&&(e.certs=Array.from(this.certs,(function(e){return e.toJSON()}))),e}}])&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=h},{"./AlgorithmIdentifier.js":338,"./Certificate.js":353,asn1js:1,pvutils:447}],433:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),u=e("pvutils"),l=(o=e("./Attribute.js"))&&o.__esModule?o:{default:o};function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}var f=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.type=(0,u.getParametersValue)(t,"type",e.defaultValues("type")),this.attributes=(0,u.getParametersValue)(t,"attributes",e.defaultValues("attributes")),this.encodedValue=(0,u.getParametersValue)(t,"encodedValue",e.defaultValues("encodedValue")),"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,i=[{key:"defaultValues",value:function(e){switch(e){case"type":return-1;case"attributes":return[];case"encodedValue":return new ArrayBuffer(0);default:throw new Error("Invalid member name for SignedAndUnsignedAttributes class: ".concat(e))}}},{key:"compareWithDefault",value:function(t,r){switch(t){case"type":return r===e.defaultValues("type");case"attributes":return 0===r.length;case"encodedValue":return 0===r.byteLength;default:throw new Error("Invalid member name for SignedAndUnsignedAttributes class: ".concat(t))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,u.getParametersValue)(e,"names",{});return new s.Constructed({name:t.blockName||"",optional:!0,idBlock:{tagClass:3,tagNumber:t.tagNumber},value:[new s.Repeated({name:t.attributes||"",value:l.default.schema()})]})}}],(r=[{key:"fromSchema",value:function(t){(0,u.clearProps)(t,["attributes"]);var r=s.compareSchema(t,t,e.schema({names:{tagNumber:this.type,attributes:"attributes"}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for SignedAndUnsignedAttributes");if(this.type=r.result.idBlock.tagNumber,this.encodedValue=r.result.valueBeforeDecode,new Uint8Array(this.encodedValue)[0]=49,"attributes"in r.result!=0)this.attributes=Array.from(r.result.attributes,(function(e){return new l.default({schema:e})}));else if(0===this.type)throw new Error("Wrong structure of SignedUnsignedAttributes")}},{key:"toSchema",value:function(){if(e.compareWithDefault("type",this.type)||e.compareWithDefault("attributes",this.attributes))throw new Error('Incorrectly initialized "SignedAndUnsignedAttributes" class');return new s.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:this.type},value:Array.from(this.attributes,(function(e){return e.toSchema()}))})}},{key:"toJSON",value:function(){if(e.compareWithDefault("type",this.type)||e.compareWithDefault("attributes",this.attributes))throw new Error('Incorrectly initialized "SignedAndUnsignedAttributes" class');return{type:this.type,attributes:Array.from(this.attributes,(function(e){return e.toJSON()}))}}}])&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=f},{"./Attribute.js":340,asn1js:1,pvutils:447}],434:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.SignedCertificateTimestamp=void 0,r.verifySCTsForCertificate=function(e,t,r){return w.apply(this,arguments)};var s,u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!=typeof e)return{default:e};var r=m(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=a?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),l=e("pvutils"),c=e("bytestreamjs"),f=e("./common.js"),h=(s=e("./PublicKeyInfo.js"))&&s.__esModule?s:{default:s};function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(m=function(e){return e?r:t})(e)}function p(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function y(e,t,r,n,a,i,o){try{var s=e[i](o),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,a)}function v(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function o(e){y(i,n,a,o,s,"next",e)}function s(e){y(i,n,a,o,s,"throw",e)}o(void 0)}))}}var g=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.version=(0,l.getParametersValue)(t,"version",e.defaultValues("version")),this.logID=(0,l.getParametersValue)(t,"logID",e.defaultValues("logID")),this.timestamp=(0,l.getParametersValue)(t,"timestamp",e.defaultValues("timestamp")),this.extensions=(0,l.getParametersValue)(t,"extensions",e.defaultValues("extensions")),this.hashAlgorithm=(0,l.getParametersValue)(t,"hashAlgorithm",e.defaultValues("hashAlgorithm")),this.signatureAlgorithm=(0,l.getParametersValue)(t,"signatureAlgorithm",e.defaultValues("signatureAlgorithm")),this.signature=(0,l.getParametersValue)(t,"signature",e.defaultValues("signature")),"schema"in t&&this.fromSchema(t.schema),"stream"in t&&this.fromStream(t.stream)}return i(e,[{key:"fromSchema",value:function(e){if(e instanceof u.RawData==!1)throw new Error("Object's schema was not verified against input data for SignedCertificateTimestamp");var t=new c.SeqStream({stream:new c.ByteStream({buffer:e.data})});this.fromStream(t)}},{key:"fromStream",value:function(e){var t=e.getUint16();if(this.version=e.getBlock(1)[0],0===this.version){this.logID=new Uint8Array(e.getBlock(32)).buffer.slice(0),this.timestamp=new Date((0,l.utilFromBase)(new Uint8Array(e.getBlock(8)),8));var r=e.getUint16();switch(this.extensions=new Uint8Array(e.getBlock(r)).buffer.slice(0),e.getBlock(1)[0]){case 0:this.hashAlgorithm="none";break;case 1:this.hashAlgorithm="md5";break;case 2:this.hashAlgorithm="sha1";break;case 3:this.hashAlgorithm="sha224";break;case 4:this.hashAlgorithm="sha256";break;case 5:this.hashAlgorithm="sha384";break;case 6:this.hashAlgorithm="sha512";break;default:throw new Error("Object's stream was not correct for SignedCertificateTimestamp")}switch(e.getBlock(1)[0]){case 0:this.signatureAlgorithm="anonymous";break;case 1:this.signatureAlgorithm="rsa";break;case 2:this.signatureAlgorithm="dsa";break;case 3:this.signatureAlgorithm="ecdsa";break;default:throw new Error("Object's stream was not correct for SignedCertificateTimestamp")}var n=e.getUint16(),a=new Uint8Array(e.getBlock(n)).buffer.slice(0),i=u.fromBER(a);if(-1===i.offset)throw new Error("Object's stream was not correct for SignedCertificateTimestamp");if(this.signature=i.result,t!==47+r+n)throw new Error("Object's stream was not correct for SignedCertificateTimestamp")}}},{key:"toSchema",value:function(){var e=this.toStream();return new u.RawData({data:e.stream.buffer})}},{key:"toStream",value:function(){var e=new c.SeqStream;e.appendUint16(47+this.extensions.byteLength+this.signature.valueBeforeDecode.byteLength),e.appendChar(this.version),e.appendView(new Uint8Array(this.logID));var t,r,n=new ArrayBuffer(8),a=new Uint8Array(n),i=(0,l.utilToBase)(this.timestamp.valueOf(),8);switch(a.set(new Uint8Array(i),8-i.byteLength),e.appendView(a),e.appendUint16(this.extensions.byteLength),this.extensions.byteLength&&e.appendView(new Uint8Array(this.extensions)),this.hashAlgorithm.toLowerCase()){case"none":t=0;break;case"md5":t=1;break;case"sha1":t=2;break;case"sha224":t=3;break;case"sha256":t=4;break;case"sha384":t=5;break;case"sha512":t=6;break;default:throw new Error("Incorrect data for hashAlgorithm: ".concat(this.hashAlgorithm))}switch(e.appendChar(t),this.signatureAlgorithm.toLowerCase()){case"anonymous":r=0;break;case"rsa":r=1;break;case"dsa":r=2;break;case"ecdsa":r=3;break;default:throw new Error("Incorrect data for signatureAlgorithm: ".concat(this.signatureAlgorithm))}e.appendChar(r);var o=this.signature.toBER(!1);return e.appendUint16(o.byteLength),e.appendView(new Uint8Array(o)),e}},{key:"toJSON",value:function(){return{version:this.version,logID:(0,l.bufferToHexCodes)(this.logID),timestamp:this.timestamp,extensions:(0,l.bufferToHexCodes)(this.extensions),hashAlgorithm:this.hashAlgorithm,signatureAlgorithm:this.signatureAlgorithm,signature:this.signature.toJSON()}}},{key:"verify",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=this;return v(regeneratorRuntime.mark((function a(){var i,o,s,m,d,y,v,g,b,w,k;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:i=(0,l.toBase64)((0,l.arrayBufferToString)(n.logID)),o=null,m=new c.SeqStream,d=p(e),a.prev=4,d.s();case 6:if((y=d.n()).done){a.next=13;break}if((v=y.value).log_id!==i){a.next=11;break}return o=v.key,a.abrupt("break",13);case 11:a.next=6;break;case 13:a.next=18;break;case 15:a.prev=15,a.t0=a.catch(4),d.e(a.t0);case 18:return a.prev=18,d.f(),a.finish(18);case 21:if(null!==o){a.next=23;break}throw new Error("Public key not found for CT with logId: ".concat(i));case 23:if(-1!==(g=u.fromBER((0,l.stringToArrayBuffer)((0,l.fromBase64)(o)))).offset){a.next=26;break}throw new Error("Incorrect key value for CT Log with logId: ".concat(i));case 26:return s=new h.default({schema:g.result}),m.appendChar(0),m.appendChar(0),b=new ArrayBuffer(8),w=new Uint8Array(b),k=(0,l.utilToBase)(n.timestamp.valueOf(),8),w.set(new Uint8Array(k),8-k.byteLength),m.appendView(w),m.appendUint16(r),0===r&&m.appendUint24(t.byteLength),m.appendView(new Uint8Array(t)),m.appendUint16(n.extensions.byteLength),0!==n.extensions.byteLength&&m.appendView(new Uint8Array(n.extensions)),a.abrupt("return",(0,f.getEngine)().subtle.verifyWithPublicKey(m._stream._buffer.slice(0,m._length),{valueBlock:{valueHex:n.signature.toBER(!1)}},s,{algorithmId:""},"SHA-256"));case 40:case"end":return a.stop()}}),a,null,[[4,15,18,21]])})))()}}],[{key:"defaultValues",value:function(e){switch(e){case"version":return 0;case"logID":case"extensions":return new ArrayBuffer(0);case"timestamp":return new Date(0);case"hashAlgorithm":case"signatureAlgorithm":return"";case"signature":return new u.Any;default:throw new Error("Invalid member name for SignedCertificateTimestamp class: ".concat(e))}}}]),e}();r.SignedCertificateTimestamp=g;var b=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.timestamps=(0,l.getParametersValue)(t,"timestamps",e.defaultValues("timestamps")),"schema"in t&&this.fromSchema(t.schema)}return i(e,[{key:"fromSchema",value:function(e){if(e instanceof u.OctetString==!1)throw new Error("Object's schema was not verified against input data for SignedCertificateTimestampList");var t=new c.SeqStream({stream:new c.ByteStream({buffer:e.valueBlock.valueHex})});if(t.getUint16()!==t.length)throw new Error("Object's schema was not verified against input data for SignedCertificateTimestampList");for(;t.length;)this.timestamps.push(new g({stream:t}))}},{key:"toSchema",value:function(){var e,t=new c.SeqStream,r=0,n=[],a=p(this.timestamps);try{for(a.s();!(e=a.n()).done;){var i=e.value.toStream();n.push(i),r+=i.stream.buffer.byteLength}}catch(e){a.e(e)}finally{a.f()}t.appendUint16(r);for(var o=0,s=n;o<s.length;o++){var l=s[o];t.appendView(l.stream.view)}return new u.OctetString({valueHex:t.stream.buffer.slice(0)})}},{key:"toJSON",value:function(){return{timestamps:Array.from(this.timestamps,(function(e){return e.toJSON()}))}}}],[{key:"defaultValues",value:function(e){if("timestamps"===e)return[];throw new Error("Invalid member name for SignedCertificateTimestampList class: ".concat(e))}},{key:"compareWithDefault",value:function(e,t){if("timestamps"===e)return 0===t.length;throw new Error("Invalid member name for SignedCertificateTimestampList class: ".concat(e))}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,l.getParametersValue)(e,"names",{});return"optional"in t==!1&&(t.optional=!1),new u.OctetString({name:t.blockName||"SignedCertificateTimestampList",optional:t.optional})}}]),e}();function w(){return w=v(regeneratorRuntime.mark((function e(t,r,n){var a,i,o,s,u,l,h,m,d,y,v,g,b,w=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=w.length>3&&void 0!==w[3]?w[3]:-1,i=null,u=new c.SeqStream,void 0!==(h=(0,f.getCrypto)())){e.next=6;break}return e.abrupt("return",Promise.reject("Unable to create WebCrypto object"));case 6:m=0;case 7:if(!(m<t.extensions.length)){e.next=19;break}e.t0=t.extensions[m].extnID,e.next="1.3.6.1.4.1.11129.2.4.2"===e.t0?11:16;break;case 11:if(0!==(i=t.extensions[m].parsedValue).timestamps.length){e.next=14;break}throw new Error("Nothing to verify in the certificate");case 14:return t.extensions.splice(m,1),e.abrupt("break",16);case 16:m++,e.next=7;break;case 19:if(null!==i){e.next=21;break}throw new Error("No SignedCertificateTimestampList extension in the specified certificate");case 21:return o=t.encodeTBS().toBER(!1),e.next=24,h.digest({name:"SHA-256"},new Uint8Array(r.subjectPublicKeyInfo.toSchema().toBER(!1)));case 24:if(s=e.sent,u.appendView(new Uint8Array(s)),u.appendUint24(o.byteLength),u.appendView(new Uint8Array(o)),l=u._stream._buffer.slice(0,u._length),-1!==a){e.next=51;break}d=[],y=p(i.timestamps),e.prev=32,y.s();case 34:if((v=y.n()).done){e.next=42;break}return g=v.value,e.next=38,g.verify(n,l,1);case 38:b=e.sent,d.push(b);case 40:e.next=34;break;case 42:e.next=47;break;case 44:e.prev=44,e.t1=e.catch(32),y.e(e.t1);case 47:return e.prev=47,y.f(),e.finish(47);case 50:return e.abrupt("return",d);case 51:return a>=i.timestamps.length&&(a=i.timestamps.length-1),e.next=54,i.timestamps[a].verify(n,l,1);case 54:return e.t2=e.sent,e.abrupt("return",[e.t2]);case 56:case"end":return e.stop()}}),e,null,[[32,44,47,50]])}))),w.apply(this,arguments)}r.default=b},{"./PublicKeyInfo.js":412,"./common.js":444,asn1js:1,bytestreamjs:4,pvutils:447}],435:[function(e,t,r){"use strict";function n(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==s(e)&&"function"!=typeof e)return{default:e};var r=P(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),l=e("pvutils"),c=e("./common.js"),f=j(e("./AlgorithmIdentifier.js")),h=j(e("./EncapsulatedContentInfo.js")),m=j(e("./Certificate.js")),p=j(e("./CertificateRevocationList.js")),d=j(e("./OtherRevocationInfoFormat.js")),y=j(e("./SignerInfo.js")),v=j(e("./CertificateSet.js")),g=j(e("./RevocationInfoChoices.js")),b=j(e("./IssuerAndSerialNumber.js")),w=j(e("./TSTInfo.js")),k=j(e("./CertificateChainValidationEngine.js")),S=j(e("./BasicOCSPResponse.js"));function j(e){return e&&e.__esModule?e:{default:e}}function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(P=function(e){return e?r:t})(e)}function _(e,t,r,n,a,i,o){try{var s=e[i](o),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,a)}function A(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function o(e){_(i,n,a,o,s,"next",e)}function s(e){_(i,n,a,o,s,"throw",e)}o(void 0)}))}}function O(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var I=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,e),this.version=(0,l.getParametersValue)(t,"version",e.defaultValues("version")),this.digestAlgorithms=(0,l.getParametersValue)(t,"digestAlgorithms",e.defaultValues("digestAlgorithms")),this.encapContentInfo=(0,l.getParametersValue)(t,"encapContentInfo",e.defaultValues("encapContentInfo")),"certificates"in t&&(this.certificates=(0,l.getParametersValue)(t,"certificates",e.defaultValues("certificates"))),"crls"in t&&(this.crls=(0,l.getParametersValue)(t,"crls",e.defaultValues("crls"))),"ocsps"in t&&(this.ocsps=(0,l.getParametersValue)(t,"ocsps",e.defaultValues("ocsps"))),this.signerInfos=(0,l.getParametersValue)(t,"signerInfos",e.defaultValues("signerInfos")),"schema"in t&&this.fromSchema(t.schema)}var t,r,a;return t=e,r=[{key:"fromSchema",value:function(t){(0,l.clearProps)(t,["SignedData.version","SignedData.digestAlgorithms","SignedData.encapContentInfo","SignedData.certificates","SignedData.crls","SignedData.signerInfos"]);var r=u.compareSchema(t,t,e.schema());if(!1===r.verified)throw new Error("Object's schema was not verified against input data for SignedData");if(this.version=r.result["SignedData.version"].valueBlock.valueDec,"SignedData.digestAlgorithms"in r.result&&(this.digestAlgorithms=Array.from(r.result["SignedData.digestAlgorithms"],(function(e){return new f.default({schema:e})}))),this.encapContentInfo=new h.default({schema:r.result["SignedData.encapContentInfo"]}),"SignedData.certificates"in r.result){var n=new v.default({schema:new u.Set({value:r.result["SignedData.certificates"].valueBlock.value})});this.certificates=n.certificates.slice(0)}"SignedData.crls"in r.result&&(this.crls=Array.from(r.result["SignedData.crls"],(function(e){return 1===e.idBlock.tagClass?new p.default({schema:e}):(e.idBlock.tagClass=1,e.idBlock.tagNumber=16,new d.default({schema:e}))}))),"SignedData.signerInfos"in r.result&&(this.signerInfos=Array.from(r.result["SignedData.signerInfos"],(function(e){return new y.default({schema:e})})))}},{key:"toSchema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=[];if(t.push(new u.Integer({value:this.version})),t.push(new u.Set({value:Array.from(this.digestAlgorithms,(function(t){return t.toSchema(e)}))})),t.push(this.encapContentInfo.toSchema()),"certificates"in this){var r=new v.default({certificates:this.certificates}),n=r.toSchema();t.push(new u.Constructed({idBlock:{tagClass:3,tagNumber:0},value:n.valueBlock.value}))}return"crls"in this&&t.push(new u.Constructed({idBlock:{tagClass:3,tagNumber:1},value:Array.from(this.crls,(function(t){if(t instanceof d.default){var r=t.toSchema(e);return r.idBlock.tagClass=3,r.idBlock.tagNumber=1,r}return t.toSchema(e)}))})),t.push(new u.Set({value:Array.from(this.signerInfos,(function(t){return t.toSchema(e)}))})),new u.Sequence({value:t})}},{key:"toJSON",value:function(){var e={version:this.version,digestAlgorithms:Array.from(this.digestAlgorithms,(function(e){return e.toJSON()})),encapContentInfo:this.encapContentInfo.toJSON()};return"certificates"in this&&(e.certificates=Array.from(this.certificates,(function(e){return e.toJSON()}))),"crls"in this&&(e.crls=Array.from(this.crls,(function(e){return e.toJSON()}))),e.signerInfos=Array.from(this.signerInfos,(function(e){return e.toJSON()})),e}},{key:"verify",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.signer,a=void 0===r?-1:r,i=t.data,o=void 0===i?new ArrayBuffer(0):i,s=t.trustedCerts,f=void 0===s?[]:s,h=t.checkDate,p=void 0===h?new Date:h,d=t.checkChain,y=void 0!==d&&d,v=t.extendedMode,g=void 0!==v&&v,j=t.passedWhenNotRevValues,P=void 0!==j&&j,_=t.findOrigin,C=void 0===_?null:_,I=t.findIssuer,x=void 0===I?null:I,B=this,E=Promise.resolve(),N=new ArrayBuffer(0),V="",D={},R=null,M=[],T=(0,c.getEngine)(),K=(0,c.getCrypto)();if(void 0===K)return Promise.reject("Unable to create WebCrypto object");if(-1===a)return g?Promise.reject({date:p,code:1,message:"Unable to get signer index from input parameters",signatureVerified:null,signerCertificate:null,signerCertificateVerified:null}):Promise.reject("Unable to get signer index from input parameters");if("certificates"in this==0)return g?Promise.reject({date:p,code:2,message:"No certificates attached to this signed data",signatureVerified:null,signerCertificate:null,signerCertificateVerified:null}):Promise.reject("No certificates attached to this signed data");function L(e){if(!0===e.issuer.isEqual(D.issuer)&&!0===e.serialNumber.isEqual(D.serialNumber))return null;var t=!1;if("extensions"in e){var r,n=O(e.extensions);try{for(n.s();!(r=n.n()).done;){var a=r.value;"2.5.29.19"===a.extnID&&"cA"in a.parsedValue&&!0===a.parsedValue.cA&&(t=!0)}}catch(e){n.e(e)}finally{n.f()}}return t?e:null}return E=(E=this.signerInfos[a].sid instanceof b.default?E.then((function(){var t,r=O(e.certificates);try{for(r.s();!(t=r.n()).done;){var n=t.value;if(n instanceof m.default!=0&&n.issuer.isEqual(e.signerInfos[a].sid.issuer)&&n.serialNumber.isEqual(e.signerInfos[a].sid.serialNumber))return D=n,Promise.resolve()}}catch(e){r.e(e)}finally{r.f()}return g?Promise.reject({date:p,code:3,message:"Unable to find signer certificate",signatureVerified:null,signerCertificate:null,signerCertificateVerified:null}):Promise.reject("Unable to find signer certificate")})):A(regeneratorRuntime.mark((function e(){var t,r,n,i,o,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,t=B.signerInfos[a].sid,r=t.idBlock.isConstructed?t.valueBlock.value[0].valueBlock.valueHex:t.valueBlock.valueHex,n=O(B.certificates),e.prev=4,n.s();case 6:if((i=n.n()).done){e.next=18;break}if((o=i.value)instanceof m.default){e.next=10;break}return e.abrupt("continue",16);case 10:return e.next=12,K.digest({name:"sha-1"},new Uint8Array(o.subjectPublicKeyInfo.subjectPublicKey.valueBlock.valueHex));case 12:if(s=e.sent,!(0,l.isEqualBuffer)(s,r)){e.next=16;break}return D=o,e.abrupt("break",18);case 16:e.next=6;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(4),n.e(e.t0);case 23:return e.prev=23,n.f(),e.finish(23);case 26:if(D){e.next=28;break}throw new Error("Signing certificate not found");case 28:e.next=35;break;case 30:if(e.prev=30,e.t1=e.catch(0),!g){e.next=34;break}return e.abrupt("return",Promise.reject({date:p,code:3,message:"Unable to find signer certificate",signatureVerified:null,signerCertificate:null,signerCertificateVerified:null}));case 34:throw"Unable to find signer certificate";case 35:case"end":return e.stop()}}),e,null,[[0,30],[4,20,23,26]])})))()).then((function(){if("1.2.840.113549.1.9.16.1.4"===e.encapContentInfo.eContentType){if("eContent"in e.encapContentInfo==0)return!1;var t,r=u.fromBER(e.encapContentInfo.eContent.valueBlock.valueHex);try{t=new w.default({schema:r.result})}catch(e){return!1}return p=t.genTime,R=t.serialNumber.valueBlock.valueHex,0===o.byteLength?g?Promise.reject({date:p,code:4,message:"Missed detached data input array",signatureVerified:null,signerCertificate:D,signerCertificateVerified:null}):Promise.reject("Missed detached data input array"):t.verify({data:o})}return!0})),y&&(E=E.then((function(t){var r;if(!1===t)return!1;var a=Array.from(e.certificates.filter((function(e){return e instanceof m.default})),(function(e){return L(e)})),i={checkDate:p,certs:Array.from(a.filter((function(e){return null!==e}))),trustedCerts:f};null!==x&&(i.findIssuer=x),null!==C&&(i.findOrigin=C);var o=new k.default(i);if(o.certs.push(D),"crls"in e){var s,u=O(e.crls);try{for(u.s();!(s=u.n()).done;){var l=s.value;"thisUpdate"in l?o.crls.push(l):"1.3.6.1.5.5.7.48.1.1"===l.otherRevInfoFormat&&o.ocsps.push(new S.default({schema:l.otherRevInfo}))}}catch(e){u.e(e)}finally{u.f()}}return"ocsps"in e&&(r=o.ocsps).push.apply(r,n(e.ocsps)),o.verify({passedWhenNotRevValues:P}).then((function(e){return"certificatePath"in e&&(M=e.certificatePath),!0===e.result?Promise.resolve(!0):g?Promise.reject({date:p,code:5,message:"Validation of signer's certificate failed: ".concat(e.resultMessage),signatureVerified:null,signerCertificate:D,signerCertificateVerified:!1}):Promise.reject("Validation of signer's certificate failed")}),(function(e){return g?Promise.reject({date:p,code:5,message:"Validation of signer's certificate failed with error: ".concat(e instanceof Object?e.resultMessage:e),signatureVerified:null,signerCertificate:D,signerCertificateVerified:!1}):Promise.reject("Validation of signer's certificate failed with error: ".concat(e instanceof Object?e.resultMessage:e))}))}))),E=(E=(E=(E=(E=E.then((function(t){if(!1===t)return!1;var r=(0,c.getAlgorithmByOID)(e.signerInfos[a].digestAlgorithm.algorithmId);return"name"in r==0?g?Promise.reject({date:p,code:7,message:"Unsupported signature algorithm: ".concat(e.signerInfos[a].digestAlgorithm.algorithmId),signatureVerified:null,signerCertificate:D,signerCertificateVerified:!0}):Promise.reject("Unsupported signature algorithm: ".concat(e.signerInfos[a].digestAlgorithm.algorithmId)):(V=r.name,!0)}))).then((function(t){if(!1===t)return!1;if("eContent"in e.encapContentInfo)if(1===e.encapContentInfo.eContent.idBlock.tagClass&&4===e.encapContentInfo.eContent.idBlock.tagNumber)if(!1===e.encapContentInfo.eContent.idBlock.isConstructed)o=e.encapContentInfo.eContent.valueBlock.valueHex;else{var r,n=O(e.encapContentInfo.eContent.valueBlock.value);try{for(n.s();!(r=n.n()).done;){var i=r.value;o=(0,l.utilConcatBuf)(o,i.valueBlock.valueHex)}}catch(e){n.e(e)}finally{n.f()}}else o=e.encapContentInfo.eContent.valueBlock.valueBeforeDecode;else if(0===o.byteLength)return g?Promise.reject({date:p,code:8,message:"Missed detached data input array",signatureVerified:null,signerCertificate:D,signerCertificateVerified:!0}):Promise.reject("Missed detached data input array");if("signedAttrs"in e.signerInfos[a]){var s,u=!1,c=!1,f=O(e.signerInfos[a].signedAttrs.attributes);try{for(f.s();!(s=f.n()).done;){var h=s.value;if("1.2.840.113549.1.9.3"===h.type&&(u=!0),"1.2.840.113549.1.9.4"===h.type&&(c=!0,N=h.values[0].valueBlock.valueHex),u&&c)break}}catch(e){f.e(e)}finally{f.f()}if(!1===u)return g?Promise.reject({date:p,code:9,message:'Attribute "content-type" is a mandatory attribute for "signed attributes"',signatureVerified:null,signerCertificate:D,signerCertificateVerified:!0}):Promise.reject('Attribute "content-type" is a mandatory attribute for "signed attributes"');if(!1===c)return g?Promise.reject({date:p,code:10,message:'Attribute "message-digest" is a mandatory attribute for "signed attributes"',signatureVerified:null,signerCertificate:D,signerCertificateVerified:!0}):Promise.reject('Attribute "message-digest" is a mandatory attribute for "signed attributes"')}return!0}))).then((function(t){return!1!==t&&(!("signedAttrs"in e.signerInfos[a])||K.digest(V,new Uint8Array(o)))})).then((function(t){return!1!==t&&(!("signedAttrs"in e.signerInfos[a])||!!(0,l.isEqualBuffer)(t,N)&&(o=e.signerInfos[a].signedAttrs.encodedValue,!0))}))).then((function(t){return!1!==t&&T.subtle.verifyWithPublicKey(o,e.signerInfos[a].signature,D.subjectPublicKeyInfo,D.signatureAlgorithm,V)}))).then((function(e){return g?{date:p,code:14,message:"",signatureVerified:e,signerCertificate:D,timestampSerial:R,signerCertificateVerified:!0,certificatePath:M}:e}),(function(e){return g?"code"in e?Promise.reject(e):Promise.reject({date:p,code:15,message:"Error during verification: ".concat(e.message),signatureVerified:null,signerCertificate:D,timestampSerial:R,signerCertificateVerified:!0}):Promise.reject(e)}))}},{key:"sign",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"SHA-1",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new ArrayBuffer(0);if(void 0===e)return Promise.reject("Need to provide a private key for signing");var i,o=Promise.resolve(),s=(0,c.getEngine)(),h=(0,c.getOIDByAlgorithm)({name:n});return""===h?Promise.reject("Unsupported hash algorithm: ".concat(n)):(0===this.digestAlgorithms.filter((function(e){return e.algorithmId===h})).length&&this.digestAlgorithms.push(new f.default({algorithmId:h,algorithmParams:new u.Null})),this.signerInfos[t].digestAlgorithm=new f.default({algorithmId:h,algorithmParams:new u.Null}),o=(o=(o=(o=(o=o.then((function(){return s.subtle.getSignatureParameters(e,n)}))).then((function(e){i=e.parameters,r.signerInfos[t].signatureAlgorithm=e.signatureAlgorithm}))).then((function(){if("signedAttrs"in r.signerInfos[t])0!==r.signerInfos[t].signedAttrs.encodedValue.byteLength?a=r.signerInfos[t].signedAttrs.encodedValue:(a=r.signerInfos[t].signedAttrs.toSchema(!0).toBER(!1),new Uint8Array(a)[0]=49);else if("eContent"in r.encapContentInfo)if(1===r.encapContentInfo.eContent.idBlock.tagClass&&4===r.encapContentInfo.eContent.idBlock.tagNumber)if(!1===r.encapContentInfo.eContent.idBlock.isConstructed)a=r.encapContentInfo.eContent.valueBlock.valueHex;else{var e,n=O(r.encapContentInfo.eContent.valueBlock.value);try{for(n.s();!(e=n.n()).done;){var i=e.value;a=(0,l.utilConcatBuf)(a,i.valueBlock.valueHex)}}catch(e){n.e(e)}finally{n.f()}}else a=r.encapContentInfo.eContent.valueBlock.valueBeforeDecode;else if(0===a.byteLength)return Promise.reject("Missed detached data input array");return Promise.resolve()}))).then((function(){return s.subtle.signWithPrivateKey(a,e,i)}))).then((function(e){return r.signerInfos[t].signature=new u.OctetString({valueHex:e}),e})))}}],a=[{key:"defaultValues",value:function(e){switch(e){case"version":return 0;case"digestAlgorithms":case"certificates":case"crls":case"ocsps":case"signerInfos":return[];case"encapContentInfo":return new h.default;default:throw new Error("Invalid member name for SignedData class: ".concat(e))}}},{key:"compareWithDefault",value:function(t,r){switch(t){case"version":return r===e.defaultValues("version");case"encapContentInfo":return new h.default;case"digestAlgorithms":case"certificates":case"crls":case"ocsps":case"signerInfos":return 0===r.length;default:throw new Error("Invalid member name for SignedData class: ".concat(t))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,l.getParametersValue)(e,"names",{});return"optional"in t==0&&(t.optional=!1),new u.Sequence({name:t.blockName||"SignedData",optional:t.optional,value:[new u.Integer({name:t.version||"SignedData.version"}),new u.Set({value:[new u.Repeated({name:t.digestAlgorithms||"SignedData.digestAlgorithms",value:f.default.schema()})]}),h.default.schema(t.encapContentInfo||{names:{blockName:"SignedData.encapContentInfo"}}),new u.Constructed({name:t.certificates||"SignedData.certificates",optional:!0,idBlock:{tagClass:3,tagNumber:0},value:v.default.schema().valueBlock.value}),new u.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:g.default.schema(t.crls||{names:{crls:"SignedData.crls"}}).valueBlock.value}),new u.Set({value:[new u.Repeated({name:t.signerInfos||"SignedData.signerInfos",value:y.default.schema()})]})]})}}],r&&o(t.prototype,r),a&&o(t,a),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=I},{"./AlgorithmIdentifier.js":338,"./BasicOCSPResponse.js":347,"./Certificate.js":353,"./CertificateChainValidationEngine.js":354,"./CertificateRevocationList.js":356,"./CertificateSet.js":357,"./EncapsulatedContentInfo.js":367,"./IssuerAndSerialNumber.js":378,"./OtherRevocationInfoFormat.js":398,"./RevocationInfoChoices.js":427,"./SignerInfo.js":436,"./TSTInfo.js":440,"./common.js":444,asn1js:1,pvutils:447}],436:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=h(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),s=e("pvutils"),u=f(e("./AlgorithmIdentifier.js")),l=f(e("./SignedAndUnsignedAttributes.js")),c=f(e("./IssuerAndSerialNumber.js"));function f(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(h=function(e){return e?r:t})(e)}var m=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.version=(0,s.getParametersValue)(t,"version",e.defaultValues("version")),this.sid=(0,s.getParametersValue)(t,"sid",e.defaultValues("sid")),this.digestAlgorithm=(0,s.getParametersValue)(t,"digestAlgorithm",e.defaultValues("digestAlgorithm")),"signedAttrs"in t&&(this.signedAttrs=(0,s.getParametersValue)(t,"signedAttrs",e.defaultValues("signedAttrs"))),this.signatureAlgorithm=(0,s.getParametersValue)(t,"signatureAlgorithm",e.defaultValues("signatureAlgorithm")),this.signature=(0,s.getParametersValue)(t,"signature",e.defaultValues("signature")),"unsignedAttrs"in t&&(this.unsignedAttrs=(0,s.getParametersValue)(t,"unsignedAttrs",e.defaultValues("unsignedAttrs"))),"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,i=[{key:"defaultValues",value:function(e){switch(e){case"version":return 0;case"sid":return new o.Any;case"digestAlgorithm":case"signatureAlgorithm":return new u.default;case"signedAttrs":return new l.default({type:0});case"signature":return new o.OctetString;case"unsignedAttrs":return new l.default({type:1});default:throw new Error("Invalid member name for SignerInfo class: ".concat(e))}}},{key:"compareWithDefault",value:function(t,r){switch(t){case"version":return e.defaultValues("version")===r;case"sid":return r instanceof o.Any;case"digestAlgorithm":return r instanceof u.default!=0&&r.isEqual(e.defaultValues("digestAlgorithm"));case"signedAttrs":case"signature":case"unsignedAttrs":return l.default.compareWithDefault("type",r.type)&&l.default.compareWithDefault("attributes",r.attributes)&&l.default.compareWithDefault("encodedValue",r.encodedValue);case"signatureAlgorithm":return r instanceof u.default!=0&&r.isEqual(e.defaultValues("signatureAlgorithm"));default:throw new Error("Invalid member name for SignerInfo class: ".concat(t))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,s.getParametersValue)(e,"names",{});return new o.Sequence({name:"SignerInfo",value:[new o.Integer({name:t.version||"SignerInfo.version"}),new o.Choice({value:[c.default.schema(t.sid||{names:{blockName:"SignerInfo.sid"}}),new o.Choice({value:[new o.Constructed({optional:!0,name:t.sid||"SignerInfo.sid",idBlock:{tagClass:3,tagNumber:0},value:[new o.OctetString]}),new o.Primitive({optional:!0,name:t.sid||"SignerInfo.sid",idBlock:{tagClass:3,tagNumber:0},value:[new o.OctetString]})]})]}),u.default.schema(t.digestAlgorithm||{names:{blockName:"SignerInfo.digestAlgorithm"}}),l.default.schema(t.signedAttrs||{names:{blockName:"SignerInfo.signedAttrs",tagNumber:0}}),u.default.schema(t.signatureAlgorithm||{names:{blockName:"SignerInfo.signatureAlgorithm"}}),new o.OctetString({name:t.signature||"SignerInfo.signature"}),l.default.schema(t.unsignedAttrs||{names:{blockName:"SignerInfo.unsignedAttrs",tagNumber:1}})]})}}],(r=[{key:"fromSchema",value:function(t){(0,s.clearProps)(t,["SignerInfo.version","SignerInfo.sid","SignerInfo.digestAlgorithm","SignerInfo.signedAttrs","SignerInfo.signatureAlgorithm","SignerInfo.signature","SignerInfo.unsignedAttrs"]);var r=o.compareSchema(t,t,e.schema());if(!1===r.verified)throw new Error("Object's schema was not verified against input data for SignerInfo");this.version=r.result["SignerInfo.version"].valueBlock.valueDec;var n=r.result["SignerInfo.sid"];1===n.idBlock.tagClass?this.sid=new c.default({schema:n}):this.sid=n,this.digestAlgorithm=new u.default({schema:r.result["SignerInfo.digestAlgorithm"]}),"SignerInfo.signedAttrs"in r.result&&(this.signedAttrs=new l.default({type:0,schema:r.result["SignerInfo.signedAttrs"]})),this.signatureAlgorithm=new u.default({schema:r.result["SignerInfo.signatureAlgorithm"]}),this.signature=r.result["SignerInfo.signature"],"SignerInfo.unsignedAttrs"in r.result&&(this.unsignedAttrs=new l.default({type:1,schema:r.result["SignerInfo.unsignedAttrs"]}))}},{key:"toSchema",value:function(){if(e.compareWithDefault("sid",this.sid))throw new Error('Incorrectly initialized "SignerInfo" class');var t=[];return t.push(new o.Integer({value:this.version})),this.sid instanceof c.default?t.push(this.sid.toSchema()):t.push(this.sid),t.push(this.digestAlgorithm.toSchema()),"signedAttrs"in this&&!1===e.compareWithDefault("signedAttrs",this.signedAttrs)&&t.push(this.signedAttrs.toSchema()),t.push(this.signatureAlgorithm.toSchema()),t.push(this.signature),"unsignedAttrs"in this&&!1===e.compareWithDefault("unsignedAttrs",this.unsignedAttrs)&&t.push(this.unsignedAttrs.toSchema()),new o.Sequence({value:t})}},{key:"toJSON",value:function(){if(e.compareWithDefault("sid",this.sid))throw new Error('Incorrectly initialized "SignerInfo" class');var t={version:this.version};return this.sid instanceof o.Any||(t.sid=this.sid.toJSON()),t.digestAlgorithm=this.digestAlgorithm.toJSON(),!1===e.compareWithDefault("signedAttrs",this.signedAttrs)&&(t.signedAttrs=this.signedAttrs.toJSON()),t.signatureAlgorithm=this.signatureAlgorithm.toJSON(),t.signature=this.signature.toJSON(),!1===e.compareWithDefault("unsignedAttrs",this.unsignedAttrs)&&(t.unsignedAttrs=this.unsignedAttrs.toJSON()),t}}])&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=m},{"./AlgorithmIdentifier.js":338,"./IssuerAndSerialNumber.js":378,"./SignedAndUnsignedAttributes.js":433,asn1js:1,pvutils:447}],437:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=h(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),s=e("pvutils"),u=f(e("./CertID.js")),l=f(e("./Extension.js")),c=f(e("./Extensions.js"));function f(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(h=function(e){return e?r:t})(e)}var m=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.certID=(0,s.getParametersValue)(t,"certID",e.defaultValues("certID")),this.certStatus=(0,s.getParametersValue)(t,"certStatus",e.defaultValues("certStatus")),this.thisUpdate=(0,s.getParametersValue)(t,"thisUpdate",e.defaultValues("thisUpdate")),"nextUpdate"in t&&(this.nextUpdate=(0,s.getParametersValue)(t,"nextUpdate",e.defaultValues("nextUpdate"))),"singleExtensions"in t&&(this.singleExtensions=(0,s.getParametersValue)(t,"singleExtensions",e.defaultValues("singleExtensions"))),"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,i=[{key:"defaultValues",value:function(e){switch(e){case"certID":return new u.default;case"certStatus":return{};case"thisUpdate":case"nextUpdate":return new Date(0,0,0);case"singleExtensions":return[];default:throw new Error("Invalid member name for SingleResponse class: ".concat(e))}}},{key:"compareWithDefault",value:function(t,r){switch(t){case"certID":return u.default.compareWithDefault("hashAlgorithm",r.hashAlgorithm)&&u.default.compareWithDefault("issuerNameHash",r.issuerNameHash)&&u.default.compareWithDefault("issuerKeyHash",r.issuerKeyHash)&&u.default.compareWithDefault("serialNumber",r.serialNumber);case"certStatus":return 0===Object.keys(r).length;case"thisUpdate":case"nextUpdate":return r===e.defaultValues(t);default:throw new Error("Invalid member name for SingleResponse class: ".concat(t))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,s.getParametersValue)(e,"names",{});return new o.Sequence({name:t.blockName||"",value:[u.default.schema(t.certID||{}),new o.Choice({value:[new o.Primitive({name:t.certStatus||"",idBlock:{tagClass:3,tagNumber:0},lenBlockLength:1}),new o.Constructed({name:t.certStatus||"",idBlock:{tagClass:3,tagNumber:1},value:[new o.GeneralizedTime,new o.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new o.Enumerated]})]}),new o.Primitive({name:t.certStatus||"",idBlock:{tagClass:3,tagNumber:2},lenBlock:{length:1}})]}),new o.GeneralizedTime({name:t.thisUpdate||""}),new o.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new o.GeneralizedTime({name:t.nextUpdate||""})]}),new o.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[c.default.schema(t.singleExtensions||{})]})]})}}],(r=[{key:"fromSchema",value:function(t){(0,s.clearProps)(t,["certID","certStatus","thisUpdate","nextUpdate","singleExtensions"]);var r=o.compareSchema(t,t,e.schema({names:{certID:{names:{blockName:"certID"}},certStatus:"certStatus",thisUpdate:"thisUpdate",nextUpdate:"nextUpdate",singleExtensions:{names:{blockName:"singleExtensions"}}}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for SingleResponse");this.certID=new u.default({schema:r.result.certID}),this.certStatus=r.result.certStatus,this.thisUpdate=r.result.thisUpdate.toDate(),"nextUpdate"in r.result&&(this.nextUpdate=r.result.nextUpdate.toDate()),"singleExtensions"in r.result&&(this.singleExtensions=Array.from(r.result.singleExtensions.valueBlock.value,(function(e){return new l.default({schema:e})})))}},{key:"toSchema",value:function(){var e=[];return e.push(this.certID.toSchema()),e.push(this.certStatus),e.push(new o.GeneralizedTime({valueDate:this.thisUpdate})),"nextUpdate"in this&&e.push(new o.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[new o.GeneralizedTime({valueDate:this.nextUpdate})]})),"singleExtensions"in this&&e.push(new o.Sequence({value:Array.from(this.singleExtensions,(function(e){return e.toSchema()}))})),new o.Sequence({value:e})}},{key:"toJSON",value:function(){var e={certID:this.certID.toJSON(),certStatus:this.certStatus.toJSON(),thisUpdate:this.thisUpdate};return"nextUpdate"in this&&(e.nextUpdate=this.nextUpdate),"singleExtensions"in this&&(e.singleExtensions=Array.from(this.singleExtensions,(function(e){return e.toJSON()}))),e}}])&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=m},{"./CertID.js":352,"./Extension.js":372,"./Extensions.js":373,asn1js:1,pvutils:447}],438:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),u=e("pvutils"),l=(o=e("./Attribute.js"))&&o.__esModule?o:{default:o};function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}var f=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.attributes=(0,u.getParametersValue)(t,"attributes",e.defaultValues("attributes")),"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,i=[{key:"defaultValues",value:function(e){if("attributes"===e)return[];throw new Error("Invalid member name for SubjectDirectoryAttributes class: ".concat(e))}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,u.getParametersValue)(e,"names",{});return new s.Sequence({name:t.blockName||"",value:[new s.Repeated({name:t.attributes||"",value:l.default.schema()})]})}}],(r=[{key:"fromSchema",value:function(t){(0,u.clearProps)(t,["attributes"]);var r=s.compareSchema(t,t,e.schema({names:{attributes:"attributes"}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for SubjectDirectoryAttributes");this.attributes=Array.from(r.result.attributes,(function(e){return new l.default({schema:e})}))}},{key:"toSchema",value:function(){return new s.Sequence({value:Array.from(this.attributes,(function(e){return e.toSchema()}))})}},{key:"toJSON",value:function(){return{attributes:Array.from(this.attributes,(function(e){return e.toJSON()}))}}}])&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=f},{"./Attribute.js":340,asn1js:1,pvutils:447}],439:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=m(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),s=e("pvutils"),u=h(e("./GeneralName.js")),l=h(e("./Request.js")),c=h(e("./Extension.js")),f=h(e("./Extensions.js"));function h(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(m=function(e){return e?r:t})(e)}var p=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.tbs=(0,s.getParametersValue)(t,"tbs",e.defaultValues("tbs")),"version"in t&&(this.version=(0,s.getParametersValue)(t,"version",e.defaultValues("version"))),"requestorName"in t&&(this.requestorName=(0,s.getParametersValue)(t,"requestorName",e.defaultValues("requestorName"))),this.requestList=(0,s.getParametersValue)(t,"requestList",e.defaultValues("requestList")),"requestExtensions"in t&&(this.requestExtensions=(0,s.getParametersValue)(t,"requestExtensions",e.defaultValues("requestExtensions"))),"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,r=[{key:"fromSchema",value:function(t){(0,s.clearProps)(t,["TBSRequest","TBSRequest.version","TBSRequest.requestorName","TBSRequest.requests","TBSRequest.requestExtensions"]);var r=o.compareSchema(t,t,e.schema());if(!1===r.verified)throw new Error("Object's schema was not verified against input data for TBSRequest");this.tbs=r.result.TBSRequest.valueBeforeDecode,"TBSRequest.version"in r.result&&(this.version=r.result["TBSRequest.version"].valueBlock.valueDec),"TBSRequest.requestorName"in r.result&&(this.requestorName=new u.default({schema:r.result["TBSRequest.requestorName"]})),this.requestList=Array.from(r.result["TBSRequest.requests"],(function(e){return new l.default({schema:e})})),"TBSRequest.requestExtensions"in r.result&&(this.requestExtensions=Array.from(r.result["TBSRequest.requestExtensions"].valueBlock.value,(function(e){return new c.default({schema:e})})))}},{key:"toSchema",value:function(){var t,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!1===r){if(0===this.tbs.byteLength)return e.schema();t=o.fromBER(this.tbs).result}else{var n=[];"version"in this&&n.push(new o.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[new o.Integer({value:this.version})]})),"requestorName"in this&&n.push(new o.Constructed({idBlock:{tagClass:3,tagNumber:1},value:[this.requestorName.toSchema()]})),n.push(new o.Sequence({value:Array.from(this.requestList,(function(e){return e.toSchema()}))})),"requestExtensions"in this&&n.push(new o.Constructed({idBlock:{tagClass:3,tagNumber:2},value:[new o.Sequence({value:Array.from(this.requestExtensions,(function(e){return e.toSchema()}))})]})),t=new o.Sequence({value:n})}return t}},{key:"toJSON",value:function(){var e={};return"version"in this&&(e.version=this.version),"requestorName"in this&&(e.requestorName=this.requestorName.toJSON()),e.requestList=Array.from(this.requestList,(function(e){return e.toJSON()})),"requestExtensions"in this&&(e.requestExtensions=Array.from(this.requestExtensions,(function(e){return e.toJSON()}))),e}}],i=[{key:"defaultValues",value:function(e){switch(e){case"tbs":return new ArrayBuffer(0);case"version":return 0;case"requestorName":return new u.default;case"requestList":case"requestExtensions":return[];default:throw new Error("Invalid member name for TBSRequest class: ".concat(e))}}},{key:"compareWithDefault",value:function(t,r){switch(t){case"tbs":return 0===r.byteLength;case"version":return r===e.defaultValues(t);case"requestorName":return r.type===u.default.defaultValues("type")&&0===Object.keys(r.value).length;case"requestList":case"requestExtensions":return 0===r.length;default:throw new Error("Invalid member name for TBSRequest class: ".concat(t))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,s.getParametersValue)(e,"names",{});return new o.Sequence({name:t.blockName||"TBSRequest",value:[new o.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new o.Integer({name:t.TBSRequestVersion||"TBSRequest.version"})]}),new o.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[u.default.schema(t.requestorName||{names:{blockName:"TBSRequest.requestorName"}})]}),new o.Sequence({name:t.requestList||"TBSRequest.requestList",value:[new o.Repeated({name:t.requests||"TBSRequest.requests",value:l.default.schema(t.requestNames||{})})]}),new o.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:2},value:[f.default.schema(t.extensions||{names:{blockName:t.requestExtensions||"TBSRequest.requestExtensions"}})]})]})}}],r&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=p},{"./Extension.js":372,"./Extensions.js":373,"./GeneralName.js":374,"./Request.js":424,asn1js:1,pvutils:447}],440:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=p(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),s=e("pvutils"),u=e("./common.js"),l=m(e("./MessageImprint.js")),c=m(e("./Accuracy.js")),f=m(e("./GeneralName.js")),h=m(e("./Extension.js"));function m(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(p=function(e){return e?r:t})(e)}var d=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.version=(0,s.getParametersValue)(t,"version",e.defaultValues("version")),this.policy=(0,s.getParametersValue)(t,"policy",e.defaultValues("policy")),this.messageImprint=(0,s.getParametersValue)(t,"messageImprint",e.defaultValues("messageImprint")),this.serialNumber=(0,s.getParametersValue)(t,"serialNumber",e.defaultValues("serialNumber")),this.genTime=(0,s.getParametersValue)(t,"genTime",e.defaultValues("genTime")),"accuracy"in t&&(this.accuracy=(0,s.getParametersValue)(t,"accuracy",e.defaultValues("accuracy"))),"ordering"in t&&(this.ordering=(0,s.getParametersValue)(t,"ordering",e.defaultValues("ordering"))),"nonce"in t&&(this.nonce=(0,s.getParametersValue)(t,"nonce",e.defaultValues("nonce"))),"tsa"in t&&(this.tsa=(0,s.getParametersValue)(t,"tsa",e.defaultValues("tsa"))),"extensions"in t&&(this.extensions=(0,s.getParametersValue)(t,"extensions",e.defaultValues("extensions"))),"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,r=[{key:"fromSchema",value:function(t){(0,s.clearProps)(t,["TSTInfo.version","TSTInfo.policy","TSTInfo.messageImprint","TSTInfo.serialNumber","TSTInfo.genTime","TSTInfo.accuracy","TSTInfo.ordering","TSTInfo.nonce","TSTInfo.tsa","TSTInfo.extensions"]);var r=o.compareSchema(t,t,e.schema());if(!1===r.verified)throw new Error("Object's schema was not verified against input data for TSTInfo");this.version=r.result["TSTInfo.version"].valueBlock.valueDec,this.policy=r.result["TSTInfo.policy"].valueBlock.toString(),this.messageImprint=new l.default({schema:r.result["TSTInfo.messageImprint"]}),this.serialNumber=r.result["TSTInfo.serialNumber"],this.genTime=r.result["TSTInfo.genTime"].toDate(),"TSTInfo.accuracy"in r.result&&(this.accuracy=new c.default({schema:r.result["TSTInfo.accuracy"]})),"TSTInfo.ordering"in r.result&&(this.ordering=r.result["TSTInfo.ordering"].valueBlock.value),"TSTInfo.nonce"in r.result&&(this.nonce=r.result["TSTInfo.nonce"]),"TSTInfo.tsa"in r.result&&(this.tsa=new f.default({schema:r.result["TSTInfo.tsa"]})),"TSTInfo.extensions"in r.result&&(this.extensions=Array.from(r.result["TSTInfo.extensions"],(function(e){return new h.default({schema:e})})))}},{key:"toSchema",value:function(){var e=[];return e.push(new o.Integer({value:this.version})),e.push(new o.ObjectIdentifier({value:this.policy})),e.push(this.messageImprint.toSchema()),e.push(this.serialNumber),e.push(new o.GeneralizedTime({valueDate:this.genTime})),"accuracy"in this&&e.push(this.accuracy.toSchema()),"ordering"in this&&e.push(new o.Boolean({value:this.ordering})),"nonce"in this&&e.push(this.nonce),"tsa"in this&&e.push(new o.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[this.tsa.toSchema()]})),"extensions"in this&&e.push(new o.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:Array.from(this.extensions,(function(e){return e.toSchema()}))})),new o.Sequence({value:e})}},{key:"toJSON",value:function(){var e={version:this.version,policy:this.policy,messageImprint:this.messageImprint.toJSON(),serialNumber:this.serialNumber.toJSON(),genTime:this.genTime};return"accuracy"in this&&(e.accuracy=this.accuracy.toJSON()),"ordering"in this&&(e.ordering=this.ordering),"nonce"in this&&(e.nonce=this.nonce.toJSON()),"tsa"in this&&(e.tsa=this.tsa.toJSON()),"extensions"in this&&(e.extensions=Array.from(this.extensions,(function(e){return e.toJSON()}))),e}},{key:"verify",value:function(){var e,t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Promise.resolve(),a=null,i=null,o=(0,u.getCrypto)();if(void 0===o)return Promise.reject("Unable to create WebCrypto object");if(!("data"in r))return Promise.reject('"data" is a mandatory attribute for TST_INFO verification');if(e=r.data,"notBefore"in r&&(a=r.notBefore),"notAfter"in r&&(i=r.notAfter),null!==a&&this.genTime<a)return Promise.reject("Generation time for TSTInfo object is less than notBefore value");if(null!==i&&this.genTime>i)return Promise.reject("Generation time for TSTInfo object is more than notAfter value");var l=(0,u.getAlgorithmByOID)(this.messageImprint.hashAlgorithm.algorithmId);return"name"in l==0?Promise.reject("Unsupported signature algorithm: ".concat(this.messageImprint.hashAlgorithm.algorithmId)):n=n.then((function(){return o.digest(l.name,new Uint8Array(e))})).then((function(e){return(0,s.isEqualBuffer)(e,t.messageImprint.hashedMessage.valueBlock.valueHex)}))}}],i=[{key:"defaultValues",value:function(e){switch(e){case"version":return 0;case"policy":return"";case"messageImprint":return new l.default;case"serialNumber":case"nonce":return new o.Integer;case"genTime":return new Date(0,0,0);case"accuracy":return new c.default;case"ordering":return!1;case"tsa":return new f.default;case"extensions":return[];default:throw new Error("Invalid member name for TSTInfo class: ".concat(e))}}},{key:"compareWithDefault",value:function(t,r){switch(t){case"version":case"policy":case"genTime":case"ordering":return r===e.defaultValues(t);case"messageImprint":return l.default.compareWithDefault("hashAlgorithm",r.hashAlgorithm)&&l.default.compareWithDefault("hashedMessage",r.hashedMessage);case"serialNumber":case"nonce":return r.isEqual(e.defaultValues(t));case"accuracy":return c.default.compareWithDefault("seconds",r.seconds)&&c.default.compareWithDefault("millis",r.millis)&&c.default.compareWithDefault("micros",r.micros);case"tsa":return f.default.compareWithDefault("type",r.type)&&f.default.compareWithDefault("value",r.value);case"extensions":return 0===r.length;default:throw new Error("Invalid member name for TSTInfo class: ".concat(t))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,s.getParametersValue)(e,"names",{});return new o.Sequence({name:t.blockName||"TSTInfo",value:[new o.Integer({name:t.version||"TSTInfo.version"}),new o.ObjectIdentifier({name:t.policy||"TSTInfo.policy"}),l.default.schema(t.messageImprint||{names:{blockName:"TSTInfo.messageImprint"}}),new o.Integer({name:t.serialNumber||"TSTInfo.serialNumber"}),new o.GeneralizedTime({name:t.genTime||"TSTInfo.genTime"}),c.default.schema(t.accuracy||{names:{blockName:"TSTInfo.accuracy"}}),new o.Boolean({name:t.ordering||"TSTInfo.ordering",optional:!0}),new o.Integer({name:t.nonce||"TSTInfo.nonce",optional:!0}),new o.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[f.default.schema(t.tsa||{names:{blockName:"TSTInfo.tsa"}})]}),new o.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new o.Repeated({name:t.extensions||"TSTInfo.extensions",value:h.default.schema(t.extension||{})})]})]})}}],r&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=d},{"./Accuracy.js":337,"./Extension.js":372,"./GeneralName.js":374,"./MessageImprint.js":387,"./common.js":444,asn1js:1,pvutils:447}],441:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),s=e("pvutils");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}var l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.type=(0,s.getParametersValue)(t,"type",e.defaultValues("type")),this.value=(0,s.getParametersValue)(t,"value",e.defaultValues("value")),"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,i=[{key:"defaultValues",value:function(e){switch(e){case"type":return 0;case"value":return new Date(0,0,0);default:throw new Error("Invalid member name for Time class: ".concat(e))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=(0,s.getParametersValue)(e,"names",{});return new o.Choice({optional:t,value:[new o.UTCTime({name:r.utcTimeName||""}),new o.GeneralizedTime({name:r.generalTimeName||""})]})}}],(r=[{key:"fromSchema",value:function(t){(0,s.clearProps)(t,["utcTimeName","generalTimeName"]);var r=o.compareSchema(t,t,e.schema({names:{utcTimeName:"utcTimeName",generalTimeName:"generalTimeName"}}));if(!1===r.verified)throw new Error("Object's schema was not verified against input data for Time");"utcTimeName"in r.result&&(this.type=0,this.value=r.result.utcTimeName.toDate()),"generalTimeName"in r.result&&(this.type=1,this.value=r.result.generalTimeName.toDate())}},{key:"toSchema",value:function(){var e={};return 0===this.type&&(e=new o.UTCTime({valueDate:this.value})),1===this.type&&(e=new o.GeneralizedTime({valueDate:this.value})),e}},{key:"toJSON",value:function(){return{type:this.type,value:this.value}}}])&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=l},{asn1js:1,pvutils:447}],442:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=f(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),s=e("pvutils"),u=c(e("./MessageImprint.js")),l=c(e("./Extension.js"));function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(f=function(e){return e?r:t})(e)}var h=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.version=(0,s.getParametersValue)(t,"version",e.defaultValues("version")),this.messageImprint=(0,s.getParametersValue)(t,"messageImprint",e.defaultValues("messageImprint")),"reqPolicy"in t&&(this.reqPolicy=(0,s.getParametersValue)(t,"reqPolicy",e.defaultValues("reqPolicy"))),"nonce"in t&&(this.nonce=(0,s.getParametersValue)(t,"nonce",e.defaultValues("nonce"))),"certReq"in t&&(this.certReq=(0,s.getParametersValue)(t,"certReq",e.defaultValues("certReq"))),"extensions"in t&&(this.extensions=(0,s.getParametersValue)(t,"extensions",e.defaultValues("extensions"))),"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,i=[{key:"defaultValues",value:function(e){switch(e){case"version":return 0;case"messageImprint":return new u.default;case"reqPolicy":return"";case"nonce":return new o.Integer;case"certReq":return!1;case"extensions":return[];default:throw new Error("Invalid member name for TimeStampReq class: ".concat(e))}}},{key:"compareWithDefault",value:function(t,r){switch(t){case"version":case"reqPolicy":case"certReq":return r===e.defaultValues(t);case"messageImprint":return u.default.compareWithDefault("hashAlgorithm",r.hashAlgorithm)&&u.default.compareWithDefault("hashedMessage",r.hashedMessage);case"nonce":return r.isEqual(e.defaultValues(t));case"extensions":return 0===r.length;default:throw new Error("Invalid member name for TimeStampReq class: ".concat(t))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,s.getParametersValue)(e,"names",{});return new o.Sequence({name:t.blockName||"TimeStampReq",value:[new o.Integer({name:t.version||"TimeStampReq.version"}),u.default.schema(t.messageImprint||{names:{blockName:"TimeStampReq.messageImprint"}}),new o.ObjectIdentifier({name:t.reqPolicy||"TimeStampReq.reqPolicy",optional:!0}),new o.Integer({name:t.nonce||"TimeStampReq.nonce",optional:!0}),new o.Boolean({name:t.certReq||"TimeStampReq.certReq",optional:!0}),new o.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new o.Repeated({name:t.extensions||"TimeStampReq.extensions",value:l.default.schema()})]})]})}}],(r=[{key:"fromSchema",value:function(t){(0,s.clearProps)(t,["TimeStampReq.version","TimeStampReq.messageImprint","TimeStampReq.reqPolicy","TimeStampReq.nonce","TimeStampReq.certReq","TimeStampReq.extensions"]);var r=o.compareSchema(t,t,e.schema());if(!1===r.verified)throw new Error("Object's schema was not verified against input data for TimeStampReq");this.version=r.result["TimeStampReq.version"].valueBlock.valueDec,this.messageImprint=new u.default({schema:r.result["TimeStampReq.messageImprint"]}),"TimeStampReq.reqPolicy"in r.result&&(this.reqPolicy=r.result["TimeStampReq.reqPolicy"].valueBlock.toString()),"TimeStampReq.nonce"in r.result&&(this.nonce=r.result["TimeStampReq.nonce"]),"TimeStampReq.certReq"in r.result&&(this.certReq=r.result["TimeStampReq.certReq"].valueBlock.value),"TimeStampReq.extensions"in r.result&&(this.extensions=Array.from(r.result["TimeStampReq.extensions"],(function(e){return new l.default({schema:e})})))}},{key:"toSchema",value:function(){var t=[];return t.push(new o.Integer({value:this.version})),t.push(this.messageImprint.toSchema()),"reqPolicy"in this&&t.push(new o.ObjectIdentifier({value:this.reqPolicy})),"nonce"in this&&t.push(this.nonce),"certReq"in this&&!1===e.compareWithDefault("certReq",this.certReq)&&t.push(new o.Boolean({value:this.certReq})),"extensions"in this&&t.push(new o.Constructed({idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.extensions,(function(e){return e.toSchema()}))})),new o.Sequence({value:t})}},{key:"toJSON",value:function(){var t={version:this.version,messageImprint:this.messageImprint.toJSON()};return"reqPolicy"in this&&(t.reqPolicy=this.reqPolicy),"nonce"in this&&(t.nonce=this.nonce.toJSON()),"certReq"in this&&!1===e.compareWithDefault("certReq",this.certReq)&&(t.certReq=this.certReq),"extensions"in this&&(t.extensions=Array.from(this.extensions,(function(e){return e.toJSON()}))),t}}])&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=h},{"./Extension.js":372,"./MessageImprint.js":387,asn1js:1,pvutils:447}],443:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=h(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),s=e("pvutils"),u=f(e("./PKIStatusInfo.js")),l=f(e("./ContentInfo.js")),c=f(e("./SignedData.js"));function f(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(h=function(e){return e?r:t})(e)}var m=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.status=(0,s.getParametersValue)(t,"status",e.defaultValues("status")),"timeStampToken"in t&&(this.timeStampToken=(0,s.getParametersValue)(t,"timeStampToken",e.defaultValues("timeStampToken"))),"schema"in t&&this.fromSchema(t.schema)}var t,r,i;return t=e,r=[{key:"fromSchema",value:function(t){(0,s.clearProps)(t,["TimeStampResp.status","TimeStampResp.timeStampToken"]);var r=o.compareSchema(t,t,e.schema());if(!1===r.verified)throw new Error("Object's schema was not verified against input data for TimeStampResp");this.status=new u.default({schema:r.result["TimeStampResp.status"]}),"TimeStampResp.timeStampToken"in r.result&&(this.timeStampToken=new l.default({schema:r.result["TimeStampResp.timeStampToken"]}))}},{key:"toSchema",value:function(){var e=[];return e.push(this.status.toSchema()),"timeStampToken"in this&&e.push(this.timeStampToken.toSchema()),new o.Sequence({value:e})}},{key:"toJSON",value:function(){var e={status:this.status};return"timeStampToken"in this&&(e.timeStampToken=this.timeStampToken.toJSON()),e}},{key:"sign",value:function(e,t){return"timeStampToken"in this==0?Promise.reject("timeStampToken is absent in TSP response"):"1.2.840.113549.1.7.2"!==this.timeStampToken.contentType?Promise.reject("Wrong format of timeStampToken: ".concat(this.timeStampToken.contentType)):new l.default({schema:this.timeStampToken.content}).sign(e,0,t)}},{key:"verify",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{signer:0,trustedCerts:[],data:new ArrayBuffer(0)};if("timeStampToken"in this==0)return Promise.reject("timeStampToken is absent in TSP response");if("1.2.840.113549.1.7.2"!==this.timeStampToken.contentType)return Promise.reject("Wrong format of timeStampToken: ".concat(this.timeStampToken.contentType));var t=new c.default({schema:this.timeStampToken.content});return t.verify(e)}}],i=[{key:"defaultValues",value:function(e){switch(e){case"status":return new u.default;case"timeStampToken":return new l.default;default:throw new Error("Invalid member name for TimeStampResp class: ".concat(e))}}},{key:"compareWithDefault",value:function(e,t){switch(e){case"status":return u.default.compareWithDefault("status",t.status)&&"statusStrings"in t==0&&"failInfo"in t==0;case"timeStampToken":return""===t.contentType&&t.content instanceof o.Any;default:throw new Error("Invalid member name for TimeStampResp class: ".concat(e))}}},{key:"schema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,s.getParametersValue)(e,"names",{});return new o.Sequence({name:t.blockName||"TimeStampResp",value:[u.default.schema(t.status||{names:{blockName:"TimeStampResp.status"}}),l.default.schema(t.timeStampToken||{names:{blockName:"TimeStampResp.timeStampToken",optional:!0}})]})}}],r&&a(t.prototype,r),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.default=m},{"./ContentInfo.js":360,"./PKIStatusInfo.js":403,"./SignedData.js":435,asn1js:1,pvutils:447}],444:[function(e,t,r){(function(t,n){(function(){"use strict";function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.createCMSECDSASignature=function(e){if(e.byteLength%2!=0)return new ArrayBuffer(0);var t=e.byteLength/2,r=new ArrayBuffer(t);new Uint8Array(r).set(new Uint8Array(e,0,t));var n=new o.Integer({valueHex:r}),a=new ArrayBuffer(t);new Uint8Array(a).set(new Uint8Array(e,t,t));var i=new o.Integer({valueHex:a});return new o.Sequence({value:[n.convertToDER(),i.convertToDER()]}).toBER(!1)},r.createECDSASignatureFromCMS=function(e){if(e instanceof o.Sequence==!1)return new ArrayBuffer(0);if(2!==e.valueBlock.value.length)return new ArrayBuffer(0);if(e.valueBlock.value[0]instanceof o.Integer==!1)return new ArrayBuffer(0);if(e.valueBlock.value[1]instanceof o.Integer==!1)return new ArrayBuffer(0);var t=e.valueBlock.value[0].convertFromDER(),r=e.valueBlock.value[1].convertFromDER();switch(!0){case t.valueBlock.valueHex.byteLength<r.valueBlock.valueHex.byteLength:if(r.valueBlock.valueHex.byteLength-t.valueBlock.valueHex.byteLength!=1)throw new Error("Incorrect DER integer decoding");var n=r.valueBlock.valueHex.byteLength,a=new Uint8Array(t.valueBlock.valueHex),i=new ArrayBuffer(n),u=new Uint8Array(i);return u.set(a,1),u[0]=0,(0,s.utilConcatBuf)(i,r.valueBlock.valueHex);case t.valueBlock.valueHex.byteLength>r.valueBlock.valueHex.byteLength:if(t.valueBlock.valueHex.byteLength-r.valueBlock.valueHex.byteLength!=1)throw new Error("Incorrect DER integer decoding");var l=t.valueBlock.valueHex.byteLength,c=new Uint8Array(r.valueBlock.valueHex),f=new ArrayBuffer(l),h=new Uint8Array(f);return h.set(c,1),h[0]=0,(0,s.utilConcatBuf)(t.valueBlock.valueHex,f);default:if(t.valueBlock.valueHex.byteLength%2){var m=t.valueBlock.valueHex.byteLength+1,p=new Uint8Array(t.valueBlock.valueHex),d=new ArrayBuffer(m),y=new Uint8Array(d);y.set(p,1),y[0]=0;var v=new Uint8Array(r.valueBlock.valueHex),g=new ArrayBuffer(m),b=new Uint8Array(g);return b.set(v,1),b[0]=0,(0,s.utilConcatBuf)(d,g)}}return(0,s.utilConcatBuf)(t.valueBlock.valueHex,r.valueBlock.valueHex)},r.getAlgorithmByOID=function(e){return p().subtle.getAlgorithmByOID(e)},r.getAlgorithmParameters=function(e,t){return p().subtle.getAlgorithmParameters(e,t)},r.getCrypto=d,r.getEngine=p,r.getHashAlgorithm=function(e){return p().subtle.getHashAlgorithm(e)},r.getOIDByAlgorithm=function(e){return p().subtle.getOIDByAlgorithm(e)},r.getRandomValues=function(e){return p().subtle.getRandomValues(e)},r.kdf=function(e,t,r,n){var a=0,i=1,o=[];switch(e.toUpperCase()){case"SHA-1":a=160;break;case"SHA-256":a=256;break;case"SHA-384":a=384;break;case"SHA-512":a=512;break;default:return Promise.reject("Unknown hash function: ".concat(e))}if(t instanceof ArrayBuffer==!1)return Promise.reject('Please set "Zbuffer" as "ArrayBuffer"');if(0===t.byteLength)return Promise.reject('"Zbuffer" has zero length, error');if(n instanceof ArrayBuffer==!1)return Promise.reject('Please set "SharedInfo" as "ArrayBuffer"');var u=r/a;Math.floor(u)>0&&u-(i=Math.floor(u))>0&&i++;for(var l=1;l<=i;l++)o.push(y(e,t,l,n));return Promise.all(o).then((function(e){for(var t=new ArrayBuffer(0),n=1,a=!0;a;){a=!1;var i,o=c(e);try{for(o.s();!(i=o.n()).done;){var u=i.value;if(u.counter===n){t=(0,s.utilConcatBuf)(t,u.result),a=!0;break}}}catch(e){o.e(e)}finally{o.f()}n++}if(r>>=3,t.byteLength>r){for(var l=new ArrayBuffer(r),f=new Uint8Array(l),h=new Uint8Array(t),m=0;m<r;m++)f[m]=h[m];return l}return t}))},r.kdfWithCounter=y,r.setEngine=m,r.stringPrep=function(e){for(var t=!1,r="",n=e.trim(),a=0;a<n.length;a++)32===n.charCodeAt(a)?!1===t&&(t=!0):(t&&(r+=" ",t=!1),r+=n[a]);return r.toLowerCase()};var i,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=l(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(e("asn1js")),s=e("pvutils"),u=(i=e("./CryptoEngine.js"))&&i.__esModule?i:{default:i};function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(l=function(e){return e?r:t})(e)}function c(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var h={name:"none",crypto:null,subtle:null};function m(e,r,i){if(void 0!==t&&"pid"in t&&void 0!==n&&"undefined"==typeof window){if(void 0===n[t.pid])n[t.pid]={};else if("object"!==a(n[t.pid]))throw new Error("Name global.".concat(t.pid," already exists and it is not an object"));if(void 0===n[t.pid].pkijs)n[t.pid].pkijs={};else if("object"!==a(n[t.pid].pkijs))throw new Error("Name global.".concat(t.pid,".pkijs already exists and it is not an object"));n[t.pid].pkijs.engine={name:e,crypto:r,subtle:i}}else h.name!==e&&(h={name:e,crypto:r,subtle:i})}function p(){if(void 0!==t&&"pid"in t&&void 0!==n&&"undefined"==typeof window){var e;try{e=n[t.pid].pkijs.engine}catch(e){throw new Error('Please call "setEngine" before call to "getEngine"')}return e}return h}function d(){var e=p();if(null!==e.subtle)return e.subtle}function y(e,t,r,n){switch(e.toUpperCase()){case"SHA-1":case"SHA-256":case"SHA-384":case"SHA-512":break;default:return Promise.reject("Unknown hash function: ".concat(e))}if(t instanceof ArrayBuffer==!1)return Promise.reject('Please set "Zbuffer" as "ArrayBuffer"');if(0===t.byteLength)return Promise.reject('"Zbuffer" has zero length, error');if(n instanceof ArrayBuffer==!1)return Promise.reject('Please set "SharedInfo" as "ArrayBuffer"');if(r>255)return Promise.reject('Please set "Counter" variable to value less or equal to 255');var a=new ArrayBuffer(4),i=new Uint8Array(a);i[0]=0,i[1]=0,i[2]=0,i[3]=r;var o=new ArrayBuffer(0),u=d();return void 0===u?Promise.reject("Unable to create WebCrypto object"):(o=(0,s.utilConcatBuf)(o,t),o=(0,s.utilConcatBuf)(o,a),o=(0,s.utilConcatBuf)(o,n),u.digest({name:e},o).then((function(e){return{counter:r,result:e}})))}!function(){if("undefined"!=typeof self&&"crypto"in self){var e,t="webcrypto",r=self.crypto;if("webkitSubtle"in self.crypto){try{e=self.crypto.webkitSubtle}catch(t){e=self.crypto.subtle}t="safari"}"subtle"in self.crypto&&(e=self.crypto.subtle),h=void 0===e?{name:t,crypto:r,subtle:null}:{name:t,crypto:r,subtle:new u.default({name:t,crypto:self.crypto,subtle:e})}}m(h.name,h.crypto,h.subtle)}()}).call(this)}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./CryptoEngine.js":361,_process:446,asn1js:1,pvutils:447}],445:[function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"AccessDescription",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(r,"Accuracy",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(r,"AlgorithmIdentifier",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(r,"AltName",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(r,"Attribute",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(r,"AttributeTypeAndValue",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(r,"AuthenticatedSafe",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(r,"AuthorityKeyIdentifier",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(r,"BasicConstraints",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(r,"BasicOCSPResponse",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(r,"CAVersion",{enumerable:!0,get:function(){return tt.default}}),Object.defineProperty(r,"CRLBag",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(r,"CRLDistributionPoints",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(r,"CertBag",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(r,"CertID",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(r,"Certificate",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(r,"CertificateChainValidationEngine",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(r,"CertificatePolicies",{enumerable:!0,get:function(){return k.default}}),Object.defineProperty(r,"CertificateRevocationList",{enumerable:!0,get:function(){return S.default}}),Object.defineProperty(r,"CertificateSet",{enumerable:!0,get:function(){return j.default}}),Object.defineProperty(r,"CertificateTemplate",{enumerable:!0,get:function(){return et.default}}),Object.defineProperty(r,"CertificationRequest",{enumerable:!0,get:function(){return P.default}}),Object.defineProperty(r,"ContentInfo",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(r,"CryptoEngine",{enumerable:!0,get:function(){return A.default}}),Object.defineProperty(r,"DigestInfo",{enumerable:!0,get:function(){return O.default}}),Object.defineProperty(r,"DistributionPoint",{enumerable:!0,get:function(){return C.default}}),Object.defineProperty(r,"ECCCMSSharedInfo",{enumerable:!0,get:function(){return I.default}}),Object.defineProperty(r,"ECPrivateKey",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(r,"ECPublicKey",{enumerable:!0,get:function(){return B.default}}),Object.defineProperty(r,"EncapsulatedContentInfo",{enumerable:!0,get:function(){return E.default}}),Object.defineProperty(r,"EncryptedContentInfo",{enumerable:!0,get:function(){return N.default}}),Object.defineProperty(r,"EncryptedData",{enumerable:!0,get:function(){return V.default}}),Object.defineProperty(r,"EnvelopedData",{enumerable:!0,get:function(){return D.default}}),Object.defineProperty(r,"ExtKeyUsage",{enumerable:!0,get:function(){return R.default}}),Object.defineProperty(r,"Extension",{enumerable:!0,get:function(){return M.default}}),Object.defineProperty(r,"Extensions",{enumerable:!0,get:function(){return T.default}}),Object.defineProperty(r,"GeneralName",{enumerable:!0,get:function(){return K.default}}),Object.defineProperty(r,"GeneralNames",{enumerable:!0,get:function(){return L.default}}),Object.defineProperty(r,"GeneralSubtree",{enumerable:!0,get:function(){return U.default}}),Object.defineProperty(r,"InfoAccess",{enumerable:!0,get:function(){return q.default}}),Object.defineProperty(r,"IssuerAndSerialNumber",{enumerable:!0,get:function(){return H.default}}),Object.defineProperty(r,"IssuingDistributionPoint",{enumerable:!0,get:function(){return W.default}}),Object.defineProperty(r,"KEKIdentifier",{enumerable:!0,get:function(){return J.default}}),Object.defineProperty(r,"KEKRecipientInfo",{enumerable:!0,get:function(){return F.default}}),Object.defineProperty(r,"KeyAgreeRecipientIdentifier",{enumerable:!0,get:function(){return G.default}}),Object.defineProperty(r,"KeyAgreeRecipientInfo",{enumerable:!0,get:function(){return z.default}}),Object.defineProperty(r,"KeyBag",{enumerable:!0,get:function(){return Q.default}}),Object.defineProperty(r,"KeyTransRecipientInfo",{enumerable:!0,get:function(){return $.default}}),Object.defineProperty(r,"MacData",{enumerable:!0,get:function(){return Y.default}}),Object.defineProperty(r,"MessageImprint",{enumerable:!0,get:function(){return Z.default}}),Object.defineProperty(r,"NameConstraints",{enumerable:!0,get:function(){return X.default}}),Object.defineProperty(r,"OCSPRequest",{enumerable:!0,get:function(){return ee.default}}),Object.defineProperty(r,"OCSPResponse",{enumerable:!0,get:function(){return te.default}}),Object.defineProperty(r,"OriginatorIdentifierOrKey",{enumerable:!0,get:function(){return re.default}}),Object.defineProperty(r,"OriginatorInfo",{enumerable:!0,get:function(){return ne.default}}),Object.defineProperty(r,"OriginatorPublicKey",{enumerable:!0,get:function(){return ae.default}}),Object.defineProperty(r,"OtherCertificateFormat",{enumerable:!0,get:function(){return ie.default}}),Object.defineProperty(r,"OtherKeyAttribute",{enumerable:!0,get:function(){return oe.default}}),Object.defineProperty(r,"OtherPrimeInfo",{enumerable:!0,get:function(){return se.default}}),Object.defineProperty(r,"OtherRecipientInfo",{enumerable:!0,get:function(){return ue.default}}),Object.defineProperty(r,"OtherRevocationInfoFormat",{enumerable:!0,get:function(){return le.default}}),Object.defineProperty(r,"PBES2Params",{enumerable:!0,get:function(){return ce.default}}),Object.defineProperty(r,"PBKDF2Params",{enumerable:!0,get:function(){return fe.default}}),Object.defineProperty(r,"PFX",{enumerable:!0,get:function(){return he.default}}),Object.defineProperty(r,"PKCS8ShroudedKeyBag",{enumerable:!0,get:function(){return me.default}}),Object.defineProperty(r,"PKIStatusInfo",{enumerable:!0,get:function(){return pe.default}}),Object.defineProperty(r,"PasswordRecipientinfo",{enumerable:!0,get:function(){return de.default}}),Object.defineProperty(r,"PolicyConstraints",{enumerable:!0,get:function(){return ye.default}}),Object.defineProperty(r,"PolicyInformation",{enumerable:!0,get:function(){return ve.default}}),Object.defineProperty(r,"PolicyMapping",{enumerable:!0,get:function(){return ge.default}}),Object.defineProperty(r,"PolicyMappings",{enumerable:!0,get:function(){return be.default}}),Object.defineProperty(r,"PolicyQualifierInfo",{enumerable:!0,get:function(){return we.default}}),Object.defineProperty(r,"PrivateKeyInfo",{enumerable:!0,get:function(){return ke.default}}),Object.defineProperty(r,"PrivateKeyUsagePeriod",{enumerable:!0,get:function(){return Se.default}}),Object.defineProperty(r,"PublicKeyInfo",{enumerable:!0,get:function(){return je.default}}),Object.defineProperty(r,"QCStatement",{enumerable:!0,get:function(){return rt.QCStatement}}),Object.defineProperty(r,"QCStatements",{enumerable:!0,get:function(){return rt.default}}),Object.defineProperty(r,"RSAESOAEPParams",{enumerable:!0,get:function(){return Pe.default}}),Object.defineProperty(r,"RSAPrivateKey",{enumerable:!0,get:function(){return _e.default}}),Object.defineProperty(r,"RSAPublicKey",{enumerable:!0,get:function(){return Ae.default}}),Object.defineProperty(r,"RSASSAPSSParams",{enumerable:!0,get:function(){return Oe.default}}),Object.defineProperty(r,"RecipientEncryptedKey",{enumerable:!0,get:function(){return Ce.default}}),Object.defineProperty(r,"RecipientEncryptedKeys",{enumerable:!0,get:function(){return Ie.default}}),Object.defineProperty(r,"RecipientIdentifier",{enumerable:!0,get:function(){return xe.default}}),Object.defineProperty(r,"RecipientInfo",{enumerable:!0,get:function(){return Be.default}}),Object.defineProperty(r,"RecipientKeyIdentifier",{enumerable:!0,get:function(){return Ee.default}}),Object.defineProperty(r,"RelativeDistinguishedNames",{enumerable:!0,get:function(){return Ne.default}}),Object.defineProperty(r,"Request",{enumerable:!0,get:function(){return Ve.default}}),Object.defineProperty(r,"ResponseBytes",{enumerable:!0,get:function(){return De.default}}),Object.defineProperty(r,"ResponseData",{enumerable:!0,get:function(){return Re.default}}),Object.defineProperty(r,"RevocationInfoChoices",{enumerable:!0,get:function(){return Me.default}}),Object.defineProperty(r,"RevokedCertificate",{enumerable:!0,get:function(){return Te.default}}),Object.defineProperty(r,"SafeBag",{enumerable:!0,get:function(){return Ke.default}}),Object.defineProperty(r,"SafeContents",{enumerable:!0,get:function(){return Le.default}}),Object.defineProperty(r,"SecretBag",{enumerable:!0,get:function(){return Ue.default}}),Object.defineProperty(r,"Signature",{enumerable:!0,get:function(){return qe.default}}),Object.defineProperty(r,"SignedAndUnsignedAttributes",{enumerable:!0,get:function(){return He.default}}),Object.defineProperty(r,"SignedCertificateTimestamp",{enumerable:!0,get:function(){return Xe.SignedCertificateTimestamp}}),Object.defineProperty(r,"SignedCertificateTimestampList",{enumerable:!0,get:function(){return Xe.default}}),Object.defineProperty(r,"SignedData",{enumerable:!0,get:function(){return We.default}}),Object.defineProperty(r,"SignerInfo",{enumerable:!0,get:function(){return Je.default}}),Object.defineProperty(r,"SingleResponse",{enumerable:!0,get:function(){return Fe.default}}),Object.defineProperty(r,"SubjectDirectoryAttributes",{enumerable:!0,get:function(){return Ge.default}}),Object.defineProperty(r,"TBSRequest",{enumerable:!0,get:function(){return ze.default}}),Object.defineProperty(r,"TSTInfo",{enumerable:!0,get:function(){return Qe.default}}),Object.defineProperty(r,"Time",{enumerable:!0,get:function(){return $e.default}}),Object.defineProperty(r,"TimeStampReq",{enumerable:!0,get:function(){return Ye.default}}),Object.defineProperty(r,"TimeStampResp",{enumerable:!0,get:function(){return Ze.default}}),Object.defineProperty(r,"createCMSECDSASignature",{enumerable:!0,get:function(){return a.createCMSECDSASignature}}),Object.defineProperty(r,"createECDSASignatureFromCMS",{enumerable:!0,get:function(){return a.createECDSASignatureFromCMS}}),Object.defineProperty(r,"getAlgorithmByOID",{enumerable:!0,get:function(){return a.getAlgorithmByOID}}),Object.defineProperty(r,"getAlgorithmParameters",{enumerable:!0,get:function(){return a.getAlgorithmParameters}}),Object.defineProperty(r,"getCrypto",{enumerable:!0,get:function(){return a.getCrypto}}),Object.defineProperty(r,"getEngine",{enumerable:!0,get:function(){return a.getEngine}}),Object.defineProperty(r,"getHashAlgorithm",{enumerable:!0,get:function(){return a.getHashAlgorithm}}),Object.defineProperty(r,"getOIDByAlgorithm",{enumerable:!0,get:function(){return a.getOIDByAlgorithm}}),Object.defineProperty(r,"getRandomValues",{enumerable:!0,get:function(){return a.getRandomValues}}),Object.defineProperty(r,"kdf",{enumerable:!0,get:function(){return a.kdf}}),Object.defineProperty(r,"kdfWithCounter",{enumerable:!0,get:function(){return a.kdfWithCounter}}),Object.defineProperty(r,"setEngine",{enumerable:!0,get:function(){return a.setEngine}}),Object.defineProperty(r,"stringPrep",{enumerable:!0,get:function(){return a.stringPrep}}),Object.defineProperty(r,"verifySCTsForCertificate",{enumerable:!0,get:function(){return Xe.verifySCTsForCertificate}});var a=e("./common.js"),i=it(e("./AccessDescription.js")),o=it(e("./Accuracy.js")),s=it(e("./AlgorithmIdentifier.js")),u=it(e("./AltName.js")),l=it(e("./Attribute.js")),c=it(e("./AttributeTypeAndValue.js")),f=it(e("./AuthenticatedSafe.js")),h=it(e("./AuthorityKeyIdentifier.js")),m=it(e("./BasicConstraints.js")),p=it(e("./BasicOCSPResponse.js")),d=it(e("./CRLBag.js")),y=it(e("./CRLDistributionPoints.js")),v=it(e("./CertBag.js")),g=it(e("./CertID.js")),b=it(e("./Certificate.js")),w=it(e("./CertificateChainValidationEngine.js")),k=it(e("./CertificatePolicies.js")),S=it(e("./CertificateRevocationList.js")),j=it(e("./CertificateSet.js")),P=it(e("./CertificationRequest.js")),_=it(e("./ContentInfo.js")),A=it(e("./CryptoEngine.js")),O=it(e("./DigestInfo.js")),C=it(e("./DistributionPoint.js")),I=it(e("./ECCCMSSharedInfo.js")),x=it(e("./ECPrivateKey.js")),B=it(e("./ECPublicKey.js")),E=it(e("./EncapsulatedContentInfo.js")),N=it(e("./EncryptedContentInfo.js")),V=it(e("./EncryptedData.js")),D=it(e("./EnvelopedData.js")),R=it(e("./ExtKeyUsage.js")),M=it(e("./Extension.js")),T=it(e("./Extensions.js")),K=it(e("./GeneralName.js")),L=it(e("./GeneralNames.js")),U=it(e("./GeneralSubtree.js")),q=it(e("./InfoAccess.js")),H=it(e("./IssuerAndSerialNumber.js")),W=it(e("./IssuingDistributionPoint.js")),J=it(e("./KEKIdentifier.js")),F=it(e("./KEKRecipientInfo.js")),G=it(e("./KeyAgreeRecipientIdentifier.js")),z=it(e("./KeyAgreeRecipientInfo.js")),Q=it(e("./KeyBag.js")),$=it(e("./KeyTransRecipientInfo.js")),Y=it(e("./MacData.js")),Z=it(e("./MessageImprint.js")),X=it(e("./NameConstraints.js")),ee=it(e("./OCSPRequest.js")),te=it(e("./OCSPResponse.js")),re=it(e("./OriginatorIdentifierOrKey.js")),ne=it(e("./OriginatorInfo.js")),ae=it(e("./OriginatorPublicKey.js")),ie=it(e("./OtherCertificateFormat.js")),oe=it(e("./OtherKeyAttribute.js")),se=it(e("./OtherPrimeInfo.js")),ue=it(e("./OtherRecipientInfo.js")),le=it(e("./OtherRevocationInfoFormat.js")),ce=it(e("./PBES2Params.js")),fe=it(e("./PBKDF2Params.js")),he=it(e("./PFX.js")),me=it(e("./PKCS8ShroudedKeyBag.js")),pe=it(e("./PKIStatusInfo.js")),de=it(e("./PasswordRecipientinfo.js")),ye=it(e("./PolicyConstraints.js")),ve=it(e("./PolicyInformation.js")),ge=it(e("./PolicyMapping.js")),be=it(e("./PolicyMappings.js")),we=it(e("./PolicyQualifierInfo.js")),ke=it(e("./PrivateKeyInfo.js")),Se=it(e("./PrivateKeyUsagePeriod.js")),je=it(e("./PublicKeyInfo.js")),Pe=it(e("./RSAESOAEPParams.js")),_e=it(e("./RSAPrivateKey.js")),Ae=it(e("./RSAPublicKey.js")),Oe=it(e("./RSASSAPSSParams.js")),Ce=it(e("./RecipientEncryptedKey.js")),Ie=it(e("./RecipientEncryptedKeys.js")),xe=it(e("./RecipientIdentifier.js")),Be=it(e("./RecipientInfo.js")),Ee=it(e("./RecipientKeyIdentifier.js")),Ne=it(e("./RelativeDistinguishedNames.js")),Ve=it(e("./Request.js")),De=it(e("./ResponseBytes.js")),Re=it(e("./ResponseData.js")),Me=it(e("./RevocationInfoChoices.js")),Te=it(e("./RevokedCertificate.js")),Ke=it(e("./SafeBag.js")),Le=it(e("./SafeContents.js")),Ue=it(e("./SecretBag.js")),qe=it(e("./Signature.js")),He=it(e("./SignedAndUnsignedAttributes.js")),We=it(e("./SignedData.js")),Je=it(e("./SignerInfo.js")),Fe=it(e("./SingleResponse.js")),Ge=it(e("./SubjectDirectoryAttributes.js")),ze=it(e("./TBSRequest.js")),Qe=it(e("./TSTInfo.js")),$e=it(e("./Time.js")),Ye=it(e("./TimeStampReq.js")),Ze=it(e("./TimeStampResp.js")),Xe=at(e("./SignedCertificateTimestampList.js")),et=it(e("./CertificateTemplate.js")),tt=it(e("./CAVersion.js")),rt=at(e("./QCStatements.js"));function nt(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(nt=function(e){return e?r:t})(e)}function at(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var r=nt(t);if(r&&r.has(e))return r.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,r&&r.set(e,a),a}function it(e){return e&&e.__esModule?e:{default:e}}},{"./AccessDescription.js":336,"./Accuracy.js":337,"./AlgorithmIdentifier.js":338,"./AltName.js":339,"./Attribute.js":340,"./AttributeTypeAndValue.js":343,"./AuthenticatedSafe.js":344,"./AuthorityKeyIdentifier.js":345,"./BasicConstraints.js":346,"./BasicOCSPResponse.js":347,"./CAVersion.js":348,"./CRLBag.js":349,"./CRLDistributionPoints.js":350,"./CertBag.js":351,"./CertID.js":352,"./Certificate.js":353,"./CertificateChainValidationEngine.js":354,"./CertificatePolicies.js":355,"./CertificateRevocationList.js":356,"./CertificateSet.js":357,"./CertificateTemplate.js":358,"./CertificationRequest.js":359,"./ContentInfo.js":360,"./CryptoEngine.js":361,"./DigestInfo.js":362,"./DistributionPoint.js":363,"./ECCCMSSharedInfo.js":364,"./ECPrivateKey.js":365,"./ECPublicKey.js":366,"./EncapsulatedContentInfo.js":367,"./EncryptedContentInfo.js":368,"./EncryptedData.js":369,"./EnvelopedData.js":370,"./ExtKeyUsage.js":371,"./Extension.js":372,"./Extensions.js":373,"./GeneralName.js":374,"./GeneralNames.js":375,"./GeneralSubtree.js":376,"./InfoAccess.js":377,"./IssuerAndSerialNumber.js":378,"./IssuingDistributionPoint.js":379,"./KEKIdentifier.js":380,"./KEKRecipientInfo.js":381,"./KeyAgreeRecipientIdentifier.js":382,"./KeyAgreeRecipientInfo.js":383,"./KeyBag.js":384,"./KeyTransRecipientInfo.js":385,"./MacData.js":386,"./MessageImprint.js":387,"./NameConstraints.js":388,"./OCSPRequest.js":389,"./OCSPResponse.js":390,"./OriginatorIdentifierOrKey.js":391,"./OriginatorInfo.js":392,"./OriginatorPublicKey.js":393,"./OtherCertificateFormat.js":394,"./OtherKeyAttribute.js":395,"./OtherPrimeInfo.js":396,"./OtherRecipientInfo.js":397,"./OtherRevocationInfoFormat.js":398,"./PBES2Params.js":399,"./PBKDF2Params.js":400,"./PFX.js":401,"./PKCS8ShroudedKeyBag.js":402,"./PKIStatusInfo.js":403,"./PasswordRecipientinfo.js":404,"./PolicyConstraints.js":405,"./PolicyInformation.js":406,"./PolicyMapping.js":407,"./PolicyMappings.js":408,"./PolicyQualifierInfo.js":409,"./PrivateKeyInfo.js":410,"./PrivateKeyUsagePeriod.js":411,"./PublicKeyInfo.js":412,"./QCStatements.js":413,"./RSAESOAEPParams.js":414,"./RSAPrivateKey.js":415,"./RSAPublicKey.js":416,"./RSASSAPSSParams.js":417,"./RecipientEncryptedKey.js":418,"./RecipientEncryptedKeys.js":419,"./RecipientIdentifier.js":420,"./RecipientInfo.js":421,"./RecipientKeyIdentifier.js":422,"./RelativeDistinguishedNames.js":423,"./Request.js":424,"./ResponseBytes.js":425,"./ResponseData.js":426,"./RevocationInfoChoices.js":427,"./RevokedCertificate.js":428,"./SafeBag.js":429,"./SafeContents.js":430,"./SecretBag.js":431,"./Signature.js":432,"./SignedAndUnsignedAttributes.js":433,"./SignedCertificateTimestampList.js":434,"./SignedData.js":435,"./SignerInfo.js":436,"./SingleResponse.js":437,"./SubjectDirectoryAttributes.js":438,"./TBSRequest.js":439,"./TSTInfo.js":440,"./Time.js":441,"./TimeStampReq.js":442,"./TimeStampResp.js":443,"./common.js":444}],446:[function(e,t,r){var n,a,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function u(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{a="function"==typeof clearTimeout?clearTimeout:s}catch(e){a=s}}();var l,c=[],f=!1,h=-1;function m(){f&&l&&(f=!1,l.length?c=l.concat(c):h=-1,c.length&&p())}function p(){if(!f){var e=u(m);f=!0;for(var t=c.length;t;){for(l=c,c=[];++h<t;)l&&l[h].run();h=-1,t=c.length}l=null,f=!1,function(e){if(a===clearTimeout)return clearTimeout(e);if((a===s||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(e);try{a(e)}catch(t){try{return a.call(null,e)}catch(t){return a.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function y(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new d(e,t)),1!==c.length||f||u(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=y,i.addListener=y,i.once=y,i.off=y,i.removeListener=y,i.removeAllListeners=y,i.emit=y,i.prependListener=y,i.prependOnceListener=y,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],447:[function(e,t,r){
/*!
 Copyright (c) Peculiar Ventures, LLC
*/
"use strict";function n(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==r.return||r.return()}finally{if(u)throw o}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t){var r=0;if(1===e.length)return e[0];for(var n=e.length-1;n>=0;n--)r+=e[e.length-1-n]*Math.pow(2,t*n);return r}function o(e,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,n=r,a=e,i=0,o=Math.pow(2,t),s=1;s<8;s++){if(e<o){var u=void 0;if(n<0)u=new ArrayBuffer(s),i=s;else{if(n<s)return new ArrayBuffer(0);u=new ArrayBuffer(n),i=n}for(var l=new Uint8Array(u),c=s-1;c>=0;c--){var f=Math.pow(2,c*t);l[i-c-1]=Math.floor(a/f),a-=l[i-c-1]*f}return u}o*=Math.pow(2,t)}return new ArrayBuffer(0)}Object.defineProperty(r,"__esModule",{value:!0});var s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=";var l=Math.log(2);r.arrayBufferToString=function(e){var t,r="",a=n(new Uint8Array(e));try{for(a.s();!(t=a.n()).done;){var i=t.value;r+=String.fromCharCode(i)}}catch(e){a.e(e)}finally{a.f()}return r},r.bufferToHexCodes=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.byteLength-r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o="",s=n(new Uint8Array(e,r,a));try{for(s.s();!(t=s.n()).done;){var u=t.value,l=u.toString(16).toUpperCase();1===l.length&&(o+="0"),o+=l,i&&(o+=" ")}}catch(e){s.e(e)}finally{s.f()}return o.trim()},r.checkBufferParams=function(e,t,r,n){return t instanceof ArrayBuffer?t.byteLength?r<0?(e.error="Wrong parameter: inputOffset less than zero",!1):n<0?(e.error="Wrong parameter: inputLength less than zero",!1):!(t.byteLength-r-n<0)||(e.error="End of input reached before message was fully decoded (inconsistent offset and length values)",!1):(e.error="Wrong parameter: inputBuffer has zero length",!1):(e.error='Wrong parameter: inputBuffer must be "ArrayBuffer"',!1)},r.clearProps=function(e,t){var r,a=n(t);try{for(a.s();!(r=a.n()).done;){delete e[r.value]}}catch(e){a.e(e)}finally{a.f()}},r.fromBase64=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=t?u:s;function a(e){for(var t=0;t<64;t++)if(n.charAt(t)===e)return t;return 64}function i(e){return 64===e?0:e}for(var o=0,l="";o<e.length;){var c=a(e.charAt(o++)),f=o>=e.length?0:a(e.charAt(o++)),h=o>=e.length?0:a(e.charAt(o++)),m=o>=e.length?0:a(e.charAt(o++)),p=i(c)<<2|i(f)>>4,d=(15&i(f))<<4|i(h)>>2,y=(3&i(h))<<6|i(m);l+=String.fromCharCode(p),64!==h&&(l+=String.fromCharCode(d)),64!==m&&(l+=String.fromCharCode(y))}if(r){for(var v=l.length,g=-1,b=v-1;b>=0;b--)if(0!==l.charCodeAt(b)){g=b;break}l=-1!==g?l.slice(0,g+1):""}return l},r.getParametersValue=function(e,t,r){var n;return e instanceof Object==!1?r:null!==(n=e[t])&&void 0!==n?n:r},r.getUTCDate=function(e){return new Date(e.getTime()+6e4*e.getTimezoneOffset())},r.isEqualBuffer=function(e,t){if(e.byteLength!==t.byteLength)return!1;for(var r=new Uint8Array(e),n=new Uint8Array(t),a=0;a<r.length;a++)if(r[a]!==n[a])return!1;return!0},r.nearestPowerOf2=function(e){var t=Math.log(e)/l,r=Math.floor(t),n=Math.round(t);return r===n?r:n},r.padNumber=function(e,t){var r=e.toString(10);if(t<r.length)return"";for(var n=t-r.length,a=new Array(n),i=0;i<n;i++)a[i]="0";return a.join("").concat(r)},r.stringToArrayBuffer=function(e){for(var t=e.length,r=new ArrayBuffer(t),n=new Uint8Array(r),a=0;a<t;a++)n[a]=e.charCodeAt(a);return r},r.toBase64=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=0,i=0,o=0,l="",c=t?u:s;if(n){for(var f=0,h=0;h<e.length;h++)if(0!==e.charCodeAt(h)){f=h;break}e=e.slice(f)}for(;a<e.length;){var m=e.charCodeAt(a++);a>=e.length&&(i=1);var p=e.charCodeAt(a++);a>=e.length&&(o=1);var d=e.charCodeAt(a++),y=m>>2,v=(3&m)<<4|p>>4,g=(15&p)<<2|d>>6,b=63&d;1===i?g=b=64:1===o&&(b=64),l+=r?64===g?"".concat(c.charAt(y)).concat(c.charAt(v)):64===b?"".concat(c.charAt(y)).concat(c.charAt(v)).concat(c.charAt(g)):"".concat(c.charAt(y)).concat(c.charAt(v)).concat(c.charAt(g)).concat(c.charAt(b)):"".concat(c.charAt(y)).concat(c.charAt(v)).concat(c.charAt(g)).concat(c.charAt(b))}return l},r.utilConcatBuf=function(){for(var e=0,t=0,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];for(var i=0,o=n;i<o.length;i++){var s=o[i];e+=s.byteLength}for(var u=new ArrayBuffer(e),l=new Uint8Array(u),c=0,f=n;c<f.length;c++){var h=f[c];l.set(new Uint8Array(h),t),t+=h.byteLength}return u},r.utilConcatView=function(){for(var e=0,t=0,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];for(var i=0,o=n;i<o.length;i++){var s=o[i];e+=s.length}for(var u=new ArrayBuffer(e),l=new Uint8Array(u),c=0,f=n;c<f.length;c++){var h=f[c];l.set(h,t),t+=h.length}return l},r.utilDecodeTC=function(){var e=new Uint8Array(this.valueHex);if(this.valueHex.byteLength>=2){var t=255===e[0]&&128&e[1],r=0===e[0]&&0==(128&e[1]);(t||r)&&this.warnings.push("Needlessly long format")}for(var n=new ArrayBuffer(this.valueHex.byteLength),a=new Uint8Array(n),o=0;o<this.valueHex.byteLength;o++)a[o]=0;a[0]=128&e[0];for(var s=i(a,8),u=new ArrayBuffer(this.valueHex.byteLength),l=new Uint8Array(u),c=0;c<this.valueHex.byteLength;c++)l[c]=e[c];return l[0]&=127,i(l,8)-s},r.utilEncodeTC=function(e){for(var t=e<0?-1*e:e,r=128,n=1;n<8;n++){if(t<=r){if(e<0){var a=o(r-t,8,n);return new Uint8Array(a)[0]|=128,a}var i=o(t,8,n),s=new Uint8Array(i);if(128&s[0]){var u=i.slice(0),l=new Uint8Array(u);i=new ArrayBuffer(i.byteLength+1),s=new Uint8Array(i);for(var c=0;c<u.byteLength;c++)s[c+1]=l[c];s[0]=0}return i}r*=Math.pow(2,8)}return new ArrayBuffer(0)},r.utilFromBase=i,r.utilToBase=o},{}],448:[function(e,t,r){(function(t){(function(){"use strict";e("es6-promise").polyfill(),e("console-polyfill"),t.asn1js=e("asn1js"),t.pkijs=e("pkijs")}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{asn1js:1,"console-polyfill":5,"es6-promise":335,pkijs:445}]},{},[448,2]);